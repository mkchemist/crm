(window.webpackJsonp=window.webpackJsonp||[]).push([[4],[function(t,e,s){"use strict";function a(t,e,s,a,r,n,i,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}s.d(e,"a",(function(){return a}))},function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var a=s(16),r=s.n(a),n=document.getElementById("APP_API_URL").value,i=document.getElementById("token").value,o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&");return n+t+"?api_token="+i+"&"+s},l={};r.a,l.get=function(t,e){return r.a.get(o(t,e))},l.post=function(t,e){return e=new URLSearchParams(e),r.a.post(o(t),e)}},function(t,e,s){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s.d(e,"b",(function(){return r})),s.d(e,"f",(function(){return n})),s.d(e,"g",(function(){return u})),s.d(e,"h",(function(){return p})),s.d(e,"a",(function(){return m})),s.d(e,"e",(function(){return f})),s.d(e,"d",(function(){return h})),s.d(e,"c",(function(){return _}));var r=function t(e,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=/\./gm,n=s.match(r);if(!n)return void 0!==e[s]?null===e[s]||""===e[s]?a:e[s]:a;var i=s.split("."),o=e[i[0]];if(i.shift(),null!=o){var l=i.join(".");return t(o,l,a)}return a};function n(t,e){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a={},n=function(){return!0};for(var i in"function"==typeof s&&(n=s),t){var o=t[i];if(n(o))if("string"==typeof e){var l=r(o,e);a[l]||(a[l]=[]),a[l].push(o)}else if(e instanceof Array)for(var c in e){var u=e[c];a[u]||(a[u]={});var d=r(o,u);a[u][d]||(a[u][d]=[]),a[u][d].push(o)}}return a}var i=function(t){return"string"==typeof t},o=function(t){return"object"===a(t)},l=function(t){return"number"==typeof t};function c(t,e,s,a){if(!o(t)||!o(e))throw new Error("sortBy method used with array of objects only");var r=t[s],n=e[s];if(!(i(r)||i(n)||l(r)||l(n)))throw new Error("sortBy method compare only String and Number types");i(r)&&(r=r.toUpperCase()),i(n)&&(n=n.toUpperCase());var c=0;return r>n&&(c=1*a),r<n&&(c=-1*a),c}function u(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",a=Array.from(t),r="ASC"===s.toUpperCase()?1:-1;return a.sort((function(t,s){return c(t,s,e,r)}))}function d(t,e,s){var a=0;return(t=new Date(t))>(e=new Date(e))&&(a=1*s),t<e&&(a=-1*s),a}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",s=1;"asc"!==e&&(s=-1);var a=t.sort((function(t,e){return d(t,e,s)}));return a}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download-file",s="data:application/vnd.ms-excel;base64,",a='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>',r=function(t){return window.btoa(unescape(encodeURIComponent(t)))},n=function(t,e){return t.replace(/{(\w+)}/g,(function(t,s){return e[s]}))},i={worksheet:e+".xls"||!1,table:(t=document.querySelector(t)).innerHTML},o=document.createElement("a");o.download=e+(new Date).toLocaleDateString("en-gb")+".xls",o.href=s+r(n(a,i)),o.click()}var v={start:null,end:null};function f(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,a=s.start,r=s.end;if(!a&&!r)return t;var n=t;return a&&(a=new Date(a).getTime(),n=n.filter((function(t){return new Date(t[e]).getTime()>=a}))),r&&(r=new Date(r).getTime(),n=n.filter((function(t){return new Date(t[e])<=r}))),n}function h(t,e,s){try{return null===s?t:t.filter((function(t){return t[e]===s}))}catch(t){throw new Error(t.message)}}var _=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(s.target.checked)t.includes(e)||t.push(e);else if(t.includes(e)){var a=t.indexOf(e);t.splice(a,1)}return t}},function(t,e,s){"use strict";var a=s(1),r=s(2),n={props:["heads","data","headClass","withFavorite","withUnlink","onUnlink","orderBy","notResponsive","actionCell","unselectable","id"],data:function(){return{table:null}},mounted:function(){this.createTable()},computed:{rows:function(){return this.data}},methods:{_notation:function(t,e,s){return Object(r.b)(t,e,s)},createTable:function(){var t=[{extend:"excel",text:'<i class="fa fa-file-excel"></i> Excel'},{extend:"pdf",text:'<i class="fa fa-file-pdf"></i> PDF'}];t=this.addFavoriteButton(t),t=this.addUnlinkButton(t);var e=!this.unselectable&&{style:"single"};this.table=$("#".concat(this.id?this.id:"data-table")).DataTable({order:this.ordering(),language:{searchPlaceholder:"Search..."},lengthMenu:[20,50,100],buttons:t,dom:"Bflirtp",select:e,fixedHeader:{header:!0,footer:!0}})},addFavoriteButton:function(t){var e=this;return this.withFavorite&&t.push({text:'<i class="fa fa-star"></i> Favorite',action:function(t,s,r,n){var i=e.actionCell?e.actionCell:0,o=s.row({selected:!0}).data()[i];a.a.post("customers-favorite-list",{id:o}).then((function(t){var s=t.data;s.message=s.data,e.handleResponse(s)}))}}),t},addUnlinkButton:function(t){var e=this;return this.withUnlink&&t.push({text:'<i class="fa fa-unlink"></i> unlink',action:function(t,s){var r=s.row({selected:!0}).data()[0];a.a.post("customers-favorite-list/"+r,{_method:"DELETE"}).then((function(t){var s=t.data;s.message=s.data,e.handleResponse(s,(function(t){e.onUnlink&&"function"==typeof e.onUnlink&&e.onUnlink.call()}))}))}}),t},ordering:function(){var t=this;if(!this.orderBy)return[[1,"asc"]];var e=this.orderBy,s=[];return(e=e.split("|")).forEach((function(e){var a=e.split(",");t.heads.forEach((function(t,e){if(t.title===a[0]){var r=a[1]?a[1]:"asc";s.push([e,r])}}))})),s}},destroyed:function(){this.table.destroy()}},i=s(0),o=Object(i.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.rows.length?s("table",{class:"table table-striped table-sm small bg-white "+(t.notResponsive?"":"table-responsive"),attrs:{id:t.id?t.id:"data-table"}},[s("thead",[s("tr",{class:t.headClass},[t._t("head:before"),t._v(" "),t._l(t.heads,(function(e,a){return s("th",{key:a},[t._v(t._s(e.title))])})),t._v(" "),t._t("head")],2)]),t._v(" "),s("tbody",t._l(t.rows,(function(e,a){return s("tr",{key:a},[t._t("body:before",null,{item:e}),t._v(" "),t._l(t.heads,(function(a,r){return s("td",{key:r,class:""+(a.style?a.style:"")},[t._v("\n          "+t._s(t._notation(e,a.name,a.fallback))+"\n        ")])})),t._v(" "),t._t("body",null,{item:e})],2)})),0)]):t._e()])}),[],!1,null,null,null);e.a=o.exports},function(t,e,s){"use strict";var a={props:["title","bold"]},r=s(0),n=Object(r.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[t._m(0),t._v(" "),s("p",{class:t.bold?"font-weight-bold":"text-muted"},[t._v(t._s(t.title?t.title:"No data to show"))]),t._v(" "),t._t("default")],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"fa fa-check-circle fa-4x text-success"})])}],!1,null,null,null);e.a=n.exports},,function(t,e,s){"use strict";var a=s(23),r=Object.prototype.toString;function n(t){return"[object Array]"===r.call(t)}function i(t){return void 0===t}function o(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===r.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),n(t))for(var s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:n,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!i(t)&&null!==t.constructor&&!i(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:o,isUndefined:i,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return o(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function t(){var e={};function s(s,a){"object"==typeof e[a]&&"object"==typeof s?e[a]=t(e[a],s):e[a]=s}for(var a=0,r=arguments.length;a<r;a++)c(arguments[a],s);return e},deepMerge:function t(){var e={};function s(s,a){"object"==typeof e[a]&&"object"==typeof s?e[a]=t(e[a],s):e[a]="object"==typeof s?t({},s):s}for(var a=0,r=arguments.length;a<r;a++)c(arguments[a],s);return e},extend:function(t,e,s){return c(e,(function(e,r){t[r]=s&&"function"==typeof e?a(e,s):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"c",(function(){return r})),s.d(e,"a",(function(){return n})),s.d(e,"d",(function(){return i})),s.d(e,"e",(function(){return o}));var a=[{title:"Name",name:"name"},{title:"Specialty",name:"specialty"},{title:"Title",name:"title"},{title:"Workplace",name:"workplace"},{title:"Param",name:"parameter"},{title:"Current Freq.",name:"current_freq"},{title:"Next Freq.",name:"next_freq"},{title:"Plans",name:"plans"},{title:"Visits",name:"reports"}],r=[{title:"ID",name:"id"},{title:"Area",name:"area"},{title:"Brick",name:"brick"},{title:"Name",name:"name"},{title:"Specialty",name:"specialty"},{title:"Parameters",name:"parameter"},{title:"Current Freq.",name:"current_freq"},{title:"Next Freq.",name:"next_freq"},{title:"Plans",name:"plans"},{title:"Reports",name:"reports"}],n={"Pre-call Planning":{"Review notes, call history,prescribing information and the profile for each Customer prior":"","Sets pre-call objectives per product per customer":"","Pre-plans a customized opening, prob responses for expected objection and close for the call":""},Opening:{"Results in the customer giving full and undivided attention for FSR":"","Is less than one minute":"","Applies information from pervious call":""},"Initial Probe":{"Uses direct and indirect questions to verify customer needs,concerns and buying habits":"","Selects the right questions for the customer at the proper time during the call":"","Engages customer in dialogue and understands non verbal communications skills":""},"Promotional Plan":{"Communicates product knowledge in response to customer cue":"","Delivers key product messages according to market strategy":"","Reinforce product message using references and visual":"","Uses knowledge of competitive product information to compare":""},"Handling of Objections":{"Listens actively to customer objection with no interruptions":"","Understands the type of objection and clarifies the customer need":"","Responds smartly, covers the customer need and check for understand":""},Close:{"Reviews uses information and summarizes with agreed upon points":"","Asks for action-oriented commitment":""},"Post Call Analysis":{"Analyzes new information to determine next objective":"","provides all information on time and in a legible manner":""}},i=[{title:"Product 1",name:"products.0.name"},{title:"Product 1 lader of adaption",name:"products.0.lader"},{title:"Product 1 action",name:"products.0.action"},{title:"Product 1 competitor",name:"products.0.competitor"},{title:"Product 2",name:"products.1.name"},{title:"Product 2 lader of adaption",name:"products.1.lader"},{title:"Product 2 action",name:"products.1.action"},{title:"Product 2 competitor",name:"products.1.competitor"},{title:"Product 3",name:"products.2.name"},{title:"Product 3 lader of adaption",name:"products.2.lader"},{title:"Product 3 action",name:"products.2.action"},{title:"Product 3 competitor",name:"products.2.competitor"},{title:"Product 4",name:"products.3.name"},{title:"Product 4 lader of adaption",name:"products.3.lader"},{title:"Product 4 action",name:"products.3.action"},{title:"Product 4 competitor",name:"products.3.competitor"}],o=[{title:"Product 1",name:"products.0.name"},{title:"Product 1 Rate",name:"products.0.rate"},{title:"Product 1 competitor",name:"products.0.competitor"},{title:"Product 1 competitor_rate",name:"products.0.competitor_rate"},{title:"Product 2",name:"products.1.name"},{title:"Product 2 Rate",name:"products.1.rate"},{title:"Product 2 competitor",name:"products.1.competitor"},{title:"Product 2 competitor_rate",name:"products.1.competitor_rate"},{title:"Product 3",name:"products.2.name"},{title:"Product 3 Rate",name:"products.2.rate"},{title:"Product 3 competitor",name:"products.2.competitor"},{title:"Product 3 competitor_rate",name:"products.2.competitor_rate"},{title:"Product 4",name:"products.3.name"},{title:"Product 4 Rate",name:"products.3.rate"},{title:"Product 4 competitor",name:"products.3.competitor"},{title:"Product 4 competitor_rate",name:"products.3.competitor_rate"}]},function(t,e,s){"use strict";var a={props:["show","data","centered","footer","id","headerStyle"],watch:{show:function(){var t=this,e=this.id?"#".concat(this.id):"#modal_fade",s=$(e);s.on("hide.bs.modal",(function(){t.$emit("onClose")})),!0===this.show?s.modal("show"):s.modal("hide")}},methods:{closeModal:function(){var t=this,e=this.id?"#".concat(this.id):"#modal_fade",s=$(e);s.on("hide.bs.modal",(function(){t.$emit("onClose")})),s.modal("hide")}}},r=s(0),n=Object(r.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:t.id?t.id:"modal_fade"}},[s("div",{class:"modal-dialog "+(t.centered?"modal-dialog-centered":null)},[s("div",{staticClass:"modal-content"},[s("div",{class:"modal-header  "+t.headerStyle},[t._t("header",null,{data:t.data?t.data:{}}),t._v(" "),s("button",{staticClass:"close",on:{click:t.closeModal}},[t._v("Ã—")])],2),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("body",null,{data:t.data?t.data:{}})],2),t._v(" "),t.footer?s("div",{staticClass:"modal-footer"},[t._t("footer",null,{data:t.data?t.data:{}}),t._v(" "),s("button",{staticClass:"btn btn-dark btn-sm",on:{click:t.closeModal}},[t._v("cancel")])],2):t._e()])])])}),[],!1,null,null,null);e.a=n.exports},function(t,e,s){"use strict";var a=s(2),r={props:{data:{type:Array,required:!0},onFilter:{type:Function,required:!0},onReset:{type:Function,required:!0},dateField:{type:String,required:!0}},data:function(){return{date:{from:null,to:null}}},methods:{filterDates:function(){var t=Object(a.e)(this.data,this.dateField,{start:this.date.from,end:this.date.to});this.onFilter(t)},reset:function(){this.onReset(),this.date.from=null,this.date.to=null}}},n=s(0),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"border rounded p-2 my-2"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("From")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.from,expression:"date.from"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"date_from",id:"date_from"},domProps:{value:t.date.from},on:{input:function(e){e.target.composing||t.$set(t.date,"from",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("To")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.to,expression:"date.to"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"date_from",id:"date_from"},domProps:{value:t.date.to},on:{input:function(e){e.target.composing||t.$set(t.date,"to",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.reset}},[s("span",{staticClass:"fa fa-redo"}),t._v(" "),s("span",[t._v("reset")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.filterDates}},[s("span",{staticClass:"fa fa-check-circle"}),t._v(" "),s("span",[t._v("ok")])])])])}),[],!1,null,null,null);e.a=i.exports},function(t,e,s){"use strict";var a=s(2),r={props:{users:{type:Array,required:!0},data:{type:Array,required:!0},onFilter:{type:Function,required:!0},onReset:{type:Function,required:!0},userField:{type:String}},data:function(){return{user:null}},computed:{sortedUsers:function(){return Object(a.g)(this.users,"name")}},methods:{filterUsers:function(){var t=this.userField||"user_id";if(null===user)return this.data;var e=Object(a.d)(this.data,t,this.user);this.onFilter(e)},reset:function(){this.onReset(),this.user=null}}},n=s(0),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.users.length?s("div",{staticClass:"p-2 border rounded"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("User")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.user,expression:"user"}],staticClass:"form-control form-control-sm",attrs:{name:"user",id:"user"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.user=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}},[t._v("All")]),t._v(" "),t._l(t.sortedUsers,(function(e,a){return s("option",{key:"filter_box_user_"+a,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.reset}},[s("span",{staticClass:"fa fa-redo"}),t._v(" "),s("span",[t._v("reset")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.filterUsers}},[s("span",{staticClass:"fa fa-check-circle"}),t._v(" "),s("span",[t._v("ok")])])])]):t._e()}),[],!1,null,null,null);e.a=i.exports},function(t,e,s){"use strict";var a={props:["links"]},r=s(0),n=Object(r.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-group list-group-flush sidebar-list-group"},t._l(t.links,(function(e,a){return s("router-link",{key:a,staticClass:"list-group-item list-group-item-action p-2",attrs:{to:e.link,"active-class":"active-list-item",exact:""}},[e.icon?s("span",[s("i",{class:"fa "+e.icon})]):t._e(),t._v(" "),s("span",[t._v(t._s(e.title?e.title:"Link"))])])})),1)}),[],!1,null,null,null);e.a=n.exports},function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var a=s(5),r=s.n(a),n={methods:{handleResponse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;400===t.code||204===t.code||409===t.code?Object.keys(t.data).forEach((function(e){t.data[e].forEach((function(e){r.a.toasted.show(e,{icon:"exclamation",duration:5e3,type:"error"}),s&&"function"==typeof s&&s(t)}))})):(r.a.toasted.show(t.message,{type:"success",icon:"check"}),e&&"function"==typeof e&&e(t))}}}},,function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=function(t,e){var s=t[1]||"",a=t[3];if(!a)return s;if(e&&"function"==typeof btoa){var r=(i=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),n=a.sources.map((function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"}));return[s].concat(n).concat([r]).join("\n")}var i;return[s].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+s+"}":s})).join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(a[n]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&a[i[0]]||(s&&!i[2]?i[2]=s:s&&(i[2]="("+i[2]+") and ("+s+")"),e.push(i))}},e}},function(t,e,s){var a,r,n={},i=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=a.apply(this,arguments)),r}),o=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,s){if("function"==typeof t)return t();if(void 0===e[t]){var a=o.call(this,t,s);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[t]=a}return e[t]}}(),c=null,u=0,d=[],p=s(38);function m(t,e){for(var s=0;s<t.length;s++){var a=t[s],r=n[a.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](a.parts[i]);for(;i<a.parts.length;i++)r.parts.push(b(a.parts[i],e))}else{var o=[];for(i=0;i<a.parts.length;i++)o.push(b(a.parts[i],e));n[a.id]={id:a.id,refs:1,parts:o}}}}function v(t,e){for(var s=[],a={},r=0;r<t.length;r++){var n=t[r],i=e.base?n[0]+e.base:n[0],o={css:n[1],media:n[2],sourceMap:n[3]};a[i]?a[i].parts.push(o):s.push(a[i]={id:i,parts:[o]})}return s}function f(t,e){var s=l(t.insertInto);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=d[d.length-1];if("top"===t.insertAt)a?a.nextSibling?s.insertBefore(e,a.nextSibling):s.appendChild(e):s.insertBefore(e,s.firstChild),d.push(e);else if("bottom"===t.insertAt)s.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(t.insertAt.before,s);s.insertBefore(e,r)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function _(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var a=function(){0;return s.nc}();a&&(t.attrs.nonce=a)}return y(e,t.attrs),f(t,e),e}function y(t,e){Object.keys(e).forEach((function(s){t.setAttribute(s,e[s])}))}function b(t,e){var s,a,r,n;if(e.transform&&t.css){if(!(n="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=n}if(e.singleton){var i=u++;s=c||(c=_(e)),a=w.bind(null,s,i,!1),r=w.bind(null,s,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),f(t,e),e}(e),a=k.bind(null,s,e),r=function(){h(s),s.href&&URL.revokeObjectURL(s.href)}):(s=_(e),a=x.bind(null,s),r=function(){h(s)});return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var s=v(t,e);return m(s,e),function(t){for(var a=[],r=0;r<s.length;r++){var i=s[r];(o=n[i.id]).refs--,a.push(o)}t&&m(v(t,e),e);for(r=0;r<a.length;r++){var o;if(0===(o=a[r]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete n[o.id]}}}};var g,C=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function w(t,e,s,a){var r=s?"":a.css;if(t.styleSheet)t.styleSheet.cssText=C(e,r);else{var n=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(n,i[e]):t.appendChild(n)}}function x(t,e){var s=e.css,a=e.media;if(a&&t.setAttribute("media",a),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}function k(t,e,s){var a=s.css,r=s.sourceMap,n=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||n)&&(a=p(a)),r&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([a],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}},function(t,e,s){t.exports=s(39)},function(t,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"==typeof window&&(s=window)}t.exports=s},function(t,e,s){"use strict";var a={},r=s(0),n=Object(r.a)(a,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center align-items-center flex-column",staticStyle:{"min-height":"100px"}},[e("div",{staticClass:"spinner-border text-success"}),this._v(" "),e("p",{staticClass:"my-2 small text-muted"},[this._v("loading data..")])])}],!1,null,null,null);e.a=n.exports},function(t,e){var s,a,r=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{a="function"==typeof clearTimeout?clearTimeout:i}catch(t){a=i}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&m())}function m(){if(!u){var t=o(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===i||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function f(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];c.push(new v(t,e)),1!==c.length||u||o(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,,,function(t,e,s){"use strict";t.exports=function(t,e){return function(){for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];return t.apply(e,s)}}},function(t,e,s){"use strict";var a=s(6);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,s){if(!e)return t;var n;if(s)n=s(e);else if(a.isURLSearchParams(e))n=e.toString();else{var i=[];a.forEach(e,(function(t,e){null!=t&&(a.isArray(t)?e+="[]":t=[t],a.forEach(t,(function(t){a.isDate(t)?t=t.toISOString():a.isObject(t)&&(t=JSON.stringify(t)),i.push(r(e)+"="+r(t))})))})),n=i.join("&")}if(n){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t}},function(t,e,s){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,s){"use strict";(function(e){var a=s(6),r=s(44),n={"Content-Type":"application/x-www-form-urlencoded"};function i(t,e){!a.isUndefined(t)&&a.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(o=s(27)),o),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),a.isFormData(t)||a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)?t:a.isArrayBufferView(t)?t.buffer:a.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):a.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),a.forEach(["post","put","patch"],(function(t){l.headers[t]=a.merge(n)})),t.exports=l}).call(this,s(19))},function(t,e,s){"use strict";var a=s(6),r=s(45),n=s(24),i=s(47),o=s(50),l=s(51),c=s(28);t.exports=function(t){return new Promise((function(e,u){var d=t.data,p=t.headers;a.isFormData(d)&&delete p["Content-Type"];var m=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",f=t.auth.password||"";p.Authorization="Basic "+btoa(v+":"+f)}var h=i(t.baseURL,t.url);if(m.open(t.method.toUpperCase(),n(h,t.params,t.paramsSerializer),!0),m.timeout=t.timeout,m.onreadystatechange=function(){if(m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var s="getAllResponseHeaders"in m?o(m.getAllResponseHeaders()):null,a={data:t.responseType&&"text"!==t.responseType?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:s,config:t,request:m};r(e,u,a),m=null}},m.onabort=function(){m&&(u(c("Request aborted",t,"ECONNABORTED",m)),m=null)},m.onerror=function(){u(c("Network Error",t,null,m)),m=null},m.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",m)),m=null},a.isStandardBrowserEnv()){var _=s(52),y=(t.withCredentials||l(h))&&t.xsrfCookieName?_.read(t.xsrfCookieName):void 0;y&&(p[t.xsrfHeaderName]=y)}if("setRequestHeader"in m&&a.forEach(p,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete p[e]:m.setRequestHeader(e,t)})),a.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),t.responseType)try{m.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&m.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){m&&(m.abort(),u(t),m=null)})),void 0===d&&(d=null),m.send(d)}))}},function(t,e,s){"use strict";var a=s(46);t.exports=function(t,e,s,r,n){var i=new Error(t);return a(i,e,s,r,n)}},function(t,e,s){"use strict";var a=s(6);t.exports=function(t,e){e=e||{};var s={},r=["url","method","params","data"],n=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];a.forEach(r,(function(t){void 0!==e[t]&&(s[t]=e[t])})),a.forEach(n,(function(r){a.isObject(e[r])?s[r]=a.deepMerge(t[r],e[r]):void 0!==e[r]?s[r]=e[r]:a.isObject(t[r])?s[r]=a.deepMerge(t[r]):void 0!==t[r]&&(s[r]=t[r])})),a.forEach(i,(function(a){void 0!==e[a]?s[a]=e[a]:void 0!==t[a]&&(s[a]=t[a])}));var o=r.concat(n).concat(i),l=Object.keys(e).filter((function(t){return-1===o.indexOf(t)}));return a.forEach(l,(function(a){void 0!==e[a]?s[a]=e[a]:void 0!==t[a]&&(s[a]=t[a])})),s}},function(t,e,s){"use strict";function a(t){this.message=t}a.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},a.prototype.__CANCEL__=!0,t.exports=a},function(t,e,s){t.exports=function(t){function e(a){if(s[a])return s[a].exports;var r=s[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,a){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=6)}([function(t,e,s){"use strict";function a(){l=!1}function r(t){if(t){if(t!==i){if(t.length!==u.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,s){return e!==s.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+u.length+" unique characters. These characters were not unique: "+e.join(", "));i=t,a()}}else i!==u&&(i=u,a())}function n(){return l||(l=function(){i||r(u);for(var t,e=i.split(""),s=[],a=c.nextValue();e.length>0;)a=c.nextValue(),t=Math.floor(a*e.length),s.push(e.splice(t,1)[0]);return s.join("")}())}var i,o,l,c=s(19),u="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";t.exports={get:function(){return i||u},characters:function(t){return r(t),i},seed:function(t){c.seed(t),o!==t&&(a(),o=t)},lookup:function(t){return n()[t]},shuffled:n}},function(t,e,s){"use strict";var a=s(5),r=s.n(a);e.a={animateIn:function(t){r()({targets:t,translateY:"-35px",opacity:1,duration:300,easing:"easeOutCubic"})},animateOut:function(t,e){r()({targets:t,opacity:0,marginTop:"-40px",duration:300,easing:"easeOutExpo",complete:e})},animateOutBottom:function(t,e){r()({targets:t,opacity:0,marginBottom:"-40px",duration:300,easing:"easeOutExpo",complete:e})},animateReset:function(t){r()({targets:t,left:0,opacity:1,duration:300,easing:"easeOutExpo"})},animatePanning:function(t,e,s){r()({targets:t,duration:10,easing:"easeOutQuad",left:e,opacity:s})},animatePanEnd:function(t,e){r()({targets:t,opacity:0,duration:300,easing:"easeOutExpo",complete:e})},clearAnimation:function(t){var e=r.a.timeline();t.forEach((function(t){e.add({targets:t.el,opacity:0,right:"-40px",duration:300,offset:"-=150",easing:"easeOutExpo",complete:function(){t.remove()}})}))}}},function(t,e,s){"use strict";t.exports=s(16)},function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var a=s(8),r=s(1),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=s(2);s(11).polyfill();var o=function t(e){var s=this;return this.id=i.generate(),this.options=e,this.cached_options={},this.global={},this.groups=[],this.toasts=[],this.container=null,u(this),c(this),this.group=function(e){e||(e={}),e.globalToasts||(e.globalToasts={}),Object.assign(e.globalToasts,s.global);var a=new t(e);return s.groups.push(a),a},this.register=function(t,e,a){return d(s,t,e,a=a||{})},this.show=function(t,e){return l(s,t,e)},this.success=function(t,e){return(e=e||{}).type="success",l(s,t,e)},this.info=function(t,e){return(e=e||{}).type="info",l(s,t,e)},this.error=function(t,e){return(e=e||{}).type="error",l(s,t,e)},this.remove=function(t){s.toasts=s.toasts.filter((function(e){return e.el.hash!==t.hash})),t.parentNode&&t.parentNode.removeChild(t)},this.clear=function(t){return r.a.clearAnimation(s.toasts,(function(){t&&t()})),s.toasts=[],!0},this},l=function(t,e,r){var i;if("object"!==(void 0===(r=r||{})?"undefined":n(r)))return console.error("Options should be a type of object. given : "+r),null;t.options.singleton&&t.toasts.length>0&&(t.cached_options=r,t.toasts[t.toasts.length-1].goAway(0));var o=Object.assign({},t.options);return Object.assign(o,r),i=s.i(a.a)(t,e,o),t.toasts.push(i),i},c=function(t){var e=t.options.globalToasts,s=function(e,s){return"string"==typeof s&&t[s]?t[s].apply(t,[e,{}]):l(t,e,s)};e&&(t.global={},Object.keys(e).forEach((function(a){t.global[a]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e[a].apply(null,[t,s])}})))},u=function(t){var e=document.createElement("div");e.id=t.id,e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","false"),document.body.appendChild(e),t.container=e},d=function(t,e,s,a){t.options.globalToasts||(t.options.globalToasts={}),t.options.globalToasts[e]=function(t,e){var r=null;return"string"==typeof s&&(r=s),"function"==typeof s&&(r=s(t)),e(r,a)},c(t)}},function(t,e,s){s(22);var a=s(21)(null,null,null,null);t.exports=a.exports},function(t,e,s){(function(s){var a,r,n,i={scope:{}};i.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,s){if(s.get||s.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=s.value)},i.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==s&&null!=s?s:t},i.global=i.getGlobal(this),i.SYMBOL_PREFIX="jscomp_symbol_",i.initSymbol=function(){i.initSymbol=function(){},i.global.Symbol||(i.global.Symbol=i.Symbol)},i.symbolCounter_=0,i.Symbol=function(t){return i.SYMBOL_PREFIX+(t||"")+i.symbolCounter_++},i.initSymbolIterator=function(){i.initSymbol();var t=i.global.Symbol.iterator;t||(t=i.global.Symbol.iterator=i.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&i.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return i.arrayIterator(this)}}),i.initSymbolIterator=function(){}},i.arrayIterator=function(t){var e=0;return i.iteratorPrototype((function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}))},i.iteratorPrototype=function(t){return i.initSymbolIterator(),(t={next:t})[i.global.Symbol.iterator]=function(){return this},t},i.array=i.array||{},i.iteratorFromArray=function(t,e){i.initSymbolIterator(),t instanceof String&&(t+="");var s=0,a={next:function(){if(s<t.length){var r=s++;return{value:e(r,t[r]),done:!1}}return a.next=function(){return{done:!0,value:void 0}},a.next()}};return a[Symbol.iterator]=function(){return a},a},i.polyfill=function(t,e,s,a){if(e){for(s=i.global,t=t.split("."),a=0;a<t.length-1;a++){var r=t[a];r in s||(s[r]={}),s=s[r]}(e=e(a=s[t=t[t.length-1]]))!=a&&null!=e&&i.defineProperty(s,t,{configurable:!0,writable:!0,value:e})}},i.polyfill("Array.prototype.keys",(function(t){return t||function(){return i.iteratorFromArray(this,(function(t){return t}))}}),"es6-impl","es3");var o=this;r=[],a=function(){function t(t){if(!R.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var s=t.length,a=2<=arguments.length?arguments[1]:void 0,r=[],n=0;n<s;n++)if(n in t){var i=t[n];e.call(a,i,n,t)&&r.push(i)}return r}function s(t){return t.reduce((function(t,e){return t.concat(R.arr(e)?s(e):e)}),[])}function a(e){return R.arr(e)?e:(R.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some((function(t){return t===e}))}function n(t){var e,s={};for(e in t)s[e]=t[e];return s}function i(t,e){var s,a=n(t);for(s in t)a[s]=e.hasOwnProperty(s)?e[s]:t[s];return a}function l(t,e){var s,a=n(t);for(s in e)a[s]=R.und(t[s])?e[s]:t[s];return a}function c(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function u(t,e){return R.fnc(t)?t(e.target,e.id,e.total):t}function d(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function p(t,e){return R.dom(t)&&r(T,e)?"transform":R.dom(t)&&(t.getAttribute(e)||R.svg(t)&&t[e])?"attribute":R.dom(t)&&"transform"!==e&&d(t,e)?"css":null!=t[e]?"object":void 0}function m(t,s){var a=function(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}(s);if(a=-1<s.indexOf("scale")?1:0+a,!(t=t.style.transform))return a;for(var r=[],n=[],i=[],o=/(\w+)\((.+?)\)/g;r=o.exec(t);)n.push(r[1]),i.push(r[2]);return(t=e(i,(function(t,e){return n[e]===s}))).length?t[0]:a}function v(t,e){switch(p(t,e)){case"transform":return m(t,e);case"css":return d(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0}function f(t,e){var s=/^(\*=|\+=|-=)/.exec(t);if(!s)return t;var a=c(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(s[0],"")),s[0][0]){case"+":return e+t+a;case"-":return e-t+a;case"*":return e*t+a}}function h(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _(t){t=t.points;for(var e,s=0,a=0;a<t.numberOfItems;a++){var r=t.getItem(a);0<a&&(s+=h(e,r)),e=r}return s}function y(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return h({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return _(t);case"polygon":var e=t.points;return _(t)+h(e.getItem(e.numberOfItems-1),e.getItem(0))}}function b(t,e){function s(s){return s=void 0===s?0:s,t.el.getPointAtLength(1<=e+s?e+s:0)}var a=s(),r=s(-1),n=s(1);switch(t.property){case"x":return a.x;case"y":return a.y;case"angle":return 180*Math.atan2(n.y-r.y,n.x-r.x)/Math.PI}}function g(t,e){var s,a=/-?\d*\.?\d+/g;if(s=R.pth(t)?t.totalLength:t,R.col(s))if(R.rgb(s)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(s);s=r?"rgba("+r[1]+",1)":s}else s=R.hex(s)?function(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,s,a){return e+e+s+s+a+a}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+(t=parseInt(e[1],16))+","+parseInt(e[2],16)+","+(e=parseInt(e[3],16))+",1)"}(s):R.hsl(s)?function(t){function e(t,e,s){return 0>s&&(s+=1),1<s&&--s,s<1/6?t+6*(e-t)*s:.5>s?e:s<2/3?t+(e-t)*(2/3-s)*6:t}var s=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(s[1])/360;var a=parseInt(s[2])/100,r=parseInt(s[3])/100;if(s=s[4]||1,0==a)r=a=t=r;else{var n=.5>r?r*(1+a):r+a-r*a,i=2*r-n;r=e(i,n,t+1/3),a=e(i,n,t),t=e(i,n,t-1/3)}return"rgba("+255*r+","+255*a+","+255*t+","+s+")"}(s):void 0;else r=(r=c(s))?s.substr(0,s.length-r.length):s,s=e&&!/\s/g.test(s)?r+e:r;return{original:s+="",numbers:s.match(a)?s.match(a).map(Number):[0],strings:R.str(t)||e?s.split(a):[]}}function C(t){return e(t=t?s(R.arr(t)?t.map(a):a(t)):[],(function(t,e,s){return s.indexOf(t)===e}))}function w(t,e){var s=n(e);if(R.arr(t)){var r=t.length;2!==r||R.obj(t[0])?R.fnc(e.duration)||(s.duration=e.duration/r):t={value:t}}return a(t).map((function(t,s){return s=s?0:e.delay,t=R.obj(t)&&!R.pth(t)?t:{value:t},R.und(t.delay)&&(t.delay=s),t})).map((function(t){return l(t,s)}))}function x(t,e){var s;return t.tweens.map((function(a){var r=(a=function(t,e){var s,a={};for(s in t){var r=u(t[s],e);R.arr(r)&&1===(r=r.map((function(t){return u(t,e)}))).length&&(r=r[0]),a[s]=r}return a.duration=parseFloat(a.duration),a.delay=parseFloat(a.delay),a}(a,e)).value,n=v(e.target,t.name),i=s?s.to.original:n,o=(i=R.arr(r)?r[0]:i,f(R.arr(r)?r[1]:r,i));return n=c(o)||c(i)||c(n),a.from=g(i,n),a.to=g(o,n),a.start=s?s.end:t.offset,a.end=a.start+a.delay+a.duration,a.easing=function(t){return R.arr(t)?N.apply(this,t):F[t]}(a.easing),a.elasticity=(1e3-Math.min(Math.max(a.elasticity,1),999))/1e3,a.isPath=R.pth(r),a.isColor=R.col(a.from.original),a.isColor&&(a.round=1),s=a}))}function k(t,a){return e(s(t.map((function(t){return a.map((function(e){var s=p(t.target,e.name);if(s){var a=x(e,t);e={type:s,property:e.name,animatable:t,tweens:a,duration:a[a.length-1].end,delay:a[0].delay}}else e=void 0;return e}))}))),(function(t){return!R.und(t)}))}function P(t,e,s,a){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map((function(e){return e[t]}))):r?a.delay:s.offset+a.delay+a.duration}function S(t){var e,s=i(O,t),a=i(A,t),r=function(t){var e=C(t);return e.map((function(t,s){return{target:t,id:s,total:e.length}}))}(t.targets),n=[],o=l(s,a);for(e in t)o.hasOwnProperty(e)||"targets"===e||n.push({name:e,offset:o.offset,tweens:w(t[e],a)});return l(s,{children:[],animatables:r,animations:t=k(r,n),duration:P("duration",t,s,a),delay:P("delay",t,s,a)})}function $(t){function s(){return window.Promise&&new Promise((function(t){return p=t}))}function a(t){return v.reversed?v.duration-t:t}function r(t){for(var s=0,a={},r=v.animations,n=r.length;s<n;){var i=r[s],o=i.animatable,l=(c=i.tweens)[m=c.length-1];m&&(l=e(c,(function(e){return t<e.end}))[0]||l);for(var c=Math.min(Math.max(t-l.start-l.delay,0),l.duration)/l.duration,u=isNaN(c)?1:l.easing(c,l.elasticity),p=(c=l.to.strings,l.round),m=[],f=void 0,h=(f=l.to.numbers.length,0);h<f;h++){var _=void 0,y=(_=l.to.numbers[h],l.from.numbers[h]);_=l.isPath?b(l.value,u*_):y+u*(_-y),p&&(l.isColor&&2<h||(_=Math.round(_*p)/p)),m.push(_)}if(l=c.length)for(f=c[0],u=0;u<l;u++)p=c[u+1],h=m[u],isNaN(h)||(f=p?f+(h+p):f+(h+" "));else f=m[0];j[i.type](o.target,i.property,f,a,o.id),i.currentValue=f,s++}if(s=Object.keys(a).length)for(r=0;r<s;r++)E||(E=d(document.body,"transform")?"transform":"-webkit-transform"),v.animatables[r].target.style[E]=a[r].join(" ");v.currentTime=t,v.progress=t/v.duration*100}function n(t){v[t]&&v[t](v)}function i(){v.remaining&&!0!==v.remaining&&v.remaining--}function o(t){var e=v.duration,o=v.offset,d=o+v.delay,f=v.currentTime,h=v.reversed,_=a(t);if(v.children.length){var y=v.children,b=y.length;if(_>=v.currentTime)for(var g=0;g<b;g++)y[g].seek(_);else for(;b--;)y[b].seek(_)}(_>=d||!e)&&(v.began||(v.began=!0,n("begin")),n("run")),_>o&&_<e?r(_):(_<=o&&0!==f&&(r(0),h&&i()),(_>=e&&f!==e||!e)&&(r(e),h||i())),n("update"),t>=e&&(v.remaining?(c=l,"alternate"===v.direction&&(v.reversed=!v.reversed)):(v.pause(),v.completed||(v.completed=!0,n("complete"),"Promise"in window&&(p(),m=s()))),u=0)}t=void 0===t?{}:t;var l,c,u=0,p=null,m=s(),v=S(t);return v.reset=function(){var t=v.direction,e=v.loop;for(v.currentTime=0,v.progress=0,v.paused=!0,v.began=!1,v.completed=!1,v.reversed="reverse"===t,v.remaining="alternate"===t&&1===e?2:e,r(0),t=v.children.length;t--;)v.children[t].reset()},v.tick=function(t){l=t,c||(c=l),o((u+l-c)*$.speed)},v.seek=function(t){o(a(t))},v.pause=function(){var t=D.indexOf(v);-1<t&&D.splice(t,1),v.paused=!0},v.play=function(){v.paused&&(v.paused=!1,c=0,u=a(v.currentTime),D.push(v),q||M())},v.reverse=function(){v.reversed=!v.reversed,c=0,u=a(v.currentTime)},v.restart=function(){v.pause(),v.reset(),v.play()},v.finished=m,v.reset(),v.autoplay&&v.play(),v}var E,O={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},A={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},T="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),R={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return R.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||R.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return R.hex(t)||R.rgb(t)||R.hsl(t)}},N=function(){function t(t,e,s){return(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t}return function(e,s,a,r){if(0<=e&&1>=e&&0<=a&&1>=a){var n=new Float32Array(11);if(e!==s||a!==r)for(var i=0;11>i;++i)n[i]=t(.1*i,e,a);return function(i){if(e===s&&a===r)return i;if(0===i)return 0;if(1===i)return 1;for(var o=0,l=1;10!==l&&n[l]<=i;++l)o+=.1;--l,l=o+(i-n[l])/(n[l+1]-n[l])*.1;var c=3*(1-3*a+3*e)*l*l+2*(3*a-6*e)*l+3*e;if(.001<=c){for(o=0;4>o&&0!=(c=3*(1-3*a+3*e)*l*l+2*(3*a-6*e)*l+3*e);++o){var u=t(l,e,a)-i;l-=u/c}i=l}else if(0===c)i=l;else{l=o,o+=.1;var d=0;do{0<(c=t(u=l+(o-l)/2,e,a)-i)?o=u:l=u}while(1e-7<Math.abs(c)&&10>++d);i=u}return t(i,s,r)}}}}(),F=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,s="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),a={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,s){return 1-t(1-e,s)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,s){return.5>e?t(2*e,s)/2:1-t(-2*e+2,s)/2}]},r={linear:N(.25,.25,.75,.75)},n={};for(e in a)n.type=e,a[n.type].forEach(function(t){return function(e,a){r["ease"+t.type+s[a]]=R.fnc(e)?e:N.apply(o,e)}}(n)),n={type:n.type};return r}(),j={css:function(t,e,s){return t.style[e]=s},attribute:function(t,e,s){return t.setAttribute(e,s)},object:function(t,e,s){return t[e]=s},transform:function(t,e,s,a,r){a[r]||(a[r]=[]),a[r].push(e+"("+s+")")}},D=[],q=0,M=function(){function t(){q=requestAnimationFrame(e)}function e(e){var s=D.length;if(s){for(var a=0;a<s;)D[a]&&D[a].tick(e),a++;t()}else cancelAnimationFrame(q),q=0}return t}();return $.version="2.2.0",$.speed=1,$.running=D,$.remove=function(t){t=C(t);for(var e=D.length;e--;)for(var s=D[e],a=s.animations,n=a.length;n--;)r(t,a[n].animatable.target)&&(a.splice(n,1),a.length||s.pause())},$.getValue=v,$.path=function(e,s){var a=R.str(e)?t(e)[0]:e,r=s||100;return function(t){return{el:a,property:t,totalLength:y(a)*(r/100)}}},$.setDashoffset=function(t){var e=y(t);return t.setAttribute("stroke-dasharray",e),e},$.bezier=N,$.easings=F,$.timeline=function(t){var e=$(t);return e.pause(),e.duration=0,e.add=function(s){return e.children.forEach((function(t){t.began=!0,t.completed=!0})),a(s).forEach((function(s){var a=l(s,i(A,t||{}));a.targets=a.targets||t.targets,s=e.duration;var r=a.offset;a.autoplay=!1,a.direction=e.direction,a.offset=R.und(r)?s:f(r,s),e.began=!0,e.completed=!0,e.seek(a.offset),(a=$(a)).began=!0,a.completed=!0,a.duration>s&&(e.duration=a.duration),e.children.push(a)})),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},$.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},$},void 0!==(n="function"==typeof a?a.apply(e,r):a)&&(t.exports=n)}).call(e,s(25))},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(3),r=s(4),n=s.n(r),i={install:function(t,e){e||(e={});var s=new a.a(e);t.component("toasted",n.a),t.toasted=t.prototype.$toasted=s}};"undefined"!=typeof window&&window.Vue&&(window.Toasted=i),e.default=i},function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s(1),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,s){return setTimeout((function(){s.cached_options.position&&s.cached_options.position.includes("bottom")?a.a.animateOutBottom(t,(function(){s.remove(t)})):a.a.animateOut(t,(function(){s.remove(t)}))}),e),!0},i=function(t,e){var s=!1;return{el:t,text:function(e){return function(t,e){("object"===("undefined"==typeof HTMLElement?"undefined":r(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":r(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName)?t.appendChild(e):t.innerHTML=e}(t,e),this},goAway:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800;return s=!0,n(t,a,e)},remove:function(){e.remove(t)},disposed:function(){return s}}}},function(t,e,s){"use strict";var a=s(12),r=s.n(a),n=s(1),i=s(7),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=s(2);String.prototype.includes||Object.defineProperty(String.prototype,"includes",{value:function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}});var c={},u=null,d=function(t){return t.className=t.className||null,t.onComplete=t.onComplete||null,t.position=t.position||"top-right",t.duration=t.duration||null,t.keepOnHover=t.keepOnHover||!1,t.theme=t.theme||"toasted-primary",t.type=t.type||"default",t.containerClass=t.containerClass||null,t.fullWidth=t.fullWidth||!1,t.icon=t.icon||null,t.action=t.action||null,t.fitToScreen=t.fitToScreen||null,t.closeOnSwipe=void 0===t.closeOnSwipe||t.closeOnSwipe,t.iconPack=t.iconPack||"material",t.className&&"string"==typeof t.className&&(t.className=t.className.split(" ")),t.className||(t.className=[]),t.theme&&t.className.push(t.theme.trim()),t.type&&t.className.push(t.type),t.containerClass&&"string"==typeof t.containerClass&&(t.containerClass=t.containerClass.split(" ")),t.containerClass||(t.containerClass=[]),t.position&&t.containerClass.push(t.position.trim()),t.fullWidth&&t.containerClass.push("full-width"),t.fitToScreen&&t.containerClass.push("fit-to-screen"),c=t,t},p=function(t,e){var a=document.createElement("div");if(a.classList.add("toasted"),a.hash=l.generate(),e.className&&e.className.forEach((function(t){a.classList.add(t)})),("object"===("undefined"==typeof HTMLElement?"undefined":o(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":o(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)?a.appendChild(t):a.innerHTML=t,m(e,a),e.closeOnSwipe){var c=new r.a(a,{prevent_default:!1});c.on("pan",(function(t){var e=t.deltaX;a.classList.contains("panning")||a.classList.add("panning");var s=1-Math.abs(e/80);s<0&&(s=0),n.a.animatePanning(a,e,s)})),c.on("panend",(function(t){var s=t.deltaX;Math.abs(s)>80?n.a.animatePanEnd(a,(function(){"function"==typeof e.onComplete&&e.onComplete(),a.parentNode&&u.remove(a)})):(a.classList.remove("panning"),n.a.animateReset(a))}))}if(Array.isArray(e.action))e.action.forEach((function(t){var e=f(t,s.i(i.a)(a,u));e&&a.appendChild(e)}));else if("object"===o(e.action)){var d=f(e.action,s.i(i.a)(a,u));d&&a.appendChild(d)}return a},m=function(t,e){if(t.icon){var s=document.createElement("i");switch(s.setAttribute("aria-hidden","true"),t.iconPack){case"fontawesome":s.classList.add("fa");var a=t.icon.name?t.icon.name:t.icon;a.includes("fa-")?s.classList.add(a.trim()):s.classList.add("fa-"+a.trim());break;case"mdi":s.classList.add("mdi");var r=t.icon.name?t.icon.name:t.icon;r.includes("mdi-")?s.classList.add(r.trim()):s.classList.add("mdi-"+r.trim());break;case"custom-class":var n=t.icon.name?t.icon.name:t.icon;"string"==typeof n?n.split(" ").forEach((function(t){s.classList.add(t)})):Array.isArray(n)&&n.forEach((function(t){s.classList.add(t.trim())}));break;case"callback":var i=t.icon&&t.icon instanceof Function?t.icon:null;i&&(s=i(s));break;default:s.classList.add("material-icons"),s.textContent=t.icon.name?t.icon.name:t.icon}t.icon.after&&s.classList.add("after"),v(t,s,e)}},v=function(t,e,s){t.icon&&(t.icon.after&&t.icon.name?s.appendChild(e):(t.icon.name,s.insertBefore(e,s.firstChild)))},f=function(t,e){if(!t)return null;var s=document.createElement("a");if(s.classList.add("action"),s.classList.add("ripple"),t.text&&(s.text=t.text),t.href&&(s.href=t.href),t.target&&(s.target=t.target),t.icon){s.classList.add("icon");var a=document.createElement("i");switch(c.iconPack){case"fontawesome":a.classList.add("fa"),t.icon.includes("fa-")?a.classList.add(t.icon.trim()):a.classList.add("fa-"+t.icon.trim());break;case"mdi":a.classList.add("mdi"),t.icon.includes("mdi-")?a.classList.add(t.icon.trim()):a.classList.add("mdi-"+t.icon.trim());break;case"custom-class":"string"==typeof t.icon?t.icon.split(" ").forEach((function(t){s.classList.add(t)})):Array.isArray(t.icon)&&t.icon.forEach((function(t){s.classList.add(t.trim())}));break;default:a.classList.add("material-icons"),a.textContent=t.icon}s.appendChild(a)}return t.class&&("string"==typeof t.class?t.class.split(" ").forEach((function(t){s.classList.add(t)})):Array.isArray(t.class)&&t.class.forEach((function(t){s.classList.add(t.trim())}))),t.push&&s.addEventListener("click",(function(s){s.preventDefault(),c.router?(c.router.push(t.push),t.push.dontClose||e.goAway(0)):console.warn("[vue-toasted] : Vue Router instance is not attached. please check the docs")})),t.onClick&&"function"==typeof t.onClick&&s.addEventListener("click",(function(s){t.onClick&&(s.preventDefault(),t.onClick(s,e))})),s};e.a=function(t,e,a){u=t,a=d(a);var r=u.container;a.containerClass.unshift("toasted-container"),r.className!==a.containerClass.join(" ")&&(r.className="",a.containerClass.forEach((function(t){r.classList.add(t)})));var o=p(e,a);e&&r.appendChild(o),o.style.opacity=0,n.a.animateIn(o);var l=a.duration,c=void 0;if(null!==l){var m=function(){return setInterval((function(){null===o.parentNode&&window.clearInterval(c),o.classList.contains("panning")||(l-=20),l<=0&&(n.a.animateOut(o,(function(){"function"==typeof a.onComplete&&a.onComplete(),o.parentNode&&u.remove(o)})),window.clearInterval(c))}),20)};c=m(),a.keepOnHover&&(o.addEventListener("mouseover",(function(){window.clearInterval(c)})),o.addEventListener("mouseout",(function(){c=m()})))}return s.i(i.a)(o,u)}},function(t,e,s){(t.exports=s(10)()).push([t.i,".toasted{padding:0 20px}.toasted.rounded{border-radius:24px}.toasted .primary,.toasted.toasted-primary{border-radius:2px;min-height:38px;line-height:1.1em;background-color:#353535;padding:6px 20px;font-size:15px;font-weight:300;color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.toasted .primary.success,.toasted.toasted-primary.success{background:#4caf50}.toasted .primary.error,.toasted.toasted-primary.error{background:#f44336}.toasted .primary.info,.toasted.toasted-primary.info{background:#3f51b5}.toasted .primary .action,.toasted.toasted-primary .action{color:#a1c2fa}.toasted.bubble{border-radius:30px;min-height:38px;line-height:1.1em;background-color:#ff7043;padding:0 20px;font-size:15px;font-weight:300;color:#fff;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24)}.toasted.bubble.success{background:#4caf50}.toasted.bubble.error{background:#f44336}.toasted.bubble.info{background:#3f51b5}.toasted.bubble .action{color:#8e2b0c}.toasted.outline{border-radius:30px;min-height:38px;line-height:1.1em;background-color:#fff;border:1px solid #676767;padding:0 20px;font-size:15px;color:#676767;box-shadow:0 1px 3px rgba(0,0,0,.12),0 1px 2px rgba(0,0,0,.24);font-weight:700}.toasted.outline.success{color:#4caf50;border-color:#4caf50}.toasted.outline.error{color:#f44336;border-color:#f44336}.toasted.outline.info{color:#3f51b5;border-color:#3f51b5}.toasted.outline .action{color:#607d8b}.toasted-container{position:fixed;z-index:10000}.toasted-container,.toasted-container.full-width{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.toasted-container.full-width{max-width:86%;width:100%}.toasted-container.full-width.fit-to-screen{min-width:100%}.toasted-container.full-width.fit-to-screen .toasted:first-child{margin-top:0}.toasted-container.full-width.fit-to-screen.top-right{top:0;right:0}.toasted-container.full-width.fit-to-screen.top-left{top:0;left:0}.toasted-container.full-width.fit-to-screen.top-center{top:0;left:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.full-width.fit-to-screen.bottom-right{right:0;bottom:0}.toasted-container.full-width.fit-to-screen.bottom-left{left:0;bottom:0}.toasted-container.full-width.fit-to-screen.bottom-center{left:0;bottom:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.top-right{top:10%;right:7%}.toasted-container.top-left{top:10%;left:7%}.toasted-container.top-center{top:10%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.toasted-container.bottom-right{right:5%;bottom:7%}.toasted-container.bottom-left{left:5%;bottom:7%}.toasted-container.bottom-center{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);bottom:7%}.toasted-container.bottom-left .toasted,.toasted-container.top-left .toasted{float:left}.toasted-container.bottom-right .toasted,.toasted-container.top-right .toasted{float:right}.toasted-container .toasted{top:35px;width:auto;clear:both;margin-top:10px;position:relative;max-width:100%;height:auto;word-break:normal;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;box-sizing:inherit}.toasted-container .toasted .fa,.toasted-container .toasted .fab,.toasted-container .toasted .far,.toasted-container .toasted .fas,.toasted-container .toasted .material-icons,.toasted-container .toasted .mdi{margin-right:.5rem;margin-left:-.4rem}.toasted-container .toasted .fa.after,.toasted-container .toasted .fab.after,.toasted-container .toasted .far.after,.toasted-container .toasted .fas.after,.toasted-container .toasted .material-icons.after,.toasted-container .toasted .mdi.after{margin-left:.5rem;margin-right:-.4rem}.toasted-container .toasted .action{text-decoration:none;font-size:.8rem;padding:8px;margin:5px -7px 5px 7px;border-radius:3px;text-transform:uppercase;letter-spacing:.03em;font-weight:600;cursor:pointer}.toasted-container .toasted .action.icon{padding:4px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.toasted-container .toasted .action.icon .fa,.toasted-container .toasted .action.icon .material-icons,.toasted-container .toasted .action.icon .mdi{margin-right:0;margin-left:4px}.toasted-container .toasted .action.icon:hover{text-decoration:none}.toasted-container .toasted .action:hover{text-decoration:underline}@media only screen and (max-width:600px){.toasted-container{min-width:100%}.toasted-container .toasted:first-child{margin-top:0}.toasted-container.top-right{top:0;right:0}.toasted-container.top-left{top:0;left:0}.toasted-container.top-center{top:0;left:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.bottom-right{right:0;bottom:0}.toasted-container.bottom-left{left:0;bottom:0}.toasted-container.bottom-center{left:0;bottom:0;-webkit-transform:translateX(0);transform:translateX(0)}.toasted-container.bottom-center,.toasted-container.top-center{-ms-flex-align:stretch!important;align-items:stretch!important}.toasted-container.bottom-left .toasted,.toasted-container.bottom-right .toasted,.toasted-container.top-left .toasted,.toasted-container.top-right .toasted{float:none}.toasted-container .toasted{border-radius:0}}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var s=this[e];s[2]?t.push("@media "+s[2]+"{"+s[1]+"}"):t.push(s[1])}return t.join("")},t.i=function(e,s){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(a[n]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&a[i[0]]||(s&&!i[2]?i[2]=s:s&&(i[2]="("+i[2]+") and ("+s+")"),t.push(i))}},t}},function(t,e,s){"use strict";function a(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var s=Object(t),a=1;a<arguments.length;a++){var r=arguments[a];if(null!=r)for(var n=Object.keys(Object(r)),i=0,o=n.length;i<o;i++){var l=n[i],c=Object.getOwnPropertyDescriptor(r,l);void 0!==c&&c.enumerable&&(s[l]=r[l])}}return s}t.exports={assign:a,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:a})}}},function(t,e,s){var a;!function(r,n,i,o){"use strict";function l(t,e,s){return setTimeout(m(t,s),e)}function c(t,e,s){return!!Array.isArray(t)&&(u(t,s[e],s),!0)}function u(t,e,s){var a;if(t)if(t.forEach)t.forEach(e,s);else if(t.length!==o)for(a=0;a<t.length;)e.call(s,t[a],a,t),a++;else for(a in t)t.hasOwnProperty(a)&&e.call(s,t[a],a,t)}function d(t,e,s){var a="DEPRECATED METHOD: "+e+"\n"+s+" AT \n";return function(){var e=new Error("get-stack-trace"),s=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=r.console&&(r.console.warn||r.console.log);return n&&n.call(r.console,a,s),t.apply(this,arguments)}}function p(t,e,s){var a,r=e.prototype;(a=t.prototype=Object.create(r)).constructor=t,a._super=r,s&&it(a,s)}function m(t,e){return function(){return t.apply(e,arguments)}}function v(t,e){return typeof t==ct?t.apply(e&&e[0]||o,e):t}function f(t,e){return t===o?e:t}function h(t,e,s){u(g(e),(function(e){t.addEventListener(e,s,!1)}))}function _(t,e,s){u(g(e),(function(e){t.removeEventListener(e,s,!1)}))}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function C(t,e,s){if(t.indexOf&&!s)return t.indexOf(e);for(var a=0;a<t.length;){if(s&&t[a][s]==e||!s&&t[a]===e)return a;a++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function x(t,e,s){for(var a=[],r=[],n=0;n<t.length;){var i=e?t[n][e]:t[n];C(r,i)<0&&a.push(t[n]),r[n]=i,n++}return s&&(a=e?a.sort((function(t,s){return t[e]>s[e]})):a.sort()),a}function k(t,e){for(var s,a,r=e[0].toUpperCase()+e.slice(1),n=0;n<ot.length;){if((a=(s=ot[n])?s+r:e)in t)return a;n++}return o}function P(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function S(t,e){var s=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){v(t.options.enable,[t])&&s.handler(e)},this.init()}function $(t,e,s){var a=s.pointers.length,r=s.changedPointers.length,n=e&gt&&a-r==0,i=e&(wt|xt)&&a-r==0;s.isFirst=!!n,s.isFinal=!!i,n&&(t.session={}),s.eventType=e,function(t,e){var s=t.session,a=e.pointers,r=a.length;s.firstInput||(s.firstInput=O(e)),r>1&&!s.firstMultiple?s.firstMultiple=O(e):1===r&&(s.firstMultiple=!1);var n=s.firstInput,i=s.firstMultiple,o=i?i.center:n.center,l=e.center=A(a);e.timeStamp=pt(),e.deltaTime=e.timeStamp-n.timeStamp,e.angle=F(o,l),e.distance=N(o,l),function(t,e){var s=e.center,a=t.offsetDelta||{},r=t.prevDelta||{},n=t.prevInput||{};e.eventType!==gt&&n.eventType!==wt||(r=t.prevDelta={x:n.deltaX||0,y:n.deltaY||0},a=t.offsetDelta={x:s.x,y:s.y}),e.deltaX=r.x+(s.x-a.x),e.deltaY=r.y+(s.y-a.y)}(s,e),e.offsetDirection=R(e.deltaX,e.deltaY);var c=T(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=dt(c.x)>dt(c.y)?c.x:c.y,e.scale=i?function(t,e){return N(e[0],e[1],Nt)/N(t[0],t[1],Nt)}(i.pointers,a):1,e.rotation=i?function(t,e){return F(e[1],e[0],Nt)+F(t[1],t[0],Nt)}(i.pointers,a):0,e.maxPointers=s.prevInput?e.pointers.length>s.prevInput.maxPointers?e.pointers.length:s.prevInput.maxPointers:e.pointers.length,E(s,e);var u=t.element;y(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}(t,s),t.emit("hammer.input",s),t.recognize(s),t.session.prevInput=s}function E(t,e){var s,a,r,n,i=t.lastInterval||e,l=e.timeStamp-i.timeStamp;if(e.eventType!=xt&&(l>bt||i.velocity===o)){var c=e.deltaX-i.deltaX,u=e.deltaY-i.deltaY,d=T(l,c,u);a=d.x,r=d.y,s=dt(d.x)>dt(d.y)?d.x:d.y,n=R(c,u),t.lastInterval=e}else s=i.velocity,a=i.velocityX,r=i.velocityY,n=i.direction;e.velocity=s,e.velocityX=a,e.velocityY=r,e.direction=n}function O(t){for(var e=[],s=0;s<t.pointers.length;)e[s]={clientX:ut(t.pointers[s].clientX),clientY:ut(t.pointers[s].clientY)},s++;return{timeStamp:pt(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:ut(t[0].clientX),y:ut(t[0].clientY)};for(var s=0,a=0,r=0;r<e;)s+=t[r].clientX,a+=t[r].clientY,r++;return{x:ut(s/e),y:ut(a/e)}}function T(t,e,s){return{x:e/t||0,y:s/t||0}}function R(t,e){return t===e?kt:dt(t)>=dt(e)?t<0?Pt:St:e<0?$t:Et}function N(t,e,s){s||(s=Rt);var a=e[s[0]]-t[s[0]],r=e[s[1]]-t[s[1]];return Math.sqrt(a*a+r*r)}function F(t,e,s){s||(s=Rt);var a=e[s[0]]-t[s[0]],r=e[s[1]]-t[s[1]];return 180*Math.atan2(r,a)/Math.PI}function j(){this.evEl=jt,this.evWin=Dt,this.pressed=!1,S.apply(this,arguments)}function D(){this.evEl=It,this.evWin=Lt,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function q(){this.evTarget=Ut,this.evWin=Bt,this.started=!1,S.apply(this,arguments)}function M(t,e){var s=w(t.touches),a=w(t.changedTouches);return e&(wt|xt)&&(s=x(s.concat(a),"identifier",!0)),[s,a]}function I(){this.evTarget=Yt,this.targetIds={},S.apply(this,arguments)}function L(t,e){var s=w(t.touches),a=this.targetIds;if(e&(gt|Ct)&&1===s.length)return a[s[0].identifier]=!0,[s,s];var r,n,i=w(t.changedTouches),o=[],l=this.target;if(n=s.filter((function(t){return y(t.target,l)})),e===gt)for(r=0;r<n.length;)a[n[r].identifier]=!0,r++;for(r=0;r<i.length;)a[i[r].identifier]&&o.push(i[r]),e&(wt|xt)&&delete a[i[r].identifier],r++;return o.length?[x(n.concat(o),"identifier",!0),o]:void 0}function V(){S.apply(this,arguments);var t=m(this.handler,this);this.touch=new I(this.manager,t),this.mouse=new j(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function U(t,e){t&gt?(this.primaryTouch=e.changedPointers[0].identifier,B.call(this,e)):t&(wt|xt)&&B.call(this,e)}function B(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var s={x:e.clientX,y:e.clientY};this.lastTouches.push(s);var a=this.lastTouches;setTimeout((function(){var t=a.indexOf(s);t>-1&&a.splice(t,1)}),Gt)}}function W(t){for(var e=t.srcEvent.clientX,s=t.srcEvent.clientY,a=0;a<this.lastTouches.length;a++){var r=this.lastTouches[a],n=Math.abs(e-r.x),i=Math.abs(s-r.y);if(n<=Ht&&i<=Ht)return!0}return!1}function Y(t,e){this.manager=t,this.set(e)}function G(t){this.options=it({},this.defaults,t||{}),this.id=ft++,this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=se,this.simultaneous={},this.requireFail=[]}function H(t){return t&oe?"cancel":t&ne?"end":t&re?"move":t&ae?"start":""}function X(t){return t==Et?"down":t==$t?"up":t==Pt?"left":t==St?"right":""}function z(t,e){var s=e.manager;return s?s.get(t):t}function J(){G.apply(this,arguments)}function K(){J.apply(this,arguments),this.pX=null,this.pY=null}function Q(){J.apply(this,arguments)}function Z(){G.apply(this,arguments),this._timer=null,this._input=null}function tt(){J.apply(this,arguments)}function et(){J.apply(this,arguments)}function st(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return(e=e||{}).recognizers=f(e.recognizers,at.defaults.preset),new rt(t,e)}function rt(t,e){this.options=it({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function(t){return new(t.options.inputClass||(_t?D:yt?I:ht?V:j))(t,$)}(this),this.touchAction=new Y(this,this.options.touchAction),nt(this,!0),u(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function nt(t,e){var s,a=t.element;a.style&&(u(t.options.cssProps,(function(r,n){s=k(a.style,n),e?(t.oldCssProps[s]=a.style[s],a.style[s]=r):a.style[s]=t.oldCssProps[s]||""})),e||(t.oldCssProps={}))}var it,ot=["","webkit","Moz","MS","ms","o"],lt=n.createElement("div"),ct="function",ut=Math.round,dt=Math.abs,pt=Date.now;it="function"!=typeof Object.assign?function(t){if(t===o||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!==o&&null!==a)for(var r in a)a.hasOwnProperty(r)&&(e[r]=a[r])}return e}:Object.assign;var mt=d((function(t,e,s){for(var a=Object.keys(e),r=0;r<a.length;)(!s||s&&t[a[r]]===o)&&(t[a[r]]=e[a[r]]),r++;return t}),"extend","Use `assign`."),vt=d((function(t,e){return mt(t,e,!0)}),"merge","Use `assign`."),ft=1,ht="ontouchstart"in r,_t=k(r,"PointerEvent")!==o,yt=ht&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),bt=25,gt=1,Ct=2,wt=4,xt=8,kt=1,Pt=2,St=4,$t=8,Et=16,Ot=Pt|St,At=$t|Et,Tt=Ot|At,Rt=["x","y"],Nt=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(P(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(P(this.element),this.evWin,this.domHandler)}};var Ft={mousedown:gt,mousemove:Ct,mouseup:wt},jt="mousedown",Dt="mousemove mouseup";p(j,S,{handler:function(t){var e=Ft[t.type];e&gt&&0===t.button&&(this.pressed=!0),e&Ct&&1!==t.which&&(e=wt),this.pressed&&(e&wt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var qt={pointerdown:gt,pointermove:Ct,pointerup:wt,pointercancel:xt,pointerout:xt},Mt={2:"touch",3:"pen",4:"mouse",5:"kinect"},It="pointerdown",Lt="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(It="MSPointerDown",Lt="MSPointerMove MSPointerUp MSPointerCancel"),p(D,S,{handler:function(t){var e=this.store,s=!1,a=t.type.toLowerCase().replace("ms",""),r=qt[a],n=Mt[t.pointerType]||t.pointerType,i="touch"==n,o=C(e,t.pointerId,"pointerId");r&gt&&(0===t.button||i)?o<0&&(e.push(t),o=e.length-1):r&(wt|xt)&&(s=!0),o<0||(e[o]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:n,srcEvent:t}),s&&e.splice(o,1))}});var Vt={touchstart:gt,touchmove:Ct,touchend:wt,touchcancel:xt},Ut="touchstart",Bt="touchstart touchmove touchend touchcancel";p(q,S,{handler:function(t){var e=Vt[t.type];if(e===gt&&(this.started=!0),this.started){var s=M.call(this,t,e);e&(wt|xt)&&s[0].length-s[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:s[0],changedPointers:s[1],pointerType:"touch",srcEvent:t})}}});var Wt={touchstart:gt,touchmove:Ct,touchend:wt,touchcancel:xt},Yt="touchstart touchmove touchend touchcancel";p(I,S,{handler:function(t){var e=Wt[t.type],s=L.call(this,t,e);s&&this.callback(this.manager,e,{pointers:s[0],changedPointers:s[1],pointerType:"touch",srcEvent:t})}});var Gt=2500,Ht=25;p(V,S,{handler:function(t,e,s){var a="touch"==s.pointerType,r="mouse"==s.pointerType;if(!(r&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(a)U.call(this,e,s);else if(r&&W.call(this,s))return;this.callback(t,e,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=k(lt.style,"touchAction"),zt=Xt!==o,Jt="auto",Kt="manipulation",Qt="none",Zt="pan-x",te="pan-y",ee=function(){if(!zt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(s){t[s]=!e||r.CSS.supports("touch-action",s)})),t}();Y.prototype={set:function(t){"compute"==t&&(t=this.compute()),zt&&this.manager.element.style&&ee[t]&&(this.manager.element.style[Xt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return u(this.manager.recognizers,(function(e){v(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(b(t,Qt))return Qt;var e=b(t,Zt),s=b(t,te);return e&&s?Qt:e||s?e?Zt:te:b(t,Kt)?Kt:Jt}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,s=t.offsetDirection;if(!this.manager.session.prevented){var a=this.actions,r=b(a,Qt)&&!ee[Qt],n=b(a,te)&&!ee[te],i=b(a,Zt)&&!ee[Zt];if(r){var o=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(o&&l&&c)return}return i&&n?void 0:r||n&&s&Ot||i&&s&At?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var se=1,ae=2,re=4,ne=8,ie=ne,oe=16;G.prototype={defaults:{},set:function(t){return it(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=z(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)||(t=z(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return-1===C(e,t=z(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=z(t,this);var e=C(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){s.manager.emit(e,t)}var s=this,a=this.state;a<ne&&e(s.options.event+H(a)),e(s.options.event),t.additionalEvent&&e(t.additionalEvent),a>=ne&&e(s.options.event+H(a))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|se)))return!1;t++}return!0},recognize:function(t){var e=it({},t);if(!v(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(ie|oe|32)&&(this.state=se),this.state=this.process(e),this.state&(ae|re|ne|oe)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},p(J,G,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,s=t.eventType,a=e&(ae|re),r=this.attrTest(t);return a&&(s&xt||!r)?e|oe:a||r?s&wt?e|ne:e&ae?e|re:ae:32}}),p(K,J,{defaults:{event:"pan",threshold:10,pointers:1,direction:Tt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ot&&e.push(te),t&At&&e.push(Zt),e},directionTest:function(t){var e=this.options,s=!0,a=t.distance,r=t.direction,n=t.deltaX,i=t.deltaY;return r&e.direction||(e.direction&Ot?(r=0===n?kt:n<0?Pt:St,s=n!=this.pX,a=Math.abs(t.deltaX)):(r=0===i?kt:i<0?$t:Et,s=i!=this.pY,a=Math.abs(t.deltaY))),t.direction=r,s&&a>e.threshold&&r&e.direction},attrTest:function(t){return J.prototype.attrTest.call(this,t)&&(this.state&ae||!(this.state&ae)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=X(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),p(Q,J,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Qt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ae)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),p(Z,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Jt]},process:function(t){var e=this.options,s=t.pointers.length===e.pointers,a=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!a||!s||t.eventType&(wt|xt)&&!r)this.reset();else if(t.eventType&gt)this.reset(),this._timer=l((function(){this.state=ie,this.tryEmit()}),e.time,this);else if(t.eventType&wt)return ie;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ie&&(t&&t.eventType&wt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),p(tt,J,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Qt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ae)}}),p(et,J,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ot|At,pointers:1},getTouchAction:function(){return K.prototype.getTouchAction.call(this)},attrTest:function(t){var e,s=this.options.direction;return s&(Ot|At)?e=t.overallVelocity:s&Ot?e=t.overallVelocityX:s&At&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&s&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&dt(e)>this.options.velocity&&t.eventType&wt},emit:function(t){var e=X(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),p(st,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Kt]},process:function(t){var e=this.options,s=t.pointers.length===e.pointers,a=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&gt&&0===this.count)return this.failTimeout();if(a&&r&&s){if(t.eventType!=wt)return this.failTimeout();var n=!this.pTime||t.timeStamp-this.pTime<e.interval,i=!this.pCenter||N(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,i&&n?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=l((function(){this.state=ie,this.tryEmit()}),e.interval,this),ae):ie}return 32},failTimeout:function(){return this._timer=l((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ie&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.7",at.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[tt,{enable:!1}],[Q,{enable:!1},["rotate"]],[et,{direction:Ot}],[K,{direction:Ot},["swipe"]],[st],[st,{event:"doubletap",taps:2},["tap"]],[Z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},rt.prototype={set:function(t){return it(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var s,a=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ie)&&(r=e.curRecognizer=null);for(var n=0;n<a.length;)s=a[n],2===e.stopped||r&&s!=r&&!s.canRecognizeWith(r)?s.reset():s.recognize(t),!r&&s.state&(ae|re|ne)&&(r=e.curRecognizer=s),n++}},get:function(t){if(t instanceof G)return t;for(var e=this.recognizers,s=0;s<e.length;s++)if(e[s].options.event==t)return e[s];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,s=C(e,t);-1!==s&&(e.splice(s,1),this.touchAction.update())}return this},on:function(t,e){if(t!==o&&e!==o){var s=this.handlers;return u(g(t),(function(t){s[t]=s[t]||[],s[t].push(e)})),this}},off:function(t,e){if(t!==o){var s=this.handlers;return u(g(t),(function(t){e?s[t]&&s[t].splice(C(s[t],e),1):delete s[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var s=n.createEvent("Event");s.initEvent(t,!0,!0),s.gesture=e,e.target.dispatchEvent(s)}(t,e);var s=this.handlers[t]&&this.handlers[t].slice();if(s&&s.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](e),a++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},it(at,{INPUT_START:gt,INPUT_MOVE:Ct,INPUT_END:wt,INPUT_CANCEL:xt,STATE_POSSIBLE:se,STATE_BEGAN:ae,STATE_CHANGED:re,STATE_ENDED:ne,STATE_RECOGNIZED:ie,STATE_CANCELLED:oe,STATE_FAILED:32,DIRECTION_NONE:kt,DIRECTION_LEFT:Pt,DIRECTION_RIGHT:St,DIRECTION_UP:$t,DIRECTION_DOWN:Et,DIRECTION_HORIZONTAL:Ot,DIRECTION_VERTICAL:At,DIRECTION_ALL:Tt,Manager:rt,Input:S,TouchAction:Y,TouchInput:I,MouseInput:j,PointerEventInput:D,TouchMouseInput:V,SingleTouchInput:q,Recognizer:G,AttrRecognizer:J,Tap:st,Pan:K,Swipe:et,Pinch:Q,Rotate:tt,Press:Z,on:h,off:_,each:u,merge:vt,extend:mt,assign:it,inherit:p,bindFn:m,prefixed:k}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=at,(a=function(){return at}.call(e,s,e,t))!==o&&(t.exports=a)}(window,document)},function(t,e){t.exports=function(t,e,s){for(var a=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*a*s/e.length),n="";;)for(var i=t(r),o=r;o--;)if((n+=e[i[o]&a]||"").length===+s)return n}},function(t,e,s){"use strict";var a,r,n=s(15),i=(s(0),1567752802062),o=7;t.exports=function(t){var e="",s=Math.floor(.001*(Date.now()-i));return s===r?a++:(a=0,r=s),e+=n(o),e+=n(t),a>0&&(e+=n(a)),e+n(s)}},function(t,e,s){"use strict";var a=s(0),r=s(18),n=s(13);t.exports=function(t){for(var e,s=0,i="";!e;)i+=n(r,a.get(),1),e=t<Math.pow(16,s+1),s++;return i}},function(t,e,s){"use strict";function a(){return n(o)}var r=s(0),n=s(14),i=s(17),o=s(20)||0;t.exports=a,t.exports.generate=a,t.exports.seed=function(e){return r.seed(e),t.exports},t.exports.worker=function(e){return o=e,t.exports},t.exports.characters=function(t){return void 0!==t&&r.characters(t),r.shuffled()},t.exports.isValid=i},function(t,e,s){"use strict";var a=s(0);t.exports=function(t){return!(!t||"string"!=typeof t||t.length<6||new RegExp("[^"+a.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t))}},function(t,e,s){"use strict";var a,r="object"==typeof window&&(window.crypto||window.msCrypto);a=r&&r.getRandomValues?function(t){return r.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],s=0;s<t;s++)e.push(Math.floor(256*Math.random()));return e},t.exports=a},function(t,e,s){"use strict";var a=1;t.exports={nextValue:function(){return(a=(9301*a+49297)%233280)/233280},seed:function(t){a=t}}},function(t,e,s){"use strict";t.exports=0},function(t,e){t.exports=function(t,e,s,a){var r,n=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(r=t,n=t.default);var o="function"==typeof n?n.options:n;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),s&&(o._scopeId=s),a){var l=Object.create(o.computed||null);Object.keys(a).forEach((function(t){var e=a[t];l[t]=function(){return e}})),o.computed=l}return{esModule:r,exports:n,options:o}}},function(t,e,s){var a=s(9);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),s(23)("df0682cc",a,!0,{})},function(t,e,s){function a(t){for(var e=0;e<t.length;e++){var s=t[e],a=u[s.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](s.parts[r]);for(;r<s.parts.length;r++)a.parts.push(n(s.parts[r]));a.parts.length>s.parts.length&&(a.parts.length=s.parts.length)}else{var i=[];for(r=0;r<s.parts.length;r++)i.push(n(s.parts[r]));u[s.id]={id:s.id,refs:1,parts:i}}}}function r(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function n(t){var e,s,a=document.querySelector("style["+_+'~="'+t.id+'"]');if(a){if(v)return f;a.parentNode.removeChild(a)}if(y){var n=m++;a=p||(p=r()),e=i.bind(null,a,n,!1),s=i.bind(null,a,n,!0)}else a=r(),e=o.bind(null,a),s=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else s()}}function i(t,e,s,a){var r=s?"":a.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var n=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(n,i[e]):t.appendChild(n)}}function o(t,e){var s=e.css,a=e.media,r=e.sourceMap;if(a&&t.setAttribute("media",a),h.ssrId&&t.setAttribute(_,e.id),r&&(s+="\n/*# sourceURL="+r.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=s(24),u={},d=l&&(document.head||document.getElementsByTagName("head")[0]),p=null,m=0,v=!1,f=function(){},h=null,_="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,s,r){v=s,h=r||{};var n=c(t,e);return a(n),function(e){for(var s=[],r=0;r<n.length;r++){var i=n[r];(o=u[i.id]).refs--,s.push(o)}for(e?a(n=c(t,e)):n=[],r=0;r<s.length;r++){var o;if(0===(o=s[r]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete u[o.id]}}}};var b=function(){var t=[];return function(e,s){return t[e]=s,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var s=[],a={},r=0;r<e.length;r++){var n=e[r],i=n[0],o={id:t+":"+r,css:n[1],media:n[2],sourceMap:n[3]};a[i]?a[i].parts.push(o):s.push(a[i]={id:i,parts:[o]})}return s}},function(t,e){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(s=window)}t.exports=s}])},function(t,e,s){"use strict";var a=document.getElementById("APP_BASE_URI").value.replace("api/",""),r={data:function(){return{base_url:a}}},n=s(0),i=Object(n.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-4 d-flex flex-column justify-content-center align-items-center mx-auto",staticStyle:{"min-height":"500px"}},[e("p",{staticClass:"display-4 text-secondary"},[this._v("Oops!")]),this._v(" "),e("img",{staticClass:"img-fluid w-100",attrs:{src:this.base_url+"images/error404.png",alt:""}})])}),[],!1,null,null,null);e.a=i.exports},function(t,e,s){(function(t,e){!function(t,s){"use strict";if(!t.setImmediate){var a,r,n,i,o,l=1,c={},u=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?a=function(t){e.nextTick((function(){v(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,s=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=s,e}}()?t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){v(t.data)},a=function(t){n.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,a=function(t){var e=d.createElement("script");e.onreadystatechange=function(){v(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):a=function(t){setTimeout(v,0,t)}:(i="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&v(+e.data.slice(i.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),a=function(e){t.postMessage(i+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),s=0;s<e.length;s++)e[s]=arguments[s+1];var r={callback:t,args:e};return c[l]=r,a(l),l++},p.clearImmediate=m}function m(t){delete c[t]}function v(t){if(u)setTimeout(v,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,s=t.args;switch(s.length){case 0:e();break;case 1:e(s[0]);break;case 2:e(s[0],s[1]);break;case 3:e(s[0],s[1],s[2]);break;default:e.apply(void 0,s)}}(e)}finally{m(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,s(17),s(19))},,function(t,e,s){"use strict";var a=s(1),r=s(9),n=s(4),i=s(3),o={components:{UserFilterBox:s(10).a,DateFilterBox:r.a,NoDataToShow:n.a,TableComponent:i.a},mounted:function(){this.$route.query.type||this.$router.push("/reports/activity-report?type=field-activity");var t=this.$route.query.type;this.report_type="non-field-activity"===t?"non-field-activity":"field-activity",this.getReports()},props:["users"],data:function(){return{reportRawData:[],reportData:[],isReportsFetched:!1,tableHeaders:[{title:"User",name:"user"},{title:"Start Date",name:"start"},{title:"End date",name:"end"},{title:"Activity",name:"content"},{title:"Comment",name:"comment",fallback:"-------------------"}]}},computed:{title:function(){return"non-field-activity"===this.$route.query.type?"Non Field activity":"Field Activity"}},methods:{getReports:function(){var t=this,e={type:this.report_type};this.isReportsFetched=!1,this.reports=[],a.a.get("activity-reports",e).then((function(e){var s=e.data;t.reportData=s.data,t.reportRawData=s.data,t.isReportsFetched=!0})).catch((function(t){console.log(t)}))},onFilterData:function(t){var e=this;this.reportData=[];Promise.resolve(t).then((function(t){return e.reportData=t}))},resetDataFilter:function(){var t=this;this.reportData=[],Promise.resolve(t.reportRawData).then((function(e){return t.reportData=e}))}}},l=s(0),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-2"},[s("div",{staticClass:"p-2 row mx-auto"},[s("div",{staticClass:"col-lg-3"},[s("user-filter-box",{attrs:{users:t.users,data:t.reportData,"on-filter":t.onFilterData,"on-reset":t.resetDataFilter}}),t._v(" "),s("date-filter-box",{attrs:{data:t.reportData,"on-filter":t.onFilterData,"on-reset":t.resetDataFilter,dateField:"start"}})],1),t._v(" "),s("div",{staticClass:"col-lg mx-auto px-0 shadow pb-5"},[s("p",{staticClass:"alert alert-success"},[s("span",{staticClass:"fa fa-book-reader"}),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("View "+t._s(t.title)+" reports")])]),t._v(" "),s("div",{staticClass:"p-2"},[t.reportData.length?s("div",[s("table-component",{attrs:{data:t.reportData,heads:t.tableHeaders,notResponsive:!0,headClass:"bg-success text-light"}})],1):t.isReportsFetched?s("div",[s("no-data-to-show",{attrs:{title:"No reports found"}})],1):s("loader-component")],1)])])])}),[],!1,null,null,null);e.a=c.exports},function(t,e,s){"use strict";var a=s(1),r=s(9),n=s(8),i=s(4),o=s(3),l=s(10),c={mounted:function(){this.getAllRequests(),this.getRequestTypes()},props:{users:{type:Array,required:!0},manager:{type:Boolean,required:!0},ownerId:{type:Number,required:!0}},components:{UserFilterBox:l.a,DateFilterBox:r.a,NoDataToShow:i.a,TableComponent:o.a,ModalFade:n.a},data:function(){return{requests:[],_rawRequests:[],isRequestsFetched:!1,tableHeads:[{title:"User",name:"user.name"},{title:"Customer",name:"customer.name"},{title:"Request",name:"type"},{title:"Query Date",name:"query_date"},{title:"Apply Date",name:"apply_date"}],show_edit_modal:!1,show_delete_modal:!1,selected_request:null,request_types:[]}},methods:{getRequestTypes:function(){var t=this;a.a.get("request-types").then((function(e){var s=e.data;t.request_types=s.data})).catch((function(t){return console.log(t)}))},getAllRequests:function(){var t=this;this.requests=[],this.isRequestsFetched=!1,a.a.get("customer-requests").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.requests=e.data,t._rawRequests=e.data,t.isRequestsFetched=!0}))})).catch((function(t){return console.log(t)}))},onFilter:function(t){var e=this;this.requests=[];Promise.resolve(t).then((function(t){return e.requests=t}))},onReset:function(){var t=this;this.requests=[];Promise.resolve(t._rawRequests).then((function(e){return t.requests=e}))},openEditModal:function(t){this.selected_request=t,this.show_edit_modal=!0},openDeleteModal:function(t){this.show_delete_modal=!0,this.selected_request=t},closeEditModal:function(){this.show_edit_modal=!1},closeDeleteModal:function(){this.show_delete_modal=!1},updateRequest:function(){var t=this,e={type:this.selected_request.type,apply_date:this.selected_request.apply_date,price:this.selected_request.price,quantity:this.selected_request.quantity,_method:"PUT"},s=this.selected_request.id;a.a.post("customer-requests/"+s,e).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.getAllRequests(),t.closeEditModal()}))})).catch((function(t){return console.log(t)}))},deleteRequest:function(){var t=this,e=this.selected_request.id;a.a.post("customer-requests/"+e,{_method:"DELETE"}).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.getAllRequests(),t.closeDeleteModal()}))})).catch((function(t){return console.log(t)}))}}},u=s(0),d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row mx-auto p-2 pb-5"},[s("div",{staticClass:"col-lg-3"},[s("user-filter-box",{attrs:{users:t.users,data:t.requests,onFilter:t.onFilter,onReset:t.onReset}}),t._v(" "),s("date-filter-box",{attrs:{data:t.requests,onFilter:t.onFilter,onReset:t.onReset,dateField:"query_date"}})],1),t._v(" "),s("div",{staticClass:"col-lg-9 px-0 shadow rounded pb-5"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[t.requests.length?s("div",[t.manager?s("div",{staticClass:"p-2 text-right"},[t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),s("table-component",{attrs:{data:t.requests,heads:t.tableHeads,headClass:"bg-success text-light"},scopedSlots:t._u([{key:"head:before",fn:function(){return[t.manager?s("th",[s("input",{attrs:{type:"checkbox"}})]):t._e(),t._v(" "),s("th",[t._v("Actions")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[t.manager?s("td",[s("input",{attrs:{type:"checkbox"}})]):t._e(),t._v(" "),s("td",[t.ownerId===a.user_id?s("button",{staticClass:"btn btn-sm btn-warning",on:{click:function(e){return t.openEditModal(a)}}},[s("span",{staticClass:"fa fa-edit"})]):t._e(),t._v(" "),t.ownerId===a.user_id?s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.openDeleteModal(a)}}},[s("span",{staticClass:"fa fa-trash"})]):t._e()])]}},{key:"head",fn:function(){return[s("th",[t._v("Price")]),t._v(" "),s("th",[t._v("Quantity")]),t._v(" "),s("th",[t._v("Total Cost")]),t._v(" "),s("th",[t._v("State")]),t._v(" "),s("th",[t._v("Comment")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[t._v(t._s(a.price))]),t._v(" "),s("td",[t._v(t._s(a.quantity))]),t._v(" "),s("td",[t._v(t._s(a.price*a.quantity))]),t._v(" "),s("td",[t._v(t._s(a.state))]),t._v(" "),s("td",[t._v(t._s(a.comment))])]}}],null,!1,536067012)})],1):t.isRequestsFetched?s("div",[s("no-data-to-show",{attrs:{title:"No requests found"}})],1):s("loader-component")],1)]),t._v(" "),s("modal-fade",{attrs:{id:"edit_modal",show:t.show_edit_modal,headerStyle:"bg-primary text-light"},on:{onClose:t.closeEditModal},scopedSlots:t._u([t.selected_request?{key:"header",fn:function(){return[s("span",[t._v("Edit Request for"+t._s(t.selected_request.customer.name))])]},proxy:!0}:null,t.selected_request?{key:"body",fn:function(){return[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("Type")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected_request.type,expression:"selected_request.type"}],staticClass:"form-control form-control-sm",attrs:{name:"type",id:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.selected_request,"type",e.target.multiple?s:s[0])}}},t._l(t.request_types,(function(e,a){return s("option",{key:"type_"+a,domProps:{value:e}},[t._v(t._s(e))])})),0)]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("Apply Date")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_request.apply_date,expression:"selected_request.apply_date"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"apply_date",id:"apply_date"},domProps:{value:t.selected_request.apply_date},on:{input:function(e){e.target.composing||t.$set(t.selected_request,"apply_date",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mx-auto my-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("Price")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_request.price,expression:"selected_request.price"}],staticClass:"form-control form-control-sm",attrs:{type:"number",name:"price",id:"price",min:0},domProps:{value:t.selected_request.price},on:{input:function(e){e.target.composing||t.$set(t.selected_request,"price",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("Quantity")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_request.quantity,expression:"selected_request.quantity"}],staticClass:"form-control form-control-sm",attrs:{type:"number",name:"quantity",id:"quantity",min:1},domProps:{value:t.selected_request.quantity},on:{input:function(e){e.target.composing||t.$set(t.selected_request,"quantity",e.target.value)}}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"my-1 form-group text-right"},[s("button",{staticClass:"btn btn-sm btn-secondary",on:{click:t.closeEditModal}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-warning",on:{click:t.updateRequest}},[s("span",{staticClass:"fa fa-edit"}),t._v(" "),s("span",[t._v("edit")])])])]},proxy:!0}:null],null,!0)}),t._v(" "),s("modal-fade",{attrs:{id:"delete_modal",show:t.show_delete_modal,headerStyle:"bg-danger text-light"},on:{onClose:t.closeDeleteModal},scopedSlots:t._u([t.selected_request?{key:"header",fn:function(){return[s("span",[t._v("Delete Request for"+t._s(t.selected_request.customer.name))])]},proxy:!0}:null,t.selected_request?{key:"body",fn:function(){return[s("div",{staticClass:"text-center"},[s("span",{staticClass:"fa fa-exclamation-triangle fa-3x text-danger"}),t._v(" "),s("p",[t._v("\n          Are you sure you want to remove this request ?\n        ")]),t._v(" "),s("div",{},[s("button",{staticClass:"btn btn-sm btn-secondary",on:{click:t.closeDeleteModal}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",on:{click:t.deleteRequest}},[s("span",{staticClass:"fa fa-trash"}),t._v(" "),s("span",[t._v("delete")])])])])]},proxy:!0}:null],null,!0)})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",{staticClass:"fa fa-dollar-sign"}),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("View Request report")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm btn-primary"},[e("span",{staticClass:"fa fa-check-circle"}),this._v(" "),e("span",[this._v("approve")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm btn-secondary"},[e("span",{staticClass:"fa fa-times-circle"}),this._v(" "),e("span",[this._v("approve")])])}],!1,null,null,null);e.a=d.exports},,function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var s=e.protocol+"//"+e.host,a=s+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,n=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(n)?t:(r=0===n.indexOf("//")?n:0===n.indexOf("/")?s+n:a+n.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,e,s){"use strict";var a=s(6),r=s(23),n=s(40),i=s(29);function o(t){var e=new n(t),s=r(n.prototype.request,e);return a.extend(s,n.prototype,e),a.extend(s,e),s}var l=o(s(26));l.Axios=n,l.create=function(t){return o(i(l.defaults,t))},l.Cancel=s(30),l.CancelToken=s(53),l.isCancel=s(25),l.all=function(t){return Promise.all(t)},l.spread=s(54),t.exports=l,t.exports.default=l},function(t,e,s){"use strict";var a=s(6),r=s(24),n=s(41),i=s(42),o=s(29);function l(t){this.defaults=t,this.interceptors={request:new n,response:new n}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[i,void 0],s=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)s=s.then(e.shift(),e.shift());return s},l.prototype.getUri=function(t){return t=o(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,s){return this.request(a.merge(s||{},{method:t,url:e}))}})),a.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,s,r){return this.request(a.merge(r||{},{method:t,url:e,data:s}))}})),t.exports=l},function(t,e,s){"use strict";var a=s(6);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){a.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},function(t,e,s){"use strict";var a=s(6),r=s(43),n=s(25),i=s(26);function o(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return o(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=a.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||i.adapter)(t).then((function(e){return o(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return n(e)||(o(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,s){"use strict";var a=s(6);t.exports=function(t,e,s){return a.forEach(s,(function(s){t=s(t,e)})),t}},function(t,e,s){"use strict";var a=s(6);t.exports=function(t,e){a.forEach(t,(function(s,a){a!==e&&a.toUpperCase()===e.toUpperCase()&&(t[e]=s,delete t[a])}))}},function(t,e,s){"use strict";var a=s(28);t.exports=function(t,e,s){var r=s.config.validateStatus;!r||r(s.status)?t(s):e(a("Request failed with status code "+s.status,s.config,null,s.request,s))}},function(t,e,s){"use strict";t.exports=function(t,e,s,a,r){return t.config=e,s&&(t.code=s),t.request=a,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,s){"use strict";var a=s(48),r=s(49);t.exports=function(t,e){return t&&!a(e)?r(t,e):e}},function(t,e,s){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,s){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,s){"use strict";var a=s(6),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,s,n,i={};return t?(a.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=a.trim(t.substr(0,n)).toLowerCase(),s=a.trim(t.substr(n+1)),e){if(i[e]&&r.indexOf(e)>=0)return;i[e]="set-cookie"===e?(i[e]?i[e]:[]).concat([s]):i[e]?i[e]+", "+s:s}})),i):i}},function(t,e,s){"use strict";var a=s(6);t.exports=a.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function r(t){var a=t;return e&&(s.setAttribute("href",a),a=s.href),s.setAttribute("href",a),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return t=r(window.location.href),function(e){var s=a.isString(e)?r(e):e;return s.protocol===t.protocol&&s.host===t.host}}():function(){return!0}},function(t,e,s){"use strict";var a=s(6);t.exports=a.isStandardBrowserEnv()?{write:function(t,e,s,r,n,i){var o=[];o.push(t+"="+encodeURIComponent(e)),a.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),a.isString(r)&&o.push("path="+r),a.isString(n)&&o.push("domain="+n),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,s){"use strict";var a=s(30);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var s=this;t((function(t){s.reason||(s.reason=new a(t),e(s.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},function(t,e,s){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,s){(function(t){var a=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new n(r.call(setTimeout,a,arguments),clearTimeout)},e.setInterval=function(){return new n(r.call(setInterval,a,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(a,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},s(33),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,s(17))},function(t,e,s){"use strict";var a=s(1),r={mounted:function(){this.getTypes()},data:function(){return{plan:{from:null,to:null,content:"",type:"non-field-activity"},types:[],today:(new Date).format()}},computed:{isSubmittedPlans:function(){return!!this.$store.getters.isSubmittedPlans&&this.$store.getters.isSubmittedPlans}},methods:{savePlan:function(){var t=this;this.isSubmittedPlans||a.a.post("activity-planner",this.plan).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$store.dispatch("getNonFieldActivityPlans",!0)}))})).catch((function(t){return console.log(t)}))},getTypes:function(){var t=this;return a.a.get("non-field-activity-types").then((function(e){var s=e.data;t.types=s.data})).catch((function(t){return console.log(t)}))}}},n=s(0),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow rounded pb-5 mb-5 bg-white"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.savePlan)}}},[t.isSubmittedPlans?s("p",{staticClass:"alert alert-warning"},[s("span",{staticClass:"fa fa-exclamation-triangle"}),t._v("\n          Plan is already submitted\n        ")]):t._e(),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:""}},[t._v("From")]),t._v(" "),s("validationProvider",{attrs:{name:"date_from",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must pick a start date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.from,expression:"plan.from"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",name:"date_from",id:"date_from",disabled:t.isSubmittedPlans,min:t.today},domProps:{value:t.plan.from},on:{input:function(e){e.target.composing||t.$set(t.plan,"from",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:""}},[t._v("To")]),t._v(" "),s("validationProvider",{attrs:{name:"date_to",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must pick end date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.to,expression:"plan.to"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",name:"date_to",id:"date_to",disabled:t.isSubmittedPlans||!t.plan.from,min:t.plan.from},domProps:{value:t.plan.to},on:{input:function(e){e.target.composing||t.$set(t.plan,"to",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:""}},[t._v("Type")]),t._v(" "),s("validationProvider",{attrs:{name:"plan_type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("Activity type is not valid")]):t._e(),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.plan.content,expression:"plan.content"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"plan_type",id:"plan_type",disabled:t.isSubmittedPlans},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.plan,"content",e.target.multiple?s:s[0])}}},t._l(t.types,(function(e,a){return s("option",{key:"type_"+a,domProps:{value:e}},[t._v(t._s(e))])})),0)]}}],null,!0)})],1)]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/planner"}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{disabled:t.isSubmittedPlans}},[s("span",{staticClass:"fa fa-save"}),t._v(" "),s("span",[t._v("save")])])],1)])]}}])})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",{staticClass:"fa fa-plus-circle"}),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Plan non field activity")])])}],!1,null,null,null);e.a=i.exports},function(t,e,s){"use strict";var a=s(1),r={mounted:function(){this.getTypes()},data:function(){return{plan:{from:null,to:null,content:"",type:"field-activity"},types:[],today:(new Date).format()}},computed:{isSubmittedPlans:function(){return!!this.$store.getters.isSubmittedPlans&&this.$store.getters.isSubmittedPlans}},methods:{savePlan:function(){var t=this;this.isSubmittedPlans||a.a.post("activity-planner",this.plan).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$store.dispatch("getNonFieldActivityPlans",!0)}))})).catch((function(t){return console.log(t)}))},getTypes:function(){var t=this;return a.a.get("field-activity-types").then((function(e){var s=e.data;t.types=s.data})).catch((function(t){return console.log(t)}))}}},n=s(0),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow rounded pb-5 mb-5 bg-white"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[t.isSubmittedPlans?s("p",{staticClass:"alert alert-warning"},[s("span",{staticClass:"fa fa-exclamation-triangle"}),t._v("\n          Plan is already submitted\n        ")]):t._e(),t._v(" "),s("form",{on:{submit:function(e){return e.preventDefault(),a(t.savePlan)}}},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:""}},[t._v("From")]),t._v(" "),s("validationProvider",{attrs:{name:"date_from",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must pick a start date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.from,expression:"plan.from"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",name:"date_from",id:"date_from",disabled:t.isSubmittedPlans,min:t.today},domProps:{value:t.plan.from},on:{input:function(e){e.target.composing||t.$set(t.plan,"from",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:""}},[t._v("To")]),t._v(" "),s("validationProvider",{attrs:{name:"date_to",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must pick end date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan.to,expression:"plan.to"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",name:"date_to",id:"date_to",disabled:t.isSubmittedPlans||!t.plan.from,min:t.plan.from},domProps:{value:t.plan.to},on:{input:function(e){e.target.composing||t.$set(t.plan,"to",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:""}},[t._v("Type")]),t._v(" "),s("validationProvider",{attrs:{name:"plan_type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("Activity type is not valid")]):t._e(),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.plan.content,expression:"plan.content"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"plan_type",id:"plan_type",disabled:t.isSubmittedPlans},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.plan,"content",e.target.multiple?s:s[0])}}},t._l(t.types,(function(e,a){return s("option",{key:"type_"+a,domProps:{value:e}},[t._v(t._s(e))])})),0)]}}],null,!0)})],1)]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/planner"}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{disabled:t.isSubmittedPlans}},[s("span",{staticClass:"fa fa-save"}),t._v(" "),s("span",[t._v("save")])])],1)])]}}])})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",{staticClass:"fa fa-plus-circle"}),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Plan field activity")])])}],!1,null,null,null);e.a=i.exports},function(t,e,s){"use strict";var a=s(1),r={mounted:function(){var t=this.$route.query.type;t||this.$router.push("/reports/add/activity-report?type=field-activity"),this.type=t,this.getReportTypes()},data:function(){return{report:{from:null,to:null,content:null,comment:null},reportTypes:[]}},computed:{pageTitle:function(){return"non-field-activity"===this.$route.query.type?"Non Field activity":"Field Activity"}},methods:{saveReport:function(){var t=this,e=Object.assign({},this.report);e.type=this.type,a.a.post("activity-reports",e).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$router.push("/reports/activity-report?type="+t.type)}))})).catch((function(t){return console.log(t)}))},getReportTypes:function(){var t=this,e=this.type+"-types";a.a.get(e).then((function(e){var s=e.data;t.reportTypes=s.data})).catch((function(t){return console.log(t)}))}}},n=s(0),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow rounded pb-5"},[s("p",{staticClass:"alert alert-success"},[s("span",{staticClass:"fa fa-plus-circle"}),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("Add "+t._s(t.pageTitle)+" report")])]),t._v(" "),s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.saveReport)}}},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("From")]),t._v(" "),s("ValidationProvider",{attrs:{name:"date_from",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must choose a starting date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report.from,expression:"report.from"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",name:"date_from",id:"date_from"},domProps:{value:t.report.from},on:{input:function(e){e.target.composing||t.$set(t.report,"from",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("To")]),t._v(" "),s("ValidationProvider",{attrs:{name:"date_to",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must choose a ending date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report.to,expression:"report.to"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",name:"date_to",id:"date_to"},domProps:{value:t.report.to},on:{input:function(e){e.target.composing||t.$set(t.report,"to",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto my-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("Type")]),t._v(" "),s("ValidationProvider",{attrs:{name:"report_type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("select "+t._s(t.pageTitle)+" type")]):t._e(),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.report.content,expression:"report.content"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"report_type",id:"report_type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.report,"content",e.target.multiple?s:s[0])}}},t._l(t.reportTypes,(function(e,a){return s("option",{key:"report_type_"+a,domProps:{value:e}},[t._v(t._s(e))])})),0)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted"},[t._v("Content")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.report.comment,expression:"report.comment"}],staticClass:"form-control form-control-sm",attrs:{name:"",id:"",cols:"30",rows:"8",placeholder:"write comment about this activity"},domProps:{value:t.report.comment},on:{input:function(e){e.target.composing||t.$set(t.report,"comment",e.target.value)}}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"reset"}},[s("span",{staticClass:"fa fa-redo"}),t._v(" "),s("span",[t._v("reset")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[s("span",{staticClass:"fa fa-save"}),t._v(" "),s("span",[t._v("Save")])])],1)])]}}])})],1)])}),[],!1,null,null,null);e.a=i.exports},function(t,e,s){"use strict";var a=s(1),r={components:{NoDataToShow:s(4).a},mounted:function(){this.getMessages()},data:function(){return{messages:[],isFetched:!1}},methods:{getMessages:function(){var t=this;return this.messages=[],this.isFetched=!1,a.a.get("broadcasting").then((function(e){var s=e.data;t.messages=s.data,t.isFetched=!0})).catch((function(t){console.log(t)}))}}},n=s(0),i=Object(n.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 border rounded"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2",staticStyle:{height:"150px",overflow:"auto"}},[t.messages.length?s("div",{},t._l(t.messages,(function(e){return s("div",{key:e.id,class:"alert "+e.type},[s("p",{staticClass:"alert-heading"},[s("span",{staticClass:"lead"},[t._v(t._s(e.title))]),t._v(" "),s("small",{staticClass:"text-muted float-right"},[t._v(t._s(e.created_at))])]),t._v(" "),s("small",[s("span",{domProps:{innerHTML:t._s(e.body)}})])])})),0):t.isFetched?s("div",[s("no-data-to-show",{attrs:{title:"No new messages"}})],1):s("loader-component")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"bg-success text-light p-2"},[e("span",{staticClass:"fa fa-bullhorn"}),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Broadcasting messages")])])}],!1,null,null,null);e.a=i.exports},function(t,e,s){var a=s(80);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(15)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,s){var a=s(82);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(15)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,s){var a=s(84);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(15)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,s){var a=s(88);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(15)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,s){var a=s(90);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};s(15)(a,r);a.locals&&(t.exports=a.locals)},,,,,,,,,,,,function(t,e,s){var a;"undefined"!=typeof self&&self,a=function(){return function(t){var e={};function s(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,s),r.l=!0,r.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s="d375")}({"0304":function(t,e,s){var a=s("2e76"),r=s("6062");t.exports=Object.keys||function(t){return a(t,r)}},"0f43":function(t,e,s){var a=s("59fb"),r=s("ef90"),n=s("899d"),i=Object.defineProperty;e.f=s("1897")?Object.defineProperty:function(t,e,s){if(a(t),e=n(e,!0),a(s),r)try{return i(t,e,s)}catch(t){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[e]=s.value),t}},1897:function(t,e,s){t.exports=!s("c620")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2182:function(t,e){t.exports=!1},2765:function(t,e){var s=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:s)(t)}},"2cf8":function(t,e){var s={}.hasOwnProperty;t.exports=function(t,e){return s.call(t,e)}},"2e64":function(t,e){var s=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++s+a).toString(36))}},"2e76":function(t,e,s){var a=s("2cf8"),r=s("dee3"),n=s("9b80")(!1),i=s("495c")("IE_PROTO");t.exports=function(t,e){var s,o=r(t),l=0,c=[];for(s in o)s!=i&&a(o,s)&&c.push(s);for(;e.length>l;)a(o,s=e[l++])&&(~n(c,s)||c.push(s));return c}},3892:function(t,e,s){var a=s("0f43"),r=s("d9da");t.exports=s("1897")?function(t,e,s){return a.f(t,e,r(1,s))}:function(t,e,s){return t[e]=s,t}},"3a0e":function(t,e,s){var a=s("0f43"),r=s("59fb"),n=s("0304");t.exports=s("1897")?Object.defineProperties:function(t,e){r(t);for(var s,i=n(e),o=i.length,l=0;o>l;)a.f(t,s=i[l++],e[s]);return t}},4225:function(t,e,s){(t.exports=s("7338")(!1)).push([t.i,".knob-control__range{fill:none;transition:stroke .1s ease-in}.knob-control__value{fill:none}.knob-control__text-display{font-size:1.3rem;text-align:center}",""])},"495c":function(t,e,s){var a=s("e45e")("keys"),r=s("2e64");t.exports=function(t){return a[t]||(a[t]=r(t))}},"4f8b":function(t,e,s){var a=s("59fb"),r=s("3a0e"),n=s("6062"),i=s("495c")("IE_PROTO"),o=function(){},l=function(){var t,e=s("84a9")("iframe"),a=n.length;for(e.style.display="none",s("712b").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;a--;)delete l.prototype[n[a]];return l()};t.exports=Object.create||function(t,e){var s;return null!==t?(o.prototype=a(t),s=new o,o.prototype=null,s[i]=t):s=l(),void 0===e?s:r(s,e)}},5568:function(t,e,s){"use strict";var a=s("90dd");s.n(a).a},"59fb":function(t,e,s){var a=s("d3b2");t.exports=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t}},"5aa1":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},"5f3d":function(t,e,s){var a=s("b9c0"),r=s("d9da"),n=s("dee3"),i=s("899d"),o=s("2cf8"),l=s("ef90"),c=Object.getOwnPropertyDescriptor;e.f=s("1897")?c:function(t,e){if(t=n(t),e=i(e,!0),l)try{return c(t,e)}catch(t){}if(o(t,e))return r(!a.f.call(t,e),t[e])}},6062:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"62d0":function(t,e){!function(t){var e=t.getElementsByTagName("script");"currentScript"in t||Object.defineProperty(t,"currentScript",{get:function(){try{throw new Error}catch(a){var t,s=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(a.stack)||[!1])[1];for(t in e)if(e[t].src==s||"interactive"==e[t].readyState)return e[t];return null}}})}(document)},6857:function(t,e,s){var a=s("2e76"),r=s("6062").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,r)}},"6bfa":function(t,e,s){var a=s("2765"),r=Math.min;t.exports=function(t){return t>0?r(a(t),9007199254740991):0}},"712b":function(t,e,s){var a=s("f6f3").document;t.exports=a&&a.documentElement},7338:function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=function(t,e){var s,a=t[1]||"",r=t[3];if(!r)return a;if(e&&"function"==typeof btoa){var n=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[a].concat(i).concat([n]).join("\n")}return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+s+"}":s})).join("")},e.i=function(t,s){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var n=this[r][0];"number"==typeof n&&(a[n]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&a[i[0]]||(s&&!i[2]?i[2]=s:s&&(i[2]="("+i[2]+") and ("+s+")"),e.push(i))}},e}},"76a8":function(t,e,s){var a=s("d3b2"),r=s("81d6").set;t.exports=function(t,e,s){var n,i=e.constructor;return i!==s&&"function"==typeof i&&(n=i.prototype)!==s.prototype&&a(n)&&r&&r(t,n),t}},"808e":function(t,e,s){var a=s("f6f3"),r=s("3892"),n=s("2cf8"),i=s("2e64")("src"),o=s("abc8"),l=(""+o).split("toString");s("83d9").inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,s,o){var c="function"==typeof s;c&&(n(s,"name")||r(s,"name",e)),t[e]!==s&&(c&&(n(s,i)||r(s,i,t[e]?""+t[e]:l.join(String(e)))),t===a?t[e]=s:o?t[e]?t[e]=s:r(t,e,s):(delete t[e],r(t,e,s)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[i]||o.call(this)}))},"81d6":function(t,e,s){var a=s("d3b2"),r=s("59fb"),n=function(t,e){if(r(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{(a=s("9fad")(Function.call,s("5f3d").f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,s){return n(t,s),e?t.__proto__=s:a(t,s),t}}({},!1):void 0),check:n}},"83d9":function(t,e){var s=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=s)},"84a9":function(t,e,s){var a=s("d3b2"),r=s("f6f3").document,n=a(r)&&a(r.createElement);t.exports=function(t){return n?r.createElement(t):{}}},"86ee":function(t,e,s){"use strict";var a=s("f6f3"),r=s("2cf8"),n=s("b627"),i=s("76a8"),o=s("899d"),l=s("c620"),c=s("6857").f,u=s("5f3d").f,d=s("0f43").f,p=s("a476").trim,m=a.Number,v=m,f=m.prototype,h="Number"==n(s("4f8b")(f)),_="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){var s,a,r,n=(e=_?e.trim():p(e,3)).charCodeAt(0);if(43===n||45===n){if(88===(s=e.charCodeAt(2))||120===s)return NaN}else if(48===n){switch(e.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+e}for(var i,l=e.slice(2),c=0,u=l.length;c<u;c++)if((i=l.charCodeAt(c))<48||i>r)return NaN;return parseInt(l,a)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof m&&(h?l((function(){f.valueOf.call(s)})):"Number"!=n(s))?i(new v(y(e)),s,m):y(e)};for(var b,g=s("1897")?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;g.length>C;C++)r(v,b=g[C])&&!r(m,b)&&d(m,b,u(v,b));m.prototype=f,f.constructor=m,s("808e")(a,"Number",m)}},8769:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"899d":function(t,e,s){var a=s("d3b2");t.exports=function(t,e){if(!a(t))return t;var s,r;if(e&&"function"==typeof(s=t.toString)&&!a(r=s.call(t)))return r;if("function"==typeof(s=t.valueOf)&&!a(r=s.call(t)))return r;if(!e&&"function"==typeof(s=t.toString)&&!a(r=s.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"90dd":function(t,e,s){var a=s("4225");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals),(0,s("9417").default)("452294a1",a,!0,{sourceMap:!1,shadowMode:!1})},9417:function(t,e,s){"use strict";function a(t,e){for(var s=[],a={},r=0;r<e.length;r++){var n=e[r],i=n[0],o={id:t+":"+r,css:n[1],media:n[2],sourceMap:n[3]};a[i]?a[i].parts.push(o):s.push(a[i]={id:i,parts:[o]})}return s}s.r(e),s.d(e,"default",(function(){return m}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},i=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t,e,s,r){c=s,d=r||{};var i=a(t,e);return v(i),function(e){for(var s=[],r=0;r<i.length;r++){var o=i[r];(l=n[o.id]).refs--,s.push(l)}for(e?v(i=a(t,e)):i=[],r=0;r<s.length;r++){var l;if(0===(l=s[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete n[l.id]}}}}function v(t){for(var e=0;e<t.length;e++){var s=t[e],a=n[s.id];if(a){a.refs++;for(var r=0;r<a.parts.length;r++)a.parts[r](s.parts[r]);for(;r<s.parts.length;r++)a.parts.push(h(s.parts[r]));a.parts.length>s.parts.length&&(a.parts.length=s.parts.length)}else{var i=[];for(r=0;r<s.parts.length;r++)i.push(h(s.parts[r]));n[s.id]={id:s.id,refs:1,parts:i}}}}function f(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function h(t){var e,s,a=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(a){if(c)return u;a.parentNode.removeChild(a)}if(p){var r=l++;a=o||(o=f()),e=b.bind(null,a,r,!1),s=b.bind(null,a,r,!0)}else a=f(),e=g.bind(null,a),s=function(){a.parentNode.removeChild(a)};return e(t),function(a){if(a){if(a.css===t.css&&a.media===t.media&&a.sourceMap===t.sourceMap)return;e(t=a)}else s()}}var _,y=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function b(t,e,s,a){var r=s?"":a.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var n=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(n,i[e]):t.appendChild(n)}}function g(t,e){var s=e.css,a=e.media,r=e.sourceMap;if(a&&t.setAttribute("media",a),d.ssrId&&t.setAttribute("data-vue-ssr-id",e.id),r&&(s+="\n/*# sourceURL="+r.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=s;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(s))}}},"9b80":function(t,e,s){var a=s("dee3"),r=s("6bfa"),n=s("c8cc");t.exports=function(t){return function(e,s,i){var o,l=a(e),c=r(l.length),u=n(i,c);if(t&&s!=s){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===s)return t||u||0;return!t&&-1}}},"9fad":function(t,e,s){var a=s("8769");t.exports=function(t,e,s){if(a(t),void 0===e)return t;switch(s){case 1:return function(s){return t.call(e,s)};case 2:return function(s,a){return t.call(e,s,a)};case 3:return function(s,a,r){return t.call(e,s,a,r)}}return function(){return t.apply(e,arguments)}}},a204:function(t,e,s){var a=s("f6f3"),r=s("83d9"),n=s("3892"),i=s("808e"),o=s("9fad"),l=function(t,e,s){var c,u,d,p,m=t&l.F,v=t&l.G,f=t&l.S,h=t&l.P,_=t&l.B,y=v?a:f?a[e]||(a[e]={}):(a[e]||{}).prototype,b=v?r:r[e]||(r[e]={}),g=b.prototype||(b.prototype={});for(c in v&&(s=e),s)d=((u=!m&&y&&void 0!==y[c])?y:s)[c],p=_&&u?o(d,a):h&&"function"==typeof d?o(Function.call,d):d,y&&i(y,c,d,t&l.U),b[c]!=d&&n(b,c,p),h&&g[c]!=d&&(g[c]=d)};a.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},a476:function(t,e,s){var a=s("a204"),r=s("5aa1"),n=s("c620"),i=s("c88b"),o="["+i+"]",l=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),u=function(t,e,s){var r={},o=n((function(){return!!i[t]()||"â€‹Â…"!="â€‹Â…"[t]()})),l=r[t]=o?e(d):i[t];s&&(r[s]=l),a(a.P+a.F*o,"String",r)},d=u.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},abc8:function(t,e,s){t.exports=s("e45e")("native-function-to-string",Function.toString)},b627:function(t,e){var s={}.toString;t.exports=function(t){return s.call(t).slice(8,-1)}},b9c0:function(t,e){e.f={}.propertyIsEnumerable},c620:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},c88b:function(t,e){t.exports="\t\n\v\f\r Â áš€á Žâ€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},c8cc:function(t,e,s){var a=s("2765"),r=Math.max,n=Math.min;t.exports=function(t,e){return(t=a(t))<0?r(t+e,0):n(t,e)}},d375:function(t,e,s){"use strict";var a;s.r(e),"undefined"!=typeof window&&(s("62d0"),(a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(s.p=a[1])),s("86ee");var r=4*Math.PI/3,n=-Math.PI/3,i=function(t,e,s,a,r){return(t-e)*(r-a)/(s-e)+a},o={data:function(){return{}},props:{value:{type:Number,required:!0},max:{type:Number,default:100},min:{type:Number,default:0},stepSize:{type:Number,default:1},disabled:{type:Boolean,default:!1},size:{type:Number,default:100},responsive:{type:Boolean,default:!1},primaryColor:{type:String,default:"#409eff"},secondaryColor:{type:String,default:"#dcdfe6"},textColor:{type:String,default:"#000000"},strokeWidth:{type:Number,default:17},valueDisplayFunction:{type:Function,default:function(t){return t}}},computed:{style:function(){return{height:this.responsive?this.size+"%":this.size-5+"px"}},computedSize:function(){return this.responsive?this.size+"%":this.size},rangePath:function(){return"M ".concat(this.minX," ").concat(this.minY," A ").concat(40," ").concat(40," 0 1 1 ").concat(this.maxX," ").concat(this.maxY)},valuePath:function(){return"M ".concat(this.zeroX," ").concat(this.zeroY," A ").concat(40," ").concat(40," 0 ").concat(this.largeArc," ").concat(this.sweep," ").concat(this.valueX," ").concat(this.valueY)},showValue:function(){return this.value>=this.min&&this.value<=this.max&&!this.disabled},zeroRadians:function(){return this.min>0&&this.max>0?i(this.min,this.min,this.max,r,n):i(0,this.min,this.max,r,n)},valueRadians:function(){return i(this.value,this.min,this.max,r,n)},minX:function(){return 50+40*Math.cos(r)},minY:function(){return 50-40*Math.sin(r)},maxX:function(){return 50+40*Math.cos(n)},maxY:function(){return 50-40*Math.sin(n)},zeroX:function(){return 50+40*Math.cos(this.zeroRadians)},zeroY:function(){return 50-40*Math.sin(this.zeroRadians)},valueX:function(){return 50+40*Math.cos(this.valueRadians)},valueY:function(){return 50-40*Math.sin(this.valueRadians)},largeArc:function(){return Math.abs(this.zeroRadians-this.valueRadians)<Math.PI?0:1},sweep:function(){return this.valueRadians>this.zeroRadians?0:1},valueDisplay:function(){return this.valueDisplayFunction(this.value)}},methods:{updatePosition:function(t,e){var s,a=t-this.size/2,o=this.size/2-e,l=Math.atan2(o,a),c=-Math.PI/2-Math.PI/6;if(l>n)s=i(l,r,n,this.min,this.max);else{if(!(l<c))return;s=i(l+2*Math.PI,r,n,this.min,this.max)}this.$emit("input",Math.round((s-this.min)/this.stepSize)*this.stepSize+this.min)},onClick:function(t){this.disabled||this.updatePosition(t.offsetX,t.offsetY)},onMouseDown:function(t){this.disabled||(t.preventDefault(),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp))},onMouseUp:function(t){this.disabled||(t.preventDefault(),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp))},onTouchStart:function(t){this.disabled||(t.preventDefault(),window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd))},onTouchEnd:function(t){this.disabled||(t.preventDefault(),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd))},onMouseMove:function(t){this.disabled||(t.preventDefault(),this.updatePosition(t.offsetX,t.offsetY))},onTouchMove:function(t){if(!this.disabled&&1==t.touches.length){var e=this.$el.getBoundingClientRect(),s=t.targetTouches.item(0),a=s.clientX-e.left,r=s.clientY-e.top;this.updatePosition(a,r)}}}};s("5568");var l=function(t,e,s,a,r,n,i,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"knob-control",style:t.style},[s("svg",{attrs:{width:t.computedSize,height:t.computedSize,viewBox:"0 0 100 100"},on:{click:t.onClick,mousedown:t.onMouseDown,mouseup:t.onMouseUp,touchstart:t.onTouchStart,touchend:t.onTouchEnd}},[s("path",{staticClass:"knob-control__range",attrs:{d:t.rangePath,"stroke-width":t.strokeWidth,stroke:t.secondaryColor}}),t.showValue?s("path",{staticClass:"knob-control__value",attrs:{d:t.valuePath,"stroke-width":t.strokeWidth,stroke:t.primaryColor}}):t._e(),t.showValue?s("text",{staticClass:"knob-control__text-display",attrs:{x:50,y:57,"text-anchor":"middle",fill:t.textColor}},[t._v("\n          "+t._s(t.valueDisplay)+"\n        ")]):t._e()])])}),[],!1,null,null,null).exports;e.default=l},d3b2:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},d9da:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},dee3:function(t,e,s){var a=s("e427"),r=s("5aa1");t.exports=function(t){return a(r(t))}},e427:function(t,e,s){var a=s("b627");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},e45e:function(t,e,s){var a=s("83d9"),r=s("f6f3"),n=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:a.version,mode:s("2182")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},ef90:function(t,e,s){t.exports=!s("1897")&&!s("c620")((function(){return 7!=Object.defineProperty(s("84a9")("div"),"a",{get:function(){return 7}}).a}))},f6f3:function(t,e){var s=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)}}).default},t.exports=a()},,function(t,e,s){s(114),s(119),s(121),s(123),t.exports=s(125)},function(t,e,s){"use strict";var a=s(60);s.n(a).a},function(t,e,s){(t.exports=s(14)(!1)).push([t.i,".navbar-brand img[data-v-0beb95c4]{width:100px;transition:.5s}@media (min-width:992px){.navbar-brand img[data-v-0beb95c4]{width:200px}}@media (min-width:992px){.active[data-v-0beb95c4]{background-color:#38c172;border-radius:5px;color:#fff!important}}",""])},function(t,e,s){"use strict";var a=s(61);s.n(a).a},function(t,e,s){(t.exports=s(14)(!1)).push([t.i,"body{background-color:#38c172!important}",""])},function(t,e,s){"use strict";var a=s(62);s.n(a).a},function(t,e,s){(t.exports=s(14)(!1)).push([t.i,"td[data-v-794a3d6e],th[data-v-794a3d6e],tr[data-v-794a3d6e]{white-space:pre-wrap}",""])},,,function(t,e,s){"use strict";var a=s(63);s.n(a).a},function(t,e,s){(t.exports=s(14)(!1)).push([t.i,"table thead th[data-v-140c9ab0]{vertical-align:middle!important}",""])},function(t,e,s){"use strict";var a=s(64);s.n(a).a},function(t,e,s){(t.exports=s(14)(!1)).push([t.i,"td[data-v-64542644],th[data-v-64542644],tr[data-v-64542644]{vertical-align:middle!important;text-align:center}",""])},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";s.r(e);var a=s(5),r=s.n(a),n=document.getElementById("APP_API_URL").value.replace("api/",""),i={created:function(){},data:function(){return{base_url:n,links:[{title:"Home",path:"/"},{title:"Customers",path:"/customers"},{title:"Workplaces",path:"/workplaces"},{title:"Planner",path:"/planner"},{title:"Reports",path:"/reports"}]}}},o=(s(79),s(0)),l={components:{Navbar:Object(o.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-white px-0"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[s("img",{staticClass:"img-fluid",attrs:{src:t.base_url+"images/logo.png",alt:""}}),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"small text-muted d-none d-lg-block"},[t._v("Welcome "+t._s(t.$store.state.AppModule.user.name))])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"navbar-collapse collapse",attrs:{id:"rep_navbar"}},[s("ul",{staticClass:"navbar-nav ml-auto"},[s("li",{staticClass:"nav-item dropdown"},[t._m(1),t._v(" "),s("ul",{staticClass:"dropdown-menu dropdown-menu-left",attrs:{id:"new_menu"}},[s("li",{staticClass:"dropdown-submenu"},[t._m(2),t._v(" "),s("ul",{staticClass:"dropdown-menu dropdown-menu-left"},[s("li",{staticClass:"px-2"},[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/reports/add/pm"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("PM visit")])])],1),t._v(" "),s("li",{staticClass:"px-2"},[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/reports/add/Am"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("AM visit")])])],1),t._v(" "),s("li",{staticClass:"px-2"},[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/reports/add/pharmacy"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("Pharmacy visit")])])],1),t._v(" "),s("li",{staticClass:"px-2"},[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/reports/add/activity-report?type=field-activity"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("Field activity report")])])],1),t._v(" "),s("li",{staticClass:"px-2"},[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/reports/add/activity-report?type=non-field-activity"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("Non Field activity report")])])],1)])]),t._v(" "),s("li",{staticClass:"dropdown-submenu"},[t._m(3),t._v(" "),s("ul",{staticClass:"dropdown-menu dropdown-menu-left"},[s("li",[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/planner/add-pm"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("Plan PM visit")])])],1),t._v(" "),s("li",[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/planner/add-am"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("Plan AM visit")])])],1),t._v(" "),s("li",[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/planner/add-field-activity"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("Plan Field activity")])])],1),t._v(" "),s("li",[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/planner/add-non-field-activity"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("Plan Non Field activity")])])],1)])]),t._v(" "),s("li",{staticClass:"dropdown-submenu"},[t._m(4),t._v(" "),s("ul",{staticClass:"dropdown-menu dropdown-menu-left"},[s("li",[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/reports/add/request"}},[s("span",[s("i",{staticClass:"fa fa-dollar-sign"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("New Request")])])],1),t._v(" "),s("li",[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/customers/new"}},[s("span",[s("i",{staticClass:"fa fa-user-plus"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("New customer")])])],1),t._v(" "),s("li",[s("router-link",{staticClass:"drop-</li>item small nav-link",attrs:{to:"/workplaces/add-hospital"}},[s("span",[s("i",{staticClass:"fa fa-hospital-user"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("New hospital")])])],1),t._v(" "),s("li",[s("router-link",{staticClass:"drop-item small nav-link",attrs:{to:"/workplaces/add-pharmacy"}},[s("span",[s("i",{staticClass:"fa fa-store-alt"})]),t._v(" "),s("span",{staticClass:"ml-1"},[t._v("New pharmacy")])])],1)])])])]),t._v(" "),t._l(t.links,(function(e,a){return s("li",{key:a,staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:e.path,"active-class":"active",exact:"/"===e.path}},[s("span",[t._v(t._s(e.title))])])],1)})),t._v(" "),s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#user_menu","data-toggle":"dropdown"}},[t._v("User")]),t._v(" "),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{id:"user_menu"}},[s("a",{staticClass:"nav-link dropdown-item small",attrs:{href:t.base_url+"change-password"}},[t._m(5),t._v(" "),s("span",[t._v("change password")])]),t._v(" "),s("div",{staticClass:"dropdown-divider"}),t._v(" "),s("a",{staticClass:"nav-link small dropdown-item",attrs:{href:t.base_url+"logout"}},[t._m(6),t._v(" "),s("span",[t._v("logout")])])])])],2)])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{"data-toggle":"collapse","data-target":"#rep_navbar"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#new_menu","data-toggle":"dropdown"}},[e("span",[e("i",{staticClass:"fa fa-check-circle"})]),this._v(" "),e("span",[this._v("Actions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"dropdown-submenu-title nav-link clearfix px-2"},[e("span",[this._v("Visit")]),this._v(" "),e("span",{staticClass:"fa fa-chevron-circle-right float-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"dropdown-submenu-title nav-link clearfix px-2"},[e("span",[this._v("Plan")]),this._v(" "),e("span",{staticClass:"fa fa-chevron-circle-right float-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"dropdown-submenu-title nav-link clearfix px-2"},[e("span",[this._v("New")]),this._v(" "),e("span",{staticClass:"fa fa-chevron-circle-right float-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-door-open"})])}],!1,null,"0beb95c4",null).exports},mounted:function(){var t=this;this.$store.dispatch("getCycles").then((function(){return t.$store.dispatch("getActiveCycle")}))}},c=(s(81),Object(o.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("navbar"),this._v(" "),e("div",{staticClass:"my-2 bg-white p-2",staticStyle:{"min-height":"600px"}},[e("router-view",{staticClass:"page-fade"})],1)],1)}),[],!1,null,null,null).exports),u=s(21),d=s(1),p=document.getElementById("user");p&&(p=JSON.parse(p.value));var m={state:{specialties:["Gynaecology","Asthma","Cardiology","Cardiothoracic/Thoracic Surger","Dermatology","Diabetology","Endocrinology","ENT","Family Medicine","Gastroenterological Surgery","Gastroenterology","General Practice","General Surgery","Gyna","Gynaecology","Haematology","Hepatology","Infectious Diseases","Internal Medicine","Neonatology","Nephrology","Neurology","Neuropsychiatry","Neurosurgery","Nutrition Medicine","Oncology","Ophthalmology","Orthopaedics","Otorhinolaryngology","Paediatrics","Physiotherapy","Pneumology","Rheumatology","Surgical Oncology","Tropical Medicine"],titles:["Assistant","Resident","Specialist","Physician","Prof"],params:["HH","HM","HL","MH","MM","ML","LH","LM","LL","NN","XX"],user:p,hospitalTypes:["MOH hospital","PolyClinic","Health unit","Company","Private hospital","Tender","Military hospital"],pharmacyTypes:["Private","Company","Tender","Chain"],visitTypes:["pm face to face","am face to face","sample visit","double visit"],products:["Ferrotron","Calcitron","Ferrotron Sachets","Calcitron Sachets","Octatron","Chromitron","Zinctron","Trib Gold","After Meals","Hi-potency","Syno","Rocha","Ivoreen","herbolin","Peopospan","Peopobruf tablets","Peopobruf drops","Chemicetrizine","Quinofloxachem","Aceliofenaz"],lader_of_adaption:["Never heared","Aware and not use","Tried in a few Rx","Sharing with competitor","2nd line Rx","1st line Rx","1st in all Rx","Advocator"],visit_actions:["Remind message","Finding new indication","Competitor attack","Thanking visit","Sharpen Commitment","Demonstrate a new message","Handle Objections","Make a deal","Finding new needs"],userLocations:[],isUserLocationsFetched:!1,cycles:[],activeCycle:null,canEditReportDate:!1,reportInterval:30},actions:{getUserLocations:function(t,e){var s=t.state;if(!s.userLocations.length||e)return s.userLocations=[],s.isUserLocationsFetched=!1,d.a.get("rep/v1/locations").then((function(t){var e=t.data;s.userLocations=e.data,s.isUserLocationsFetched=!0})).catch((function(t){console.log(t)}))},getCycles:function(t,e){var s=t.state;if(!s.cycles.length||e)return s.cycles=[],d.a.get("rep/v1/cycles").then((function(t){var e=t.data;return s.cycles=e.data})).catch((function(t){return console.log(t)}))},getActiveCycle:function(t,e){var s=t.state;if(!s.activeCycle||e)return s.activeCycle=null,d.a.get("rep/v1/active-cycle").then((function(t){var e=t.data;s.activeCycle=e.data,s.canEditReportDate="true"===e.can_edit_report_date,s.reportInterval=e.report_interval})).catch((function(t){return console.log(t)}))}},mutations:{},getters:{specialty:function(t){return t.specialties},title:function(t){return t.titles},param:function(t){return t.params},hospitalTypes:function(t){return t.hospitalTypes},pharmacyTypes:function(t){return t.pharmacyTypes},visitTypes:function(t){return t.visitTypes},products:function(t){return t.products},lader:function(t){return t.lader_of_adaption},visitActions:function(t){return t.visit_actions},userLocations:function(t){return t.userLocations},isUserLocationsFetched:function(t){return t.isUserLocationsFetched},repCycles:function(t){return t.cycles},repActiveCycle:function(t){return t.activeCycle},canEditReportDate:function(t){return t.canEditReportDate},reportInterval:function(t){return t.reportInterval}}},v=s(20),f={mounted:function(){var t=this;this.$store.dispatch("getNonFieldActivityPlans").finally((function(){t.$store.dispatch("getWorkplacePlanner").finally((function(){t.$store.dispatch("getPlanner")}))}))},data:function(){return{isLoading:!1,isFetched:!1,today:(new Date).format("YYYY-MM-DD")}},computed:{plannedCustomers:function(){var t,e=this,s=this.$store.getters.allPlans;return t=s.filter((function(t){return t.start===e.today})),s.length&&(this.isFetched=!0),t},fetched:function(){return this.$store.getters.isPlansFetched}},methods:{loadPlans:function(){var t=this;this.isLoading=!0,this.$store.dispatch("getPlanner").then((function(){t.$store.dispatch("getWorkplacePlanner")})).finally((function(){t.isLoading=!1}))},generateVisitLink:function(t){var e={icon:"",link:"",color:""};return["AM","submitted AM"].includes(t.class)?(e.icon="fa fa-hospital text-success",e.link="/reports/add/am/".concat(t.workplace_id),e.color="text-success"):["PM","submitted PM"].includes(t.class)?(e.icon="fa fa-user-md text-primary",e.link="/reports/add/pm/".concat(t.customer_id),e.color="text-primary"):(e.icon="fa fa-user-plus text-dark",e.link="/reports/add/activity-report?type=".concat(t.class),e.color="text-dark"),e}}},h=Object(o.a)(f,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 border"},[t._m(0),t._v(" "),s("div",{staticClass:"row mx-auto align-items-center justify-content-around my-1 p-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.today,expression:"today"}],staticClass:"form-control form-control-sm col",attrs:{type:"date"},domProps:{value:t.today},on:{input:function(e){e.target.composing||(t.today=e.target.value)}}})]),t._v(" "),s("hr",{staticClass:"my-1"}),t._v(" "),s("div",[t.plannedCustomers.length?s("div",[s("ul",{staticClass:"nav"},t._l(t.plannedCustomers,(function(e,a){return s("li",{key:e.id+"_"+a,staticClass:"nav-item col-12 border-bottom clearfix"},[s("span",{class:t.generateVisitLink(e).icon}),t._v(" "),s("span",{staticClass:"text-muted"},[t._v(t._s(e.title))]),t._v(" "),s("router-link",{staticClass:"float-right",attrs:{to:t.generateVisitLink(e).link}},[s("span",[s("i",{class:"fa fa-hands-helping "+t.generateVisitLink(e).color})])])],1)})),0)]):t.fetched?s("div",{staticClass:"text-center p-3"},[s("p",{staticClass:"text-muted small"},[t._v("No plans found")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/planner"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("plan")])])],1):s("loader-component")],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-info mb-0 text-center p-1"},[e("span",[this._v("Today Plan")])])}],!1,null,null,null).exports,_=s(76),y={components:{KnobControl:s.n(_).a},props:["val","max"]},b={components:{TodayPlan:h,KnobCard:Object(o.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("div",{staticClass:"text-center"},[s("knob-control",{attrs:{max:t.max,"stroke-width":8,animation:{animated:!0,animateValue:!0,animationDuration:"5000",animationFunction:"linear"},"step-size":1,readonly:!0,"primary-color":"#38c172","text-color":"#38c172"},model:{value:t.val,callback:function(e){t.val=e},expression:"val"}}),t._v(" "),t._t("default")],2)])])}),[],!1,null,null,null).exports,BroadcastingMessages:s(59).a},created:function(){var t=this;this.$store.dispatch("getPlanner").then((function(){t.$store.dispatch("reportGetAll")})).then((function(){t.$store.dispatch("customerGetAll")}))},computed:{reportPercent:function(){var t=this.$store.getters.pmVisits,e=this.$store.getters.plans,s=t.length/e.length*100;return parseInt(s.toFixed(1))},planPercent:function(){var t=0;this.$store.getters.all.map((function(e){return t+=e.current_freq}));var e=this.$store.getters.plans;return parseInt((e.length/t*100).toFixed(1))}}},g=Object(o.a)(b,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg-3"},[s("div",{attrs:{id:"today_plan_section"}},[s("today-plan")],1)]),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("broadcasting-messages")],1),t._v(" "),s("div",{staticClass:"col-lg-auto"},[s("p",{staticClass:"lead text-center text-muted"},[t._v("Quick Analysis")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"border rounded p-2"},[t.reportPercent?s("knob-card",{attrs:{val:t.reportPercent,max:100}},[s("p",{staticClass:"text-muted font-italic small"},[t._v("Plan achievment %")])]):t._e()],1),t._v(" "),s("div",{staticClass:"border rounded p-2 my-1"},[t.planPercent?s("knob-card",{attrs:{val:t.planPercent,max:t.planPercent>100?200:100}},[s("p",{staticClass:"text-muted font-italic small"},[t._v("Plan versus Frequency %")])]):t._e()],1)])])])])])}),[],!1,null,null,null).exports,C=s(11),w={components:{SidebarComponent:C.a},created:function(){this.$store.dispatch("customerGetAll")},data:function(){return{links:[{title:"Add",link:"/customers/new",icon:"fa-plus-circle"},{title:"Active",link:"/customers",icon:"fa-unlock"},{title:"Inactive",link:"/customers/inactive",icon:"fa-lock"},{title:"All",link:"/customers/all",icon:"fa-user-md"},{title:"Favorite",link:"/customers/favorite",icon:"fa-star"},{title:"Frequency",link:"/customers/frequency",icon:"fa-wave-square"}]}}},x=Object(o.a)(w,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"row mx-auto"},[e("div",{staticClass:"col-lg-3"},[e("sidebar-component",{attrs:{links:this.links}})],1),this._v(" "),e("div",{staticClass:"col-lg-9 p-2"},[e("router-view",{staticClass:"page-fade"})],1)])])}),[],!1,null,null,null).exports,k=s(3),P=s(7),S=s(2),$={props:["data","onClose","onFilter","onReset"],computed:{customers:function(){return this.data},filterItems:function(){return this.getFilterItems(this.data)}},data:function(){return{filter:{brick:"",specialty:"",freq:"",param:"",plan:"",report:""},mustReset:!1}},methods:{filterCustomers:function(){var t=this.customers,e=this.filter,s=e.brick,a=e.specialty,r=e.freq,n=e.param,i=e.plan,o=e.report;""!==s&&(t=t.filter((function(t){return t.brick===s}))),""!==a&&(t=t.filter((function(t){return t.specialty===a}))),""!==n&&(t=t.filter((function(t){return t.parameter===n}))),""!==r&&(t=t.filter((function(t){return t.current_freq===parseInt(r)}))),""!==i&&(console.log(i),t=t.filter((function(t){return t.plans===parseInt(i)}))),""!==o&&(t=t.filter((function(t){return t.reports===parseInt(o)}))),this.onFilter(t)},getFilterItems:function(t){return Object(S.f)(t,["brick","current_freq","specialty","plans","parameter","reports"])},closeModal:function(){this.onClose()}}},E=Object(o.a)($,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shadow custom-modal-window"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"row mx-auto my-1"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Brick")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.brick,expression:"filter.brick"}],staticClass:"form-control form-control-sm",attrs:{name:"brick",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"brick",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.filterItems.brick,(function(e,a){return s("option",{key:"filter_birck_"+a,domProps:{value:a}},[t._v("\n            "+t._s(a)+" ("+t._s(e.length)+")\n          ")])}))],2)]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Specialty")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.specialty,expression:"filter.specialty"}],staticClass:"form-control form-control-sm",attrs:{name:"specialty",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"specialty",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.filterItems.specialty,(function(e,a){return s("option",{key:"filter_specialty_"+a,domProps:{value:a}},[t._v("\n            "+t._s(a)+" ("+t._s(e.length)+")\n          ")])}))],2)])]),t._v(" "),s("div",{staticClass:"row mx-auto my-1"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Parameter")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.param,expression:"filter.param"}],staticClass:"form-control form-control-sm",attrs:{name:"parameter",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"param",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.filterItems.parameter,(function(e,a){return s("option",{key:"filter_param_"+a,domProps:{value:a}},[t._v("\n            "+t._s(a)+" ("+t._s(e.length)+")\n          ")])}))],2)]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Frequency")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.freq,expression:"filter.freq"}],staticClass:"form-control form-control-sm",attrs:{name:"freq",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"freq",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.filterItems.current_freq,(function(e,a){return s("option",{key:"filter_freq_"+a,domProps:{value:a}},[t._v("\n            "+t._s(a)+" ("+t._s(e.length)+")\n          ")])}))],2)])]),t._v(" "),s("div",{staticClass:"row mx-auto my-1"},[s("div",{staticClass:"col-lg-6"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Number of plans")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.plan,expression:"filter.plan"}],staticClass:"form-control form-control-sm",attrs:{name:"plans",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"plan",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.filterItems.plans,(function(e,a){return s("option",{key:"filter_plan_"+a,domProps:{value:a}},[t._v("\n            "+t._s(a)+" ("+t._s(e.length)+")\n          ")])}))],2)]),t._v(" "),s("div",{staticClass:"col-lg-6"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Number of Reports")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.report,expression:"filter.report"}],staticClass:"form-control form-control-sm",attrs:{name:"reports",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"report",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("All")]),t._v(" "),t._l(t.filterItems.reports,(function(e,a){return s("option",{key:"filter_report_"+a,domProps:{value:a}},[t._v("\n            "+t._s(a)+" ("+t._s(e.length)+")\n          ")])}))],2)])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("button",{staticClass:"btn btn-dark btn-sm",attrs:{type:"button"},on:{click:t.closeModal}},[t._m(1),t._v(" "),s("span",[t._v("close")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.onReset}},[t._m(2),t._v(" "),s("span",[t._v("reset")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.filterCustomers}},[t._m(3),t._v(" "),s("span",[t._v("ok")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-info"},[e("span",[e("i",{staticClass:"fa fa-filter"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Filter Customers")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-times"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-redo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-check-circle"})])}],!1,null,null,null).exports,O=s(4),A={computed:{customers:function(){return this.$store.getters.active},fetched:function(){return this.$store.getters.fetched}},data:function(){return{heads:P.b,showFilter:!1}},components:{TableComponent:k.a,CustomerFilter:E,NoDataToShow:O.a},methods:{closeFilterModal:function(){this.showFilter=!1},showFilterModal:function(){this.showFilter=!0},onFilter:function(t){this.$store.commit("filterCustomers",{name:"activeCustomers",data:t}),this.showFilter=!1},onReset:function(){var t=this.$store.getters.all.filter((function(t){return!["NN","XX"].includes(t.parameter)}));this.$store.commit("filterCustomers",{name:"activeCustomers",data:t}),this.showFilter=!1}}},T=Object(o.a)(A,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow rounded"},[t.showFilter?s("customer-filter",{attrs:{data:t.customers,onClose:t.closeFilterModal,onFilter:t.onFilter,onReset:t.onReset}}):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/customers/new"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("New")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.$store.dispatch("customerGetAll",!0)}}},[t._m(1),t._v(" "),s("span",[t._v("refresh list")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.showFilterModal}},[t._m(2),t._v(" "),s("span",[t._v("Filter")])])],1),t._v(" "),s("div",{staticClass:"p-2"},[t.customers.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{heads:t.heads,data:t.customers,headClass:"bg-success text-light","with-favorite":!0},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("Actions")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[t._v(t._s(a.id))]),t._v(" "),s("td",[s("router-link",{staticClass:"btn btn-sm btn-info",attrs:{to:"/customers/view/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-eye"})])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/customers/edit/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])])],1)]}},{key:"head",fn:function(){return[s("th",[t._v("Missed")]),t._v(" "),s("th",[t._v("Status")]),t._v(" "),s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Brick")]),t._v(" "),s("th",[t._v("Area")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[t._v("\n              "+t._s(a.plans-a.reports)+"\n            ")]),t._v(" "),s("td",{staticClass:"font-weight-bold"},[a.plans-a.reports>0?s("span",{staticClass:"bg-danger p-1 text-light"},[t._v("Missed")]):0!==a.plans&&a.plans-a.reports==0?s("span",{staticClass:"bg-success p-1 text-light"},[t._v("Accomplished")]):a.plans-a.reports<0?s("span",{staticClass:"bg-primary p-1 text-light"},[t._v("Over")]):0===a.plans&&a.plans-a.reports==0?s("span",{staticClass:"bg-dark p-1 text-light"},[t._v("Not targeted")]):t._e()]),t._v(" "),s("td",[t._v("\n              "+t._s(a.address)+"\n            ")]),t._v(" "),s("td",[t._v("\n              "+t._s(a.brick)+"\n            ")]),t._v(" "),s("td",[t._v("\n              "+t._s(a.area)+"\n            ")])]}}],null,!1,1978265182)})],1):t.fetched?s("div",[s("no-data-to-show")],1):s("loader-component")],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-check-square"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Active Customer List")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-redo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-filter"})])}],!1,null,null,null).exports,R={computed:{customers:function(){return this.$store.getters.inactive},fetched:function(){return this.$store.getters.fetched}},data:function(){return{heads:P.b,showFilter:!1}},components:{TableComponent:k.a,CustomerFilter:E,NoDataToShow:O.a},methods:{closeFilterModal:function(){this.showFilter=!1},showFilterModal:function(){this.showFilter=!0},onFilter:function(t){this.$store.commit("filterCustomers",{name:"inactiveCustomers",data:t}),this.showFilter=!1},onReset:function(){var t=this.$store.getters.all.filter((function(t){return["NN","XX"].includes(t.parameter)}));this.$store.commit("filterCustomers",{name:"inactiveCustomers",data:t}),this.showFilter=!1}}},N=Object(o.a)(R,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow rounded"},[t.showFilter?s("customer-filter",{attrs:{data:t.customers,onClose:t.closeFilterModal,onFilter:t.onFilter,onReset:t.onReset}}):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/customers/new"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("New")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.$store.dispatch("customerGetAll",!0)}}},[t._m(1),t._v(" "),s("span",[t._v("refresh list")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.showFilterModal}},[t._m(2),t._v(" "),s("span",[t._v("Filter")])])],1),t._v(" "),s("div",{staticClass:"p-2"},[t.customers.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{heads:t.heads,data:t.customers,headClass:"bg-success text-light","with-favorite":!0},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("Actions")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[t._v(t._s(a.id))]),t._v(" "),s("td",[s("router-link",{staticClass:"btn btn-sm btn-info",attrs:{to:"/customers/view/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-eye"})])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/customers/edit/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])])],1)]}},{key:"head",fn:function(){return[s("th",[t._v("Missed")]),t._v(" "),s("th",[t._v("Status")]),t._v(" "),s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Brick")]),t._v(" "),s("th",[t._v("Area")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[t._v("\n              "+t._s(a.plans-a.reports)+"\n            ")]),t._v(" "),s("td",[a.plans-a.reports>0?s("span",{staticClass:"bg-danger p-1 text-light"},[t._v("Missed")]):0!==a.plans&&a.plans-a.reports==0?s("span",{staticClass:"bg-success p-1 text-light"},[t._v("Accomplished")]):a.plans-a.reports<0?s("span",{staticClass:"bg-primary p-1 text-light"},[t._v("Over")]):0===a.plans&&a.plans-a.reports==0?s("span",{staticClass:"bg-dark p-1 text-light"},[t._v("Not targeted")]):t._e()]),t._v(" "),s("td",[t._v("\n              "+t._s(a.address)+"\n            ")]),t._v(" "),s("td",[t._v("\n              "+t._s(a.brick)+"\n            ")]),t._v(" "),s("td",[t._v("\n              "+t._s(a.area)+"\n            ")])]}}],null,!1,4114539630)})],1):t.fetched?s("div",[s("no-data-to-show")],1):s("loader-component")],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-lock"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("All Customer List")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-redo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-filter"})])}],!1,null,null,null).exports,F={computed:{customers:function(){return this.$store.getters.allCustomers},fetched:function(){return this.$store.getters.fetched}},data:function(){return{heads:P.b,showFilter:!1}},components:{TableComponent:k.a,CustomerFilter:E,NoDataToShow:O.a},methods:{closeFilterModal:function(){this.showFilter=!1},showFilterModal:function(){this.showFilter=!0},onFilter:function(t){this.$store.commit("filterCustomers",{name:"allCustomers",data:t}),this.showFilter=!1},onReset:function(){var t=this.$store.getters.all;this.$store.commit("filterCustomers",{name:"allCustomers",data:t}),this.showFilter=!1}}},j=Object(o.a)(F,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow rounded"},[t.showFilter?s("customer-filter",{attrs:{data:t.customers,onClose:t.closeFilterModal,onFilter:t.onFilter,onReset:t.onReset}}):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/customers/new"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("New")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.$store.dispatch("customerGetAll",!0)}}},[t._m(1),t._v(" "),s("span",[t._v("refresh list")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.showFilterModal}},[t._m(2),t._v(" "),s("span",[t._v("Filter")])])],1),t._v(" "),s("div",{staticClass:"p-2"},[t.customers.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{heads:t.heads,data:t.customers,headClass:"bg-success text-light","with-favorite":!0},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("Actions")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[t._v(t._s(a.id))]),t._v(" "),s("td",[s("router-link",{staticClass:"btn btn-sm btn-info",attrs:{to:"/customers/view/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-eye"})])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/customers/edit/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])])],1)]}},{key:"head",fn:function(){return[s("th",[t._v("Missed")]),t._v(" "),s("th",[t._v("Status")]),t._v(" "),s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Brick")]),t._v(" "),s("th",[t._v("Area")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[t._v("\n              "+t._s(a.plans-a.reports)+"\n            ")]),t._v(" "),s("td",[a.plans-a.reports>0?s("span",{staticClass:"bg-danger p-1 text-light"},[t._v("Missed")]):0!==a.plans&&a.plans-a.reports==0?s("span",{staticClass:"bg-success p-1 text-light"},[t._v("Accomplished")]):a.plans-a.reports<0?s("span",{staticClass:"bg-primary p-1 text-light"},[t._v("Over")]):0===a.plans&&a.plans-a.reports==0?s("span",{staticClass:"bg-dark p-1 text-light"},[t._v("Not targeted")]):t._e()]),t._v(" "),s("td",[t._v("\n              "+t._s(a.address)+"\n            ")]),t._v(" "),s("td",[t._v("\n              "+t._s(a.brick)+"\n            ")]),t._v(" "),s("td",[t._v("\n              "+t._s(a.area)+"\n            ")])]}}],null,!1,4114539630)})],1):t.fetched?s("div",[s("no-data-to-show")],1):s("loader-component")],1)],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-list"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("All Customer List")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-redo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-filter"})])}],!1,null,null,null).exports,D={created:function(){this.getFavoriteList()},data:function(){return{customers:[],fetched:!1,heads:P.b}},components:{TableComponent:k.a,NoDataToShow:O.a},methods:{getFavoriteList:function(){var t=this;d.a.get("customers-favorite-list").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.fetched=!0,t.customers=e.data}))}))},clearAllFavoriteList:function(){var t=this;d.a.post("customers-favorite-list/clear").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.getFavoriteList()}))})).catch((function(e){console.log(e),t.$toasted.error("Something went wrong")}))}}},q=Object(o.a)(D,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow rounded"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"p-2 text-right"},[s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button",disabled:!t.customers.length},on:{click:t.clearAllFavoriteList}},[s("span",{staticClass:"fa fa-redo-alt"}),t._v(" "),s("span",[t._v("clear all")])])]),t._v(" "),t.customers.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{heads:t.heads,data:t.customers,headClass:"bg-success text-light","with-unlink":!0,"on-unlink":t.getFavoriteList},scopedSlots:t._u([{key:"head",fn:function(){return[s("th",[t._v("Actions")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[s("router-link",{staticClass:"btn btn-sm btn-info",attrs:{to:"/customers/view/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-eye"})])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/customers/edit/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])])],1)]}}],null,!1,3277624898)})],1):t.fetched?s("div",[s("no-data-to-show")],1):s("loader-component")],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-star"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Favorite list")])])}],!1,null,null,null).exports;function M(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function I(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?M(Object(s),!0).forEach((function(e){L(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function L(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var V={data:function(){return{customer:{name:"",title:"",specialty:"",workplace_id:"",brick:"",address:"",phone:""},customerLocation:{}}},mounted:function(){var t=this;this.$store.dispatch("getUserLocations").then((function(){t.$store.dispatch("workplaceGetAll")}))},computed:{specialty:function(){return this.$store.getters.specialty},param:function(){return this.$store.getters.param},title:function(){return this.$store.getters.title},workplaces:function(){return this.$store.getters.allWorkplaces},userLocations:function(){return this.$store.getters.userLocations}},methods:{onSubmit:function(){var t=I(I({},this.customer),this.customerLocation);this.$store.dispatch("addNewCustomer",t)}}},U=Object(o.a)(V,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[s("p",[t._v("Customer Info.")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.title,expression:"customer.title"}],staticClass:"form-control form-control-sm",attrs:{name:"title",id:"title"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customer,"title",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select title")]),t._v(" "),t._l(t.title,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]),t._v(" "),s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("ValidationProvider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.name,expression:"customer.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"name",name:"name",placeholder:"Customer name"},domProps:{value:t.customer.name},on:{input:function(e){e.target.composing||t.$set(t.customer,"name",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"specialty"}},[t._v("Specialty")]),t._v(" "),s("ValidationProvider",{attrs:{name:"specialty",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.specialty,expression:"customer.specialty"}],staticClass:"form-control form-control-sm",attrs:{name:"specialty",id:"specialty"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customer,"specialty",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select specialty")]),t._v(" "),t._l(t.specialty,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"workplace"}},[t._v("Workplace")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.workplace_id,expression:"customer.workplace_id"}],staticClass:"form-control form-control-sm",attrs:{name:"workplace",id:"workplace"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customer,"workplace_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select workplace")]),t._v(" "),t._l(t.workplaces,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"brick"}},[t._v("Brick")]),t._v(" "),s("ValidationProvider",{attrs:{name:"brick",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customerLocation,expression:"customerLocation"}],staticClass:"form-control form-control-sm",attrs:{name:"brick",id:"brick"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.customerLocation=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("select brick")]),t._v(" "),t._l(t.userLocations,(function(e,a){return s("option",{key:"brick_"+a,domProps:{value:e}},[t._v(t._s(e.brick))])}))],2)]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"address"}},[t._v("Address")]),t._v(" "),s("ValidationProvider",{attrs:{name:"address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address,expression:"customer.address"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"text",id:"address",name:"address",placeholder:"Enter customer address"},domProps:{value:t.customer.address},on:{input:function(e){e.target.composing||t.$set(t.customer,"address",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"phone"}},[t._v("Phone")]),t._v(" "),s("ValidationProvider",{attrs:{name:"phone",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.phone,expression:"customer.phone"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"number",id:"phone",name:"phone",placeholder:"Enter customer phone"},domProps:{value:t.customer.phone},on:{input:function(e){e.target.composing||t.$set(t.customer,"phone",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-dark",attrs:{to:"/customers"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("add")])])],1)])]}}])})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Add new customer")])])}],!1,null,null,null).exports,B=s(8),W={created:function(){this.getCustomer()},methods:{getCustomer:function(){var t=this;this.isFetched=!1;var e=this.$route.params.id;d.a.get("rep/v1/customers/"+e).then((function(e){var s=e.data;t.isFetched=!0,t.handleResponse(s,(function(e){t.customer=e.data.customer,t.plans=e.data.plans,e.data.reports.map((function(t){t.products=JSON.parse(t.products)})),t.reports=e.data.reports}),(function(e){t.err_message=e}))}))},navigateToCustomer:function(){var t=event.target.value;t!==this.$route.params.id&&(this.$router.replace("/customers/view/".concat(t)),this.getCustomer())},addCustomerPlan:function(){var t=this,e={customers:JSON.stringify([this.$route.params.id]),date:this.new_plan_date};d.a.post("rep/v1/planner",e).then((function(e){var s=e.data;s.message="Plan added",t.handleResponse(s)})).finally((function(){t.err_message=null,t.open_plan_modal=!1,t.getCustomer()}))},toggleOtherRepsPlans:function(){var t=this;event.target.checked?(this.view_other_reps_plans=!0,this.other_reps_plans.length||d.a.get("rep/v1/other-reps/customer-plans/"+this.$route.params.id).then((function(e){var s=e.data;t.handleResponse(s,(function(e){return t.other_reps_plans=e.data}))})).catch((function(t){console.log(t)}))):this.view_other_reps_plans=!1},toggleOtherRepsReports:function(){var t=this;event.target.checked?(this.view_other_reps_report=!0,this.other_reps_reports.length||d.a.get("rep/v1/other-reps/customer-reports/"+this.$route.params.id).then((function(e){var s=e.data;t.handleResponse(s,(function(e){e.data.map((function(t){t.products=JSON.parse(t.products)})),t.other_reps_reports=e.data}))})).catch((function(t){console.log(t)}))):this.view_other_reps_report=!1},resetPlan:function(){this.plan_start=null,this.plan_end=null},resetReport:function(){this.report_start=null,this.report_end=null}},data:function(){return{customer:null,plans:[],reports:[],isFetched:!1,err_message:null,new_plan_date:(new Date).format("YYYY-MM-DD"),open_plan_modal:!1,view_other_reps_plans:!1,view_other_reps_report:!1,other_reps_plans:[],other_reps_reports:[],plan_start:null,plan_end:null,report_start:null,report_end:null}},computed:{customers:function(){return this.$store.getters.all},planCollection:function(){var t;return t=this.view_other_reps_plans?this.other_reps_plans:this.plans,t=Object(S.e)(t,"plan_date",{start:this.plan_start,end:this.plan_end})},reportCollection:function(){var t=[];return t=this.view_other_reps_report?this.other_reps_reports:this.reports,t=Object(S.e)(t,"visit_date",{start:this.report_start,end:this.report_end})}},components:{ModalFade:B.a}},Y=Object(o.a)(W,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow pb-3 rounded"},[s("p",{staticClass:"alert alert-success"},[s("span",{staticClass:"font-weight-bold"},[t._v("\n        View Customer "+t._s(t.customer?t.customer.name:null)+" card\n      ")])]),t._v(" "),s("div",{staticClass:"p-2"},[t.customer?s("div",[s("div",{staticClass:"text-right p-2 m-1"},[s("span",{staticClass:"lead"},[t._v("Go to :")]),t._v(" "),t.customers.length?s("select",{directives:[{name:"model",rawName:"v-model",value:t.$route.params.id,expression:"$route.params.id"}],staticClass:"mr-3",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.$route.params,"id",e.target.multiple?s:s[0])},t.navigateToCustomer]}},t._l(t.customers,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0):s("span",{staticClass:"mr-3"},[s("i",{staticClass:"fa fa-circle-notch fa-spin text-muted"})]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/customers"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/customers/edit/"+t.customer.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})]),t._v(" "),s("span",[t._v("edit")])])],1),t._v(" "),s("div",{staticClass:"border m-1 p-2 rounded"},[s("p",{staticClass:"lead"},[t._v("Customer info.")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n                Name: "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.name))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Specialty:\n                "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.specialty))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Title: "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.title))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Parameter:\n                "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.parameter))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Frequency:\n                "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.current_freq))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Plans: "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.plans))])])]),t._v(" "),s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n                Address:\n                "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.address?t.customer.address:"Null"))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Brick: "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.brick))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Area: "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.area))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Phone:\n                "),s("b",{staticClass:"text-primary"},[t._v(t._s(t.customer.phone?t.customer.phone:"Null"))])])])])]),t._v(" "),s("div",{staticClass:"px-0 border my-2"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"p-2 row mx-auto align-items-center"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){t.open_plan_modal=!0}}},[t._m(1),t._v(" "),s("span",[t._v("new plan")])]),t._v(" "),s("input",{staticClass:"mx-1",attrs:{type:"checkbox"},on:{click:t.toggleOtherRepsPlans}}),t._v(" "),s("span",{staticClass:"small"},[t._v("Other reps")]),t._v(" "),s("div",{staticClass:"form-inline border rounded p-2 mx-2"},[s("label",{staticClass:"small mx-2"},[t._v("from")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan_start,expression:"plan_start"}],staticClass:"form-control form-control-sm col-lg",attrs:{type:"date"},domProps:{value:t.plan_start},on:{input:function(e){e.target.composing||(t.plan_start=e.target.value)}}}),t._v(" "),s("label",{staticClass:"small mx-2"},[t._v("to")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan_end,expression:"plan_end"}],staticClass:"form-control form-control-sm col-lg",attrs:{type:"date"},domProps:{value:t.plan_end},on:{input:function(e){e.target.composing||(t.plan_end=e.target.value)}}}),t._v(" "),s("a",{staticClass:"badge badge-primary mx-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.resetPlan(e)}}},[s("span",{staticClass:"fa fa-redo"})])])]),t._v(" "),s("modal-fade",{attrs:{show:t.open_plan_modal},on:{onClose:function(){return t.open_plan_modal=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[s("p",{staticClass:"mb-0"},[t._v("Create new plan for "+t._s(t.customer.name))])]},proxy:!0},{key:"body",fn:function(){return[s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-muted small",attrs:{for:"date"}},[t._v("Date")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_plan_date,expression:"new_plan_date"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"plan_date",id:"plan_date"},domProps:{value:t.new_plan_date},on:{input:function(e){e.target.composing||(t.new_plan_date=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("button",{staticClass:"btn btn-success btn-sm",on:{click:t.addCustomerPlan}},[s("span",[s("i",{staticClass:"fa fa-plus"})]),t._v(" "),s("span",[t._v("add")])])])]},proxy:!0}],null,!1,1122899224)})],1),t._v(" "),t.planCollection.length>0?s("div",{staticClass:"p-2"},[s("table",{staticClass:"table table-sm small table-striped"},[s("thead",[s("tr",[s("th",[t._v("Date")]),t._v(" "),t.view_other_reps_plans?s("th",[t._v("Rep")]):t._e(),t._v(" "),s("th",[t._v("State")]),t._v(" "),s("th",[t._v("Dual")])])]),t._v(" "),s("tbody",t._l(t.planCollection,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.plan_date))]),t._v(" "),e.user?s("td",[t._v(t._s(e.user.name))]):t._e(),t._v(" "),s("td",[t._v("\n                    "+t._s(0===e.submitted?"not submitted":"submitted")+"\n                  ")]),t._v(" "),s("td",[t._v(t._s(e.type))])])})),0)])]):s("div",{staticClass:"text-center p-2"},[s("p",{staticClass:"lead text-muted"},[t._v("No planned visits")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/planner/add-pm"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("Add new plan")])])],1)]),t._v(" "),s("div",{staticClass:"my-2 px-0 border"},[t._m(2),t._v(" "),s("div",{staticClass:"my-2 p-2 row mx-auto align-items-center"},[s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/reports/add/pm/"+t.customer.id}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("new visit")])]),t._v(" "),s("input",{staticClass:"mx-1",attrs:{type:"checkbox"},on:{click:t.toggleOtherRepsReports}}),t._v(" "),s("span",{staticClass:"small"},[t._v("Other reps")]),t._v(" "),s("div",{staticClass:"form-inline p-2 mx-2 align-items-center border rounded"},[s("label",{staticClass:"small"},[t._v("from")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report_start,expression:"report_start"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.report_start},on:{input:function(e){e.target.composing||(t.report_start=e.target.value)}}}),t._v(" "),s("label",{staticClass:"small"},[t._v("to")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report_end,expression:"report_end"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.report_end},on:{input:function(e){e.target.composing||(t.report_end=e.target.value)}}}),t._v(" "),s("a",{staticClass:"badge badge-primary",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.resetReport(e)}}},[s("span",{staticClass:"fa fa-redo"})])])],1),t._v(" "),t.reportCollection.length?s("div",[s("table",{staticClass:"table table-sm small table-responsive"},[s("thead",[s("tr",[s("th",[t._v("Date")]),t._v(" "),t.view_other_reps_report?s("th",[t._v("Rep")]):t._e(),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Comment")]),t._v(" "),s("th",[t._v("Products")]),t._v(" "),s("th",[t._v("Feedback")])])]),t._v(" "),s("tbody",t._l(t.reportCollection,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.visit_date))]),t._v(" "),e.user?s("td",[t._v(t._s(e.user.name))]):t._e(),t._v(" "),s("td",[t._v(t._s(e.dual_with?"Double visit":"Single visit"))]),t._v(" "),s("td",[t._v(t._s(e.comment?e.comment:"-----"))]),t._v(" "),s("td",t._l(e.products,(function(e,a){return s("ul",{key:a,staticClass:"nav border-bottom my-1"},t._l(e,(function(e,a){return s("li",{key:a,staticClass:"nav-item col-12"},[s("span",[t._v(t._s(a)+" :\n                          "),s("span",{staticClass:"text-primary font-weight-bold"},[t._v(t._s(e))])])])})),0)})),0),t._v(" "),s("td",[t._v(t._s(e.general_feedback?e.general_feedback:"----"))])])})),0)])]):s("div",{staticClass:"text-center p-2"},[s("p",{staticClass:"text-muted"},[t._v("No visits for "+t._s(t.customer.name))])])])]):t.err_message?s("div",{staticClass:"text-center font-weight-bold text-danger"},[s("p",[t._v("Error : "+t._s(t.err_message.code))]),t._v(" "),s("p",[t._v("Message: "+t._s(t.err_message.data))])]):s("LoaderComponent")],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-calendar-alt"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Planned visits")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-plus-circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-hands-helping"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Customer Reports")])])}],!1,null,null,null).exports;function G(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function H(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?G(Object(s),!0).forEach((function(e){X(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):G(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function X(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var z={data:function(t){return{customer:null,loading:!1,error:!1,error_code:null}},created:function(){this.loading=!0,this.$store.dispatch("workplaceGetAll"),this.fetchCustomer()},methods:{fetchCustomer:function(){var t=this;d.a.get("rep/v1/customers/"+this.$route.params.id).then((function(e){var s=e.data;s.message="Customer ready",t.handleResponse(s,(function(e){t.customer=e.data.customer,t.loading=!1}),(function(e){t.error=!0,t.loading=!1,t.error_code=e.code}))}))},onSubmit:function(){var t=this,e=H(H({},this.customer),{},{_method:"PUT"});d.a.post("rep/v1/customers/"+this.$route.params.id,e).then((function(e){var s=e.data;s.message="Customer updated successfully",t.handleResponse(s,(function(e){t.$router.back()}))})).finally((function(){t.$store.dispatch("customerGetAll",!0)}))}},computed:{titles:function(){return this.$store.getters.title},param:function(){return this.$store.getters.param},workplaces:function(){return this.$store.getters.allWorkplaces}}},J=Object(o.a)(z,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[s("p",{staticClass:"alert alert-warning"},[t._m(0),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("\n        Edit Customer "),t.customer?s("span",[t._v(t._s(t.customer.name))]):t._e()])]),t._v(" "),s("div",{staticClass:"my-2 p-2"},[t.loading?s("loader-component"):t.error?s("div",{staticClass:"text-center"},[s("p",{staticClass:"font-weight-lighter",staticStyle:{"font-size":"3rem"}},[t._v("\n          Error "+t._s(t.error_code)+"\n        ")]),t._v(" "),s("p",{staticClass:"text-danger lead"},[s("b",[t._v("Oops")]),t._v(" something wrong happen")])]):s("div",[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[s("p",[t._v("Customer info.")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"specialty"}},[t._v("Specialty")]),t._v(" "),s("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",id:"specialty",readonly:"",disabled:""},domProps:{value:t.customer.specialty}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"brick"}},[t._v("Brick")]),t._v(" "),s("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",id:"brick",readonly:"",disabled:""},domProps:{value:t.customer.brick}})])]),t._v(" "),s("div",{staticClass:"row mx-auto my-2"},[s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.title,expression:"customer.title"}],staticClass:"form-control form-control-sm",attrs:{id:"title"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customer,"title",e.target.multiple?s:s[0])}}},t._l(t.titles,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)]),t._v(" "),s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"title"}},[t._v("Workplace")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.workplace_id,expression:"customer.workplace_id"}],staticClass:"form-control form-control-sm",attrs:{id:"title"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customer,"workplace_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select Workplace")]),t._v(" "),t._l(t.workplaces,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"specialty"}},[t._v("Address")]),t._v(" "),s("ValidationProvider",{attrs:{name:"address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.address,expression:"customer.address"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"address",name:"address",placeholder:"Enter customer address"},domProps:{value:t.customer.address},on:{input:function(e){e.target.composing||t.$set(t.customer,"address",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"form-group col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"phone"}},[t._v("Phone")]),t._v(" "),s("ValidationProvider",{attrs:{name:"phone",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.errors[0]?s("span",{staticClass:"text-danger small"},[t._v("Phone is missing")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.phone,expression:"customer.phone"}],staticClass:"form-control form-control-sm",attrs:{type:"number",id:"phone",name:"phone",placeholder:"Enter customer phone"},domProps:{value:t.customer.phone},on:{input:function(e){e.target.composing||t.$set(t.customer,"phone",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("p",[t._v("Customer parameters")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group row mx-auto"},[s("label",{staticClass:"text-muted col-lg-5",attrs:{for:"params"}},[t._v("Classification")]),t._v(" "),s("ValidationProvider",{staticClass:"col-lg",attrs:{name:"params",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.parameter,expression:"customer.parameter"}],staticClass:"form-control form-control-sm",attrs:{name:"params",id:"params"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customer,"parameter",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select Parameter")]),t._v(" "),t._l(t.param,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"form-group row mx-auto"},[s("label",{staticClass:"text-muted col-lg-5",attrs:{for:"frequency"}},[t._v("Frequency "),s("small",[t._v(" ( next cycle frequency )")])]),t._v(" "),s("ValidationProvider",{staticClass:"col-lg",attrs:{name:"frequency",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.next_freq,expression:"customer.next_freq"}],staticClass:"form-control form-control-sm",attrs:{type:"number",name:"frequency",id:"frequency",placeholder:"Enter frequency",min:"0",max:"10",disabled:t.customer.locked_freq},domProps:{value:t.customer.next_freq},on:{input:function(e){e.target.composing||t.$set(t.customer,"next_freq",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-dark",attrs:{to:"/customers"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),t.customer?s("router-link",{staticClass:"btn btn-primary",attrs:{to:"/customers/view/"+t.customer.id}},[s("span",[s("i",{staticClass:"fa fa-book-open"})]),t._v(" "),s("span",[t._v("view")])]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("update")])])],1)])]}}])})],1)],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-edit"})])}],!1,null,null,null).exports,K={components:{TableComponent:k.a,CustomerFilter:E,NoDataToShow:O.a},computed:{customers:function(){return this.$store.getters.active},isFetched:function(){return this.$store.getters.fetched},totalFrequency:function(){var t=0;this.customers.map((function(e){return t+=e.current_freq}));var e=0;return this.updated.length&&this.updated.map((function(t){return e+=t.frequency})),{totalCurrentFrequency:t,totalUpdatedFrequency:e}}},data:function(){return{heads:[{title:"Name",name:"name"},{title:"Specialty",name:"specialty"},{title:"Brick",name:"brick"},{title:"Parameter",name:"parameter"},{title:"Current",name:"current_freq"}],updated:[],isLoading:!1,fetched:!1,showFilter:!1}},methods:{updateCustomerFrequency:function(t){var e=parseInt(event.target.value),s=this.isExist(t);if(!1!==s)this.updated[s].frequency=e;else{var a=this.createUpdateObject(t,e);this.updated.push(a)}},lockFrequency:function(t){var e=event.target.checked,s=this.isExist(t);if(!1!==s)this.updated[s].locked=e;else{var a=this.getSelectedCustomerFrequency(t),r=this.createUpdateObject(t,a,e);this.updated.push(r)}},createUpdateObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={id:t,frequency:e,locked:s};return a},isExist:function(t){var e=!1;return this.updated.length?(this.updated.forEach((function(s,a){s.id===t&&(e=a)})),e):e},getSelectedCustomerFrequency:function(t){var e=0;return this.customers.forEach((function(s){s.id===t&&(e=s.next_freq)})),e},saveFrequency:function(){var t=this;this.isLoading=!0,d.a.post("rep/v1/customer-frequency",{customers:JSON.stringify(this.updated)}).then((function(e){var s=e.data;s.message="customers frequency updated",t.handleResponse(s,(function(e){t.updated=[],t.$store.dispatch("customerGetAll",!0).then((function(){t.isLoading=!1}))}))}))},submitFrequency:function(){var t=this;d.a.post("rep/v1/customer-frequency/submit").then((function(e){var s=e.data;s.message="Frequency submitted",t.handleResponse(s,(function(e){t.$store.dispatch("customerGetAll",!0)}))}))},closeFilterModal:function(){this.showFilter=!1},showFilterModal:function(){this.showFilter=!0},onFilter:function(t){this.$store.commit("filterCustomers",{name:"activeCustomers",data:t}),this.showFilter=!1},onReset:function(){var t=this.$store.getters.all.filter((function(t){return!["NN","XX"].includes(t.parameter)}));this.$store.commit("filterCustomers",{name:"activeCustomers",data:t}),this.updated=[],this.showFilter=!1}}},Q={path:"/customers",component:x,children:[{path:"",component:T},{path:"inactive",component:N},{path:"all",component:j},{path:"favorite",component:q},{path:"new",component:U},{path:"view/:id",component:Y},{path:"edit/:id",component:J},{path:"frequency",component:Object(o.a)(K,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showFilter?s("customer-filter",{attrs:{data:t.customers,onClose:t.closeFilterModal,onFilter:t.onFilter,onReset:t.onReset}}):t._e(),t._v(" "),s("div",{staticClass:"px-0 shadow rounded"},[t.isLoading?s("div",{staticClass:"custom-loader"},[s("div",{staticClass:"spinner-border"})]):t._e(),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/customers"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.$store.dispatch("customerGetAll",!0)}}},[t._m(1),t._v(" "),s("span",[t._v("refresh list")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.showFilterModal}},[t._m(2),t._v(" "),s("span",[t._v("Filter")])]),t._v(" "),t.updated.length?s("button",{staticClass:"btn btn-sm btn-success",on:{click:t.saveFrequency}},[s("span",{staticClass:"bg-light rounded-circle text-success px-1"},[t._v(t._s(t.updated.length))]),t._v(" "),s("span",[t._v("update")])]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.submitFrequency}},[t._m(3),t._v(" "),s("span",[t._v("Submit")])])],1),t._v(" "),s("div",{staticClass:"p-2"},[s("p",{staticClass:"text-muted"},[t._v("\n          Total Current Frequency :\n          "),s("span",{staticClass:"badge badge-primary p-1"},[t._v(t._s(t.totalFrequency.totalCurrentFrequency))])]),t._v(" "),s("p",{staticClass:"text-muted"},[t._v("\n          Total Updated Frequency :\n          "),s("span",{staticClass:"badge badge-primary p-1"},[t._v(t._s(t.totalFrequency.totalUpdatedFrequency))])])]),t._v(" "),t.customers.length?s("div",[s("table-component",{attrs:{heads:t.heads,data:t.customers,"head-class":"bg-success text-light","order-by":"Name,asc|Specialty,asc",unselectable:!0},scopedSlots:t._u([{key:"head",fn:function(){return[s("th",[t._v("Next")]),t._v(" "),s("th",[t._v("Submitted")]),t._v(" "),s("th",[t._v("Freqeuncy state")]),t._v(" "),s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Last update")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[s("input",{staticClass:"form-control form-control-sm",attrs:{type:"number",disabled:a.freq&&1===a.freq.submitted,min:0},domProps:{value:a.next_freq},on:{change:function(e){return t.updateCustomerFrequency(a.id)}}}),t._v(" "),s("span",{staticClass:"d-none"},[t._v(t._s(a.next_freq))])]),t._v(" "),s("td",[a.freq&&1===a.freq.submitted?s("span",[s("i",{staticClass:"fa fa-check text-success"})]):s("span",[s("i",{staticClass:"fa fa-times text-danger"})]),t._v(" "),s("span",{staticClass:"d-none"},[t._v(t._s(a.freq&&1===a.freq.submitted?"true":"false"))])]),t._v(" "),s("td",[t._v("\n              "+t._s(a.freq&&a.freq.state?a.freq.state:null)+"\n            ")]),t._v(" "),s("td",[t._v(t._s(a.address))]),t._v(" "),s("td",[t._v(t._s(a.last_freq_update))])]}}],null,!1,1595706223)})],1):t.isFetched?s("div",[s("no-data-to-show")],1):s("div",[s("loader-component")],1)])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-wave-square"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Customer Frequency list")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-redo"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-filter"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-paper-plane"})])}],!1,null,null,null).exports}]},Z={components:{SidebarComponent:C.a},data:function(){return{links:[{title:"Add Hospital",link:"/workplaces/add-hospital",icon:"fa-plus-circle"},{title:"Add Pharmacy",link:"/workplaces/add-pharmacy",icon:"fa-plus-circle"},{title:"Hospitals",link:"/workplaces",icon:"fa-hospital-alt"},{title:"Pharmacies",link:"/workplaces/pharmacies",icon:"fa-store"}]}}},tt=Object(o.a)(Z,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"row mx-auto"},[e("div",{staticClass:"col-lg-3"},[e("sidebar-component",{attrs:{links:this.links}})],1),this._v(" "),e("div",{staticClass:"col-lg-9"},[e("router-view",{staticClass:"page-fade"})],1)])])}),[],!1,null,null,null).exports,et={mounted:function(){this.$store.dispatch("workplaceGetAll")},computed:{all:function(){return this.$store.getters.allWorkplaces},fetched:function(){return this.$store.getters.isWorkplacesFetched}},components:{TableComponent:k.a,NoDataToShow:O.a},data:function(){return{heads:[{title:"Name",name:"name"},{title:"Type",name:"type"},{title:"Plans",name:"plans"},{title:"Reports",name:"visits"},{title:"Diff",name:"diff"}]}},methods:{calculateState:function(t){var e=t.diff,s=t.plans,a=t.visits;return 0===e&&0===s?{title:"Not Planned",class:"bg-dark text-light"}:0===e&&0!==s?{title:"Accomplished",class:"bg-success text-light"}:e>0&&0!==a?{title:"missed",class:"bg-warning text-dark"}:e>0&&0===a?{title:"uncoverd",class:"bg-danger text-light"}:{title:"over",class:"bg-primary text-light"}}}},st=Object(o.a)(et,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow pb-5"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/workplaces/add-hospital"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("new")])])],1),t._v(" "),t.all.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{heads:t.heads,data:t.all,"head-class":"bg-success text-light"},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("Action")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("th",[t._v(t._s(a.id))]),t._v(" "),s("td",[s("router-link",{staticClass:"btn btn-sm btn-info",attrs:{to:"/workplaces/hospital/view/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-eye"})])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/workplaces/hospital/edit/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])])],1)]}},{key:"head",fn:function(){return[s("th",[t._v("Achievment state")]),t._v(" "),s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Phone")]),t._v(" "),s("th",[t._v("Brick")]),t._v(" "),s("th",[t._v("Area")]),t._v(" "),s("th",[t._v("State")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",{class:""+t.calculateState(a).class},[t._v(t._s(t.calculateState(a).title))]),t._v(" "),s("td",[t._v(t._s(a.address))]),t._v(" "),s("td",[t._v(t._s(a.phone))]),t._v(" "),s("td",[t._v(t._s(a.brick))]),t._v(" "),s("td",[t._v(t._s(a.area))]),t._v(" "),s("td",[t._v(t._s(a.state))])]}}],null,!1,1845758460)})],1):t.fetched?s("div",{staticClass:"text-center"},[s("no-data-to-show",{attrs:{title:"No hospitals found"}},[s("router-link",{staticClass:"btn btn-success btn-sm",attrs:{to:"/workplaces/add-hospital"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("Add new Hospital")])])],1)],1):s("loader-component")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-list-alt"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Hospital list")])])}],!1,null,null,null).exports,at={created:function(){this.$store.dispatch("pharmacyGetAll")},components:{TableComponent:k.a,NoDataToShow:O.a},computed:{pharmacies:function(){return this.$store.getters.pharmacies},fetched:function(){return this.$store.getters.isPharmacyFetched}},data:function(){return{heads:[{title:"ID",name:"id"},{title:"Name",name:"name"},{title:"Type",name:"type"},{title:"Key Person",name:"key_person"}]}}},rt=Object(o.a)(at,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow pb-5"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"text-right"},[s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/workplaces/add-pharmacy"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("new")])])],1),t._v(" "),t.pharmacies.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{data:t.pharmacies,heads:t.heads,"head-class":"bg-success text-light"},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("ID")]),t._v(" "),s("th",[t._v("Actions")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("th",[t._v(t._s(a.id))]),t._v(" "),s("td",[s("router-link",{staticClass:"btn btn-sm btn-info",attrs:{to:"/workplaces/pharmacy/view/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-eye"})])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/workplaces/pharmacy/edit/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])])],1)]}},{key:"head",fn:function(){return[s("th",[t._v("Visits")]),t._v(" "),s("th",[t._v("Address")]),t._v(" "),s("th",[t._v("Brick")]),t._v(" "),s("th",[t._v("Area")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[t._v(t._s(a.report.length))]),t._v(" "),s("td",[t._v(t._s(a.address))]),t._v(" "),s("td",[t._v(t._s(a.brick))]),t._v(" "),s("td",[t._v(t._s(a.area))])]}}],null,!1,2492762029)})],1):t.fetched?s("div",{staticClass:"text-center"},[s("no-data-to-show",[s("router-link",{staticClass:"btn btn-success btn-sm",attrs:{to:"/workplaces/add-pharmacy"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("Add new Pharmacy")])])],1)],1):s("loader-component")],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-list-alt"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Pharmacies list")])])}],!1,null,null,null).exports;function nt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function it(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(s),!0).forEach((function(e){ot(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):nt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function ot(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var lt={mounted:function(){this.$store.dispatch("getUserLocations")},methods:{onSubmit:function(){var t=this;if(this.hospitalLocation.brick){var e=it(it({},this.hospital),this.hospitalLocation);d.a.post("rep/v1/workplaces",e).then((function(e){var s=e.data;s.message="hospital added successfully",t.handleResponse(s,(function(e){t.$store.dispatch("workplaceGetAll",!0).then((function(){t.$router.replace("/workplaces")}))}))})).finally((function(){}))}else this.$toasted.error("You must select workplace brick")}},data:function(){return{hospital:{name:null,type:null,address:null,brick:null,phone:null},hospitalLocation:{}}},computed:{types:function(){return this.$store.getters.hospitalTypes},userLocations:function(){return this.$store.getters.userLocations},isUserLocationsFetched:function(){return this.$store.getters.isUserLocationsFetched}}},ct=Object(o.a)(lt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"my-2 p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[s("div",{staticClass:"row mx-auto my-1"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("ValidationProvider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hospital.name,expression:"hospital.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"name",id:"name",placeholder:"Enter hospital name"},domProps:{value:t.hospital.name},on:{input:function(e){e.target.composing||t.$set(t.hospital,"name",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"type"}},[t._v("Type")]),t._v(" "),s("ValidationProvider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.hospital.type,expression:"hospital.type"}],staticClass:"form-control form-control-sm",attrs:{name:"type",id:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.hospital,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select hospital type")]),t._v(" "),t._l(t.types,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto my-1"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"address"}},[t._v("Address")]),t._v(" "),s("ValidationProvider",{attrs:{name:"address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hospital.address,expression:"hospital.address"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"text",id:"address",name:"address",placeholder:"Enter Hospital address"},domProps:{value:t.hospital.address},on:{input:function(e){e.target.composing||t.$set(t.hospital,"address",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"brick"}},[t._v("Brick")]),t._v(" "),s("ValidationProvider",{attrs:{name:"brick",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.hospitalLocation,expression:"hospitalLocation"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"brick",id:"brick"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.hospitalLocation=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("select brick")]),t._v(" "),t._l(t.userLocations,(function(e,a){return s("option",{key:"brick_"+a,domProps:{value:e}},[t._v(t._s(e.brick))])}))],2)]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto my-1"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"phone"}},[t._v("phone")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hospital.phone,expression:"hospital.phone"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"phone",name:"phone",placeholder:"Enter Hospital phone"},domProps:{value:t.hospital.phone},on:{input:function(e){e.target.composing||t.$set(t.hospital,"phone",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"})]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn  btn-sm btn-dark",attrs:{to:"/workplaces"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])],1)])]}}])})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Add new Hospital")])])}],!1,null,null,null).exports;function ut(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function dt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(s),!0).forEach((function(e){pt(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ut(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function pt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var mt={mounted:function(){this.$store.dispatch("getUserLocations")},methods:{onSubmit:function(){var t=this,e=dt(dt({},this.pharmacy),this.pharmacyLocation);d.a.post("rep/v1/pharmacies",e).then((function(e){var s=e.data;s.message="Pharmacy added",t.handleResponse(s,(function(e){t.$store.dispatch("pharmacyGetAll",!0).then((function(){t.$router.replace("/workplaces/pharmacies")}))}))}))}},data:function(){return{pharmacy:{name:"",type:"",key_person:"",address:"",brick:"",area:""},pharmacyLocation:{}}},computed:{types:function(){return this.$store.getters.pharmacyTypes},userLocations:function(){return this.$store.getters.userLocations},isUserLocationsFetched:function(){return this.$store.getters.isUserLocationsFetched}}},vt=Object(o.a)(mt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow pb-3"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("validationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("ValidationProvider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.name,expression:"pharmacy.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"name",name:"name",placeholder:"Enter pharmacy name"},domProps:{value:t.pharmacy.name},on:{input:function(e){e.target.composing||t.$set(t.pharmacy,"name",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"type"}},[t._v("Type")]),t._v(" "),s("ValidationProvider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.type,expression:"pharmacy.type"}],staticClass:"form-control form-control-sm",attrs:{name:"type",id:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.pharmacy,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select type")]),t._v(" "),t._l(t.types,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"key_person"}},[t._v("Key Person")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.key_person,expression:"pharmacy.key_person"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"key_person",name:"key_person",placeholder:"Enter key person name"},domProps:{value:t.pharmacy.key_person},on:{input:function(e){e.target.composing||t.$set(t.pharmacy,"key_person",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"address"}},[t._v("Address")]),t._v(" "),s("ValidationProvider",{attrs:{name:"address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.address,expression:"pharmacy.address"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"address",name:"address",placeholder:"Enter pharmacy address"},domProps:{value:t.pharmacy.address},on:{input:function(e){e.target.composing||t.$set(t.pharmacy,"address",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"brick"}},[t._v("Brick")]),t._v(" "),s("ValidationProvider",{attrs:{name:"brick",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.pharmacyLocation,expression:"pharmacyLocation"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"brick",id:"brick"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.pharmacyLocation=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("select brick")]),t._v(" "),t._l(t.userLocations,(function(e,a){return s("option",{key:"brick_"+a,domProps:{value:e}},[t._v(t._s(e.brick))])}))],2)]}}],null,!0)})],1)]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/workplaces/pharmacies"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])],1)])]}}])})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Add new Pharmacy")])])}],!1,null,null,null).exports;function ft(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function ht(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(s),!0).forEach((function(e){_t(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ft(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function _t(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var yt={data:function(){return{hospital:null,fetched:!1}},created:function(){var t=this,e=this.$route.params.id;d.a.get("rep/v1/workplaces/"+e).then((function(e){var s=e.data;t.fetched=!0,s.message="hospital ready",t.handleResponse(s,(function(e){t.hospital=e.data}))}))},methods:{onSubmit:function(){var t=this,e=this.$route.params.id;d.a.post("rep/v1/workplaces/"+e,ht(ht({},this.hospital),{},{_method:"PUT"})).then((function(e){var s=e.data;s.message=s.data,t.handleResponse(s,(function(e){t.$store.dispatch("workplaceGetAll",!0).then((function(){t.$router.push("/workplaces")}))}))}))}},computed:{types:function(){return this.$store.getters.hospitalTypes}}},bt=Object(o.a)(yt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow pb-3"},[s("p",{staticClass:"alert alert-warning"},[t._m(0),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("Edit Hospital "+t._s(t.hospital?t.hospital.name:null)+" card")])]),t._v(" "),s("div",{staticClass:"my-2 p-2"},[t.hospital?s("div",[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hospital.name,expression:"hospital.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"name",id:"name",readonly:""},domProps:{value:t.hospital.name},on:{input:function(e){e.target.composing||t.$set(t.hospital,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Type")]),t._v(" "),s("ValidationProvider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.hospital.type,expression:"hospital.type"}],staticClass:"form-control form-control-sm",attrs:{name:"type",id:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.hospital,"type",e.target.multiple?s:s[0])}}},t._l(t.types,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto my-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Address")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hospital.address,expression:"hospital.address"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"address",id:"address"},domProps:{value:t.hospital.address},on:{input:function(e){e.target.composing||t.$set(t.hospital,"address",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Brick")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hospital.brick,expression:"hospital.brick"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"brick",id:"brick",disabled:"",readonly:""},domProps:{value:t.hospital.brick},on:{input:function(e){e.target.composing||t.$set(t.hospital,"brick",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mx-auto my-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"phone"}},[t._v("phone")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.hospital.phone,expression:"hospital.phone"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"phone",id:"phone"},domProps:{value:t.hospital.phone},on:{input:function(e){e.target.composing||t.$set(t.hospital,"phone",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"})]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/workplaces"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])],1)])]}}],null,!1,1520126591)})],1):null===t.hospital&&t.fetched?s("div",[s("p",{staticClass:"text-center lead"},[t._v("Hospital ID is not valid ID")])]):s("loader-component")],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-edit"})])}],!1,null,null,null).exports,gt={props:["data","onEdit"],methods:{markSelected:function(t){this.selected=t,this.show_edit_modal=!0},editDepartment:function(){this.$emit("onEdit",this.selected),this.show_edit_modal=!1},deleteDepartment:function(t){this.$emit("onDelete",t)}},data:function(){return{selected:null,show_edit_modal:!1}},components:{ModalFade:B.a}},Ct=Object(o.a)(gt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("table",{staticClass:"table table-striped w-100 table-responsive-sm table-sm small"},[t._m(0),t._v(" "),s("tbody",t._l(t.data,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.head?e.head:"--------"))]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-warning btn-sm",on:{click:function(s){return t.markSelected(e)}}},[t._m(1,!0)]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(s){return t.deleteDepartment(e.id)}}},[t._m(2,!0)])])])})),0)]),t._v(" "),s("modal-fade",{attrs:{show:t.show_edit_modal,data:t.selected,centered:!0},on:{onClose:function(){return t.show_edit_modal=!1}},scopedSlots:t._u([t.selected?{key:"header",fn:function(){return[t._v("\n      Edit "+t._s(t.selected.name)+"\n    ")]},proxy:!0}:null,t.selected?{key:"body",fn:function(){return[s("div",[s("label",{staticClass:"text-muted",attrs:{for:"head"}},[t._v("Department head")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected.head,expression:"selected.head"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"head",name:"head"},domProps:{value:t.selected.head},on:{input:function(e){e.target.composing||t.$set(t.selected,"head",e.target.value)}}})]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-dark btn-sm",attrs:{"data-dismiss":"modal"}},[s("span",[s("i",{staticClass:"fa fa-times"})]),t._v(" "),s("span",[t._v("close")])]),t._v(" "),s("button",{staticClass:"btn btn-success btn-sm",on:{click:t.editDepartment}},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])])]},proxy:!0}:null],null,!0)})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Department head")]),this._v(" "),e("th",[this._v("Actions")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-edit"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-trash"})])}],!1,null,null,null).exports,wt={methods:{onSubmit:function(){this.$emit("onAdd",this.department),this.$emit("onCancel")},cancelAdding:function(){this.$emit("onCancel")}},data:function(){return{department:{name:"",head:""}}},computed:{types:function(){return this.$store.getters.specialty}},props:["onAdd","onCancel"]},xt=Object(o.a)(wt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-fade"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Department")]),t._v(" "),s("ValidationProvider",{attrs:{name:"name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.department.name,expression:"department.name"}],staticClass:"form-control form-control-sm",attrs:{name:"name",id:"name"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.department,"name",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select Department")]),t._v(" "),t._l(t.types,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Department Head")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.department.head,expression:"department.head"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"head",name:"head",placeholder:"Enter name of department head"},domProps:{value:t.department.head},on:{input:function(e){e.target.composing||t.$set(t.department,"head",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"text-right p-2"},[s("button",{staticClass:"btn btn-sm btn-warning",attrs:{type:"button"},on:{click:t.cancelAdding}},[s("span",[s("i",{staticClass:"fa fa-times"})]),t._v(" "),s("span",[t._v("cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])])])]}}])})],1)}),[],!1,null,null,null).exports,kt={components:{ModalFade:B.a},data:function(){return{showFilter:!1,withInactive:!1,onlyFavoriteList:!1,favoriteList:[],isFavoriteListFetched:!1,filter:{brick:"",specialty:"",param:"",freq:""},error:null}},props:["data"],computed:{filterItems:function(){var t=this.customers,e={};return e.bricks=Object(S.f)(t,"brick"),e.specialty=Object(S.f)(t,"specialty"),e.param=Object(S.f)(t,"parameter"),e.freq=Object(S.f)(t,"current_freq"),e},customers:function(){return this.withInactive?this.$store.getters.all:this.onlyFavoriteList&&this.isFavoriteListFetched?this.favoriteList:this.data}},methods:{updateCustomers:function(){var t=this.filterCustomers();t.length?(this.$store.commit("setCustomerFilter",t),this.showFilter=!1):this.error=!0},filterCustomers:function(){var t=this.customers,e=this.filter,s=e.brick,a=e.specialty,r=e.param,n=e.freq;return""!==s&&(t=t.filter((function(t){return t.brick===s}))),""!==a&&(t=t.filter((function(t){return t.specialty===a}))),""!==r&&(t=t.filter((function(t){return t.parameter===r}))),""!==n&&(t=t.filter((function(t){return t.current_freq===parseInt(n)}))),t},closeFilterModal:function(){this.showFilter=!1},reset:function(){this.$store.commit("setCustomerFilter",this.data),this.withInactive=!1,this.error=!1,this.showFilter=!1},getFavoriteList:function(t){var e=this;this.favoriteList.length&&!t||(this.isFavoriteListFetched=!1,d.a.get("customers-favorite-list").then((function(t){var s=t.data;e.favoriteList=s.data,e.isFavoriteListFetched=!0})))},handleFavoriteList:function(){event.target.checked?(this.getFavoriteList(),this.onlyFavoriteList=!0):(this.onlyFavoriteList=!1,this.error&&(this.error=!1))}}},Pt=Object(o.a)(kt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(e){t.showFilter=!0}}},[t._m(0),t._v(" "),s("span",[t._v("filter")])])]),t._v(" "),s("modal-fade",{attrs:{show:t.showFilter,"header-style":"bg-success text-light",id:"customer_select_filter"},on:{onClose:t.closeFilterModal},scopedSlots:t._u([{key:"header",fn:function(){return[s("span",[t._v("Filter Customers")])]},proxy:!0},{key:"body",fn:function(){return[t.error?s("p",{staticClass:"alert alert-warning small"},[s("span",[s("i",{staticClass:"fa fa-exclamation-triangle"})]),t._v(" "),s("span",[t._v("No Customers found")])]):t._e(),t._v(" "),s("div",{staticClass:"px-2 small text-muted"},[t._v("\n        total customers : "+t._s(t.customers.length)+"\n      ")]),t._v(" "),s("hr",{staticClass:"mb-0"}),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"form-group col"},[s("label",{staticClass:"small text-muted",attrs:{for:""}},[t._v("Brick")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.brick,expression:"filter.brick"}],staticClass:"form-control form-control-sm",attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"brick",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("all")]),t._v(" "),t._l(t.filterItems.bricks,(function(e,a){return s("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+"\n              "),s("span",{staticClass:"badge badge-primary"},[t._v("("+t._s(e.length)+")")])])}))],2)]),t._v(" "),s("div",{staticClass:"form-group col"},[s("label",{staticClass:"small text-muted",attrs:{for:""}},[t._v("Specialty")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.specialty,expression:"filter.specialty"}],staticClass:"form-control form-control-sm",attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"specialty",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("all")]),t._v(" "),t._l(t.filterItems.specialty,(function(e,a){return s("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+"\n              "),s("span",{staticClass:"badge badge-primary"},[t._v("("+t._s(e.length)+")")])])}))],2)])]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"form-group col"},[s("label",{staticClass:"small text-muted",attrs:{for:""}},[t._v("Parameter")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.param,expression:"filter.param"}],staticClass:"form-control form-control-sm",attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"param",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("all")]),t._v(" "),t._l(t.filterItems.param,(function(e,a){return s("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+"\n              "),s("span",{staticClass:"badge badge-primary"},[t._v("("+t._s(e.length)+")")])])}))],2)]),t._v(" "),s("div",{staticClass:"form-group col"},[s("label",{staticClass:"small text-muted",attrs:{for:""}},[t._v("Frequency")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.freq,expression:"filter.freq"}],staticClass:"form-control form-control-sm",attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"freq",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("all")]),t._v(" "),t._l(t.filterItems.freq,(function(e,a){return s("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+"\n              "),s("span",{staticClass:"badge badge-primary"},[t._v("("+t._s(e.length)+")")])])}))],2)])]),t._v(" "),s("div",{staticClass:"form-group my-2 d-flex"},[s("div",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.withInactive,expression:"withInactive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.withInactive)?t._i(t.withInactive,null)>-1:t.withInactive},on:{change:function(e){var s=t.withInactive,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.withInactive=s.concat([null])):n>-1&&(t.withInactive=s.slice(0,n).concat(s.slice(n+1)))}else t.withInactive=r}}}),t._v(" "),s("span",{staticClass:"small"},[t._v("Inactive customers")])]),t._v(" "),s("div",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.onlyFavoriteList,expression:"onlyFavoriteList"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.onlyFavoriteList)?t._i(t.onlyFavoriteList,null)>-1:t.onlyFavoriteList},on:{change:[function(e){var s=t.onlyFavoriteList,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.onlyFavoriteList=s.concat([null])):n>-1&&(t.onlyFavoriteList=s.slice(0,n).concat(s.slice(n+1)))}else t.onlyFavoriteList=r},t.handleFavoriteList]}}),t._v(" "),s("span",{staticClass:"small"},[t._v("Favorite list")])]),t._v(" "),s("div",{staticClass:"text-right col"},[s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.reset}},[s("span",[s("i",{staticClass:"fa fa-redo"})]),t._v(" "),s("span",[t._v("reset")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:t.updateCustomers}},[s("span",[s("i",{staticClass:"fa fa-check-circle"})]),t._v(" "),s("span",[t._v("ok")])])])])]},proxy:!0}])})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-filter"})])}],!1,null,null,null).exports,St={props:{workplace:{required:!0,id:Number}},mounted:function(){this.getRelatedCustomers()},components:{TableComponent:k.a,NoDataToShow:O.a,CustomerSelectFilter:Pt},computed:{customers:function(){return this.$store.getters.customerFilter}},data:function(){return{related_customers:[],isFetched:!1,attachedCustomer:null,heads:[{title:"Name",name:"name"},{title:"Specialty",name:"specialty"},{title:"Title",name:"title"}]}},methods:{getRelatedCustomers:function(){var t=this;return this.related_customers=[],this.isFetched=!1,d.a.get("rep/v1/workplace-customers/"+this.workplace).then((function(e){var s=e.data;t.related_customers=s.data,t.isFetched=!0})).catch((function(t){return console.log(t)}))},bindCustomer:function(){var t=this;d.a.post("rep/v1/workplace-customers/add/"+this.workplace,this.attachedCustomer).then((function(e){var s=e.data;t.handleResponse(s)})).catch((function(t){return console.log(t)}))},unlinkCustomer:function(t){var e=this;d.a.post("rep/v1/workplace-customers/unlink",{customer:t}).then((function(t){var s=t.data;e.handleResponse(s)})).catch((function(t){return console.log(t)}))}}},$t=Object(o.a)(St,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"p-2 my-2 border rounded"},[s("p",{staticClass:"lead text-muted"},[t._v("Workplace Doctors")]),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"p-2"},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.attachedCustomer,expression:"attachedCustomer"}],staticClass:"form-control form-control-sm",attrs:{name:"customer",id:"customer",disabled:!t.customers.length},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.attachedCustomer=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}},[t._v("select customer")]),t._v(" "),t._l(t.customers,(function(e){return s("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),s("div",{staticClass:"col-lg-auto my-lg-0 my-1"},[s("customer-select-filter",{attrs:{data:t.$store.getters.all}})],1),t._v(" "),s("div",{staticClass:"col-lg-3  px-0 my-lg-0 my-1"},[s("button",{staticClass:"btn btn-sm btn-success btn-block",on:{click:t.bindCustomer}},[s("span",{staticClass:"fa fa-link"}),t._v(" "),s("span",[t._v("bind")])])])])]),t._v(" "),t.related_customers.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{heads:t.heads,data:t.related_customers,notResponsive:!0,unselectable:!0},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("Unlink")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.unlinkCustomer(a.id)}}},[s("span",{staticClass:"fa fa-unlink"})])])]}}],null,!1,256693216)})],1):t.isFetched?s("div",[s("no-data-to-show",{attrs:{title:"No customer related to this workplace"}})],1):t._e()])])}),[],!1,null,null,null).exports;function Et(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function Ot(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(s),!0).forEach((function(e){At(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Et(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function At(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Tt={mounted:function(){this.$store.dispatch("customerGetAll"),this.getHospital()},components:{WorkplaceDepartmentComponent:Ct,AddWorkplaceDepartment:xt,NoDataToShow:O.a,WorkplaceCustomers:$t},data:function(){return{hospital:null,reports:[],plans:[],fetched:!1,hospital_error:null,departments:[],departments_error:null,open_add_card:!1,view_other_reps_plans:!1,view_other_reps_reports:!1,other_reps_plans:[],other_reps_reports:[],plan_start:null,plan_end:null,report_start:null,report_end:null,relatedCustomers:[],attachedCustomer:null}},computed:{plansCollection:function(){var t=[];return t=this.view_other_reps_plans?this.other_reps_plans:this.plans,t=Object(S.e)(t,"plan_date",{start:this.plan_start,end:this.plan_end})},reportsCollection:function(){var t=this,e={};e=this.view_other_reps_reports?this.other_reps_reports:this.reports;var s={};return Object.keys(e).map((function(a){var r=Object(S.e)(e[a],"visit_date",{start:t.report_start,end:t.report_end});r.length&&(s[a]=r)})),e=s}},methods:{getHospitalId:function(){return this.$route.params.id},getHospital:function(){var t=this;this.fetched=!1;var e=this.getHospitalId();return d.a.get("rep/v1/workplaces/"+e).then((function(e){var s=e.data;t.fetched=!0,s.message="hospital loaded",t.handleResponse(s,(function(e){t.hospital=e.data,t.reports=e.reports,t.plans=e.plans}))}))},openAddDepartmentCard:function(){this.open_add_card=!0},closeAddDepartmentCard:function(){this.open_add_card=!1},addDepartment:function(t){var e=this,s=this.getHospitalId();d.a.post("rep/v1/workplace-department",Ot(Ot({},t),{},{workplace_id:s})).then((function(t){var s=t.data;s.message="department added",e.handleResponse(s,(function(t){e.getHospital(),e.$store.dispatch("workplaceGetAll")}))}))},editDepartment:function(t){var e=this;d.a.post("rep/v1/workplace-department/"+t.id,Ot(Ot({},t),{},{_method:"PUT"})).then((function(t){var s=t.data;s.message=s.data,e.handleResponse(s,(function(t){e.getHospital(),e.$store.dispatch("workplaceGetAll")}))}))},deleteDeparts:function(t){var e=this;console.log(t),d.a.post("rep/v1/workplace-department/"+t,{_method:"DELETE"}).then((function(t){t.data;e.$toasted.success("Department deleted"),e.getHospital()}))},toggleOtherRepsPlans:function(){var t=this;event.target.checked?(this.view_other_reps_plans=!0,this.other_reps_plans.length||d.a.get("rep/v1/other-reps/workplace-plans/"+this.$route.params.id).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.other_reps_plans=e.data}))})).catch((function(t){console.log(t)}))):this.view_other_reps_plans=!1},toggleOtherRepsReports:function(){var t=this;event.target.checked?(this.view_other_reps_reports=!0,this.other_reps_reports.length||d.a.get("rep/v1/other-reps/workplace-reports/"+this.$route.params.id).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.other_reps_reports=e.data}))})).catch((function(t){console.log(t)}))):this.view_other_reps_reports=!1},resetPlans:function(){this.plan_start=null,this.plan_end=null},resetReports:function(){this.report_start=null,this.report_end=null}}},Rt=(s(83),Object(o.a)(Tt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow rouned pb-4"},[s("p",{staticClass:"alert alert-success"},[t._m(0),t._v(" "),s("span",[t._v("View Hospital "+t._s(t.hospital?t.hospital.name:null))])]),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/workplaces"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/workplaces/hospital/edit/"+t.$route.params.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})]),t._v(" "),s("span",[t._v("edit")])])],1),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"border p-2 rounded"},[s("p",{staticClass:"lead text-muted"},[t._v("Hospital Info.")]),t._v(" "),s("hr"),t._v(" "),t.hospital?s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n              Name:\n              "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.hospital.name))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n              Type:\n              "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.hospital.type))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n              Phone:\n              "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.hospital.phone))])])]),t._v(" "),s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n              Address:\n              "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.hospital.address))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n              Brick:\n              "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.hospital.brick))])])])]):t.hospital_error?s("div",{staticClass:"text-center"},[t._m(1),t._v(" "),s("p",{staticClass:"lead"},[t._v(t._s(t.hospital_error))])]):s("loader-component")],1),t._v(" "),s("div",{staticClass:"border p-2 rounded my-2"},[s("p",{staticClass:"lead text-muted"},[t._v("Hospital Departments")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.openAddDepartmentCard}},[t._m(2),t._v(" "),s("span",[t._v("Add")])])]),t._v(" "),t.open_add_card?s("div",{staticClass:"border my-2 p-3 bg-light"},[s("add-workplace-department",{on:{onCancel:t.closeAddDepartmentCard,onAdd:t.addDepartment}})],1):t._e(),t._v(" "),t.hospital&&t.hospital.depart.length?s("div",[s("workplace-department-component",{attrs:{data:t.hospital.depart},on:{onEdit:t.editDepartment,onDelete:t.deleteDeparts}})],1):t.departments_error?s("div",{staticClass:"text-center"},[t._m(3),t._v(" "),s("p",{staticClass:"lead"},[t._v(t._s(t.departments_error))])]):t.fetched?s("div",[s("no-data-to-show")],1):s("loader-component")],1),t._v(" "),s("workplace-customers",{attrs:{workplace:t.$route.params.id}}),t._v(" "),s("div",{staticClass:"my-2 border p-2 rounded"},[s("p",{staticClass:"lead text-muted"},[t._v("Hospital Plans")]),t._v(" "),s("div",{staticClass:"p-2 row mx-auto align-items-center"},[s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/planner/add-am"}},[s("span",{staticClass:"fa fa-plus-circle"}),t._v(" "),s("span",[t._v("Add")])]),t._v(" "),s("input",{staticClass:"mx-2",attrs:{type:"checkbox"},on:{click:t.toggleOtherRepsPlans}}),t._v(" "),s("span",{staticClass:"small "},[t._v("Other reps")]),t._v(" "),s("div",{staticClass:"form-inline p-2 border rounded mx-2"},[s("label",{staticClass:"small text-muted"},[t._v("from")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan_start,expression:"plan_start"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.plan_start},on:{input:function(e){e.target.composing||(t.plan_start=e.target.value)}}}),t._v(" "),s("label",{staticClass:"small text-muted"},[t._v("to")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.plan_end,expression:"plan_end"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.plan_end},on:{input:function(e){e.target.composing||(t.plan_end=e.target.value)}}}),t._v(" "),s("a",{staticClass:"badge badge-primary",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.resetPlans(e)}}},[s("span",{staticClass:"fa fa-redo"})])])],1),t._v(" "),s("div",{staticClass:"p-2"},[t.plans.length?s("table",{staticClass:"table table-sm small"},[s("thead",[s("tr",{staticClass:"bg-success text-light"},[s("th",[t._v("Date")]),t._v(" "),t.view_other_reps_plans?s("th",[t._v("Rep")]):t._e(),t._v(" "),s("th",[t._v("Submitted")])])]),t._v(" "),s("tbody",t._l(t.plansCollection,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.plan_date))]),t._v(" "),t.view_other_reps_plans?s("td",[t._v(t._s(e.user.name))]):t._e(),t._v(" "),s("td",[t._v(t._s(e.submitted?"Submitted":"No"))])])})),0)]):t.fetched?s("div",[s("no-data-to-show")],1):s("loader-component")],1)]),t._v(" "),s("div",{staticClass:"border p-2 rounded my-2"},[s("p",{staticClass:"lead text-muted"},[t._v("Hospital Reports")]),t._v(" "),t.hospital?s("div",{staticClass:"p-2 row mx-auto align-items-center"},[s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/reports/add/am/"+t.hospital.id}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("new report")])]),t._v(" "),s("input",{staticClass:"mx-2",attrs:{type:"checkbox"},on:{click:t.toggleOtherRepsReports}}),t._v(" "),s("span",{staticClass:"small"},[t._v("Other reps")]),t._v(" "),s("div",{staticClass:"form-inline border rounded mx-2 p-2"},[s("label",{staticClass:"small text-muted"},[t._v("from")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report_start,expression:"report_start"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.report_start},on:{input:function(e){e.target.composing||(t.report_start=e.target.value)}}}),t._v(" "),s("label",{staticClass:"small text-muted"},[t._v("to")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report_end,expression:"report_end"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.report_end},on:{input:function(e){e.target.composing||(t.report_end=e.target.value)}}}),t._v(" "),s("a",{staticClass:"badge badge-primary",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.resetReports(e)}}},[s("span",{staticClass:"fa fa-redo"})])])],1):t._e(),t._v(" "),Object.keys(t.reports).length?s("div",{staticClass:"p-2"},[s("table",{staticClass:"table table-sm small table-responsive-sm"},[s("thead",[s("tr",{staticClass:"bg-success text-light"},[s("td",[t._v("Customer")]),t._v(" "),t.view_other_reps_reports?s("td",[t._v("Rep")]):t._e(),t._v(" "),s("td",[t._v("Comment")]),t._v(" "),s("td",[t._v("Products")]),t._v(" "),s("td",[t._v("Feedback")])])]),t._v(" "),t._l(t.reportsCollection,(function(e,a){return s("tbody",{key:a},[s("tr",{staticClass:"bg-secondary"},[s("td",{attrs:{colspan:"5"}},[s("a",{staticClass:"text-light text-decoration-none",attrs:{href:"#details_"+a,"data-toggle":"collapse"}},[t._v(t._s(a))])])]),t._v(" "),t._l(e,(function(e){return s("tr",{key:e.id,staticClass:"collapse",attrs:{id:"details_"+a}},[s("td",[t._v(t._s(e.customer.name))]),t._v(" "),t.view_other_reps_reports?s("td",[t._v(t._s(e.user.name))]):t._e(),t._v(" "),s("td",[t._v(t._s(e.comment))]),t._v(" "),s("td",t._l(JSON.parse(e.products),(function(e,a){return s("ul",{key:a,staticClass:"nav border-bottom"},t._l(e,(function(e,a){return s("li",{key:a,staticClass:"nav-item col-12"},[s("span",[t._v(t._s(a)+" :"),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(e))])])])})),0)})),0),t._v(" "),s("td",[t._v(t._s(e.general_feedback))])])}))],2)}))],2)]):t.fetched?s("div",{staticClass:"p-2"},[s("no-data-to-show")],1):s("loader-component")],1)],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-address-card"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[e("i",{staticClass:"fa fa-exclamation-triangle fa-4x"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-plus-circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[e("i",{staticClass:"fa fa-exclamation-triangle fa-4x"})])])}],!1,null,"794a3d6e",null).exports);function Nt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function Ft(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(s),!0).forEach((function(e){jt(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Nt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function jt(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var Dt={computed:{types:function(){return this.$store.getters.pharmacyTypes}},created:function(){var t=this,e=this.$route.params.id;d.a.get("rep/v1/pharmacies/"+e).then((function(e){var s=e.data;s.message="Pharmacy loaded",t.handleResponse(s,(function(e){t.pharmacy=e.data}))}))},data:function(){return{pharmacy:null,error:null}},methods:{onSubmit:function(){var t=this,e=this.$route.params.id;d.a.post("rep/v1/pharmacies/"+e,Ft(Ft({},this.pharmacy),{},{_method:"PUT"})).then((function(e){var s=e.data;s.message="Phamracy updated",t.handleResponse(s,(function(e){t.$store.dispatch("pharmacyGetAll",!0).then((function(){t.$router.push("/workplaces/pharmacies")}))}))}))}}},qt=Object(o.a)(Dt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow pb-3"},[s("p",{staticClass:"alert alert-warning"},[t._v("\n      Edit pharamcy "+t._s(t.pharmacy?t.pharmacy.name:null)+"\n    ")]),t._v(" "),s("div",{staticClass:"p-2"},[t.pharmacy?s("div",[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.name,expression:"pharmacy.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",readonly:""},domProps:{value:t.pharmacy.name},on:{input:function(e){e.target.composing||t.$set(t.pharmacy,"name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"type"}},[t._v("Type")]),t._v(" "),s("ValidationProvider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.type,expression:"pharmacy.type"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"type",id:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.pharmacy,"type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select type")]),t._v(" "),t._l(t.types,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"key_person"}},[t._v("Key Person")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.key_person,expression:"pharmacy.key_person"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"key_person",id:"key_person"},domProps:{value:t.pharmacy.key_person},on:{input:function(e){e.target.composing||t.$set(t.pharmacy,"key_person",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"address"}},[t._v("Address")]),t._v(" "),s("ValidationProvider",{attrs:{rules:"required",name:"address"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.address,expression:"pharmacy.address"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"text",id:"address",name:"address"},domProps:{value:t.pharmacy.address},on:{input:function(e){e.target.composing||t.$set(t.pharmacy,"address",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"brick"}},[t._v("Brick")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.pharmacy.brick,expression:"pharmacy.brick"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"brick",name:"brick",disabled:"",readonly:""},domProps:{value:t.pharmacy.brick},on:{input:function(e){e.target.composing||t.$set(t.pharmacy,"brick",e.target.value)}}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/workplaces/pharmacies"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])],1)])]}}],null,!1,2489063090)})],1):t.error?s("div",[s("p",{staticClass:"text-center"},[t._v("Error "+t._s(t.error))])]):s("loader-component")],1)])])}),[],!1,null,null,null).exports,Mt={mounted:function(){this.loadPharmacy()},computed:{reportCollection:function(){var t=[];return t=this.view_other_reps_reports?this.other_reprts_reports:this.reports,t=Object(S.e)(t,"visit_date",{start:this.report_start,end:this.report_end})}},methods:{getPharmacyId:function(){return this.$route.params.id},loadPharmacy:function(){var t=this,e=this.getPharmacyId();d.a.get("rep/v1/pharmacies/"+e).then((function(e){var s=e.data;s.message="Pharmacy loaded",t.handleResponse(s,(function(e){t.pharmacy=e.data,t.reports=e.data.report}))}))},toggleOtherRepsReports:function(){var t=this;event.target.checked?(this.view_other_reps_reports=!0,this.other_reprts_reports.length||d.a.get("rep/v1/other-reps/pharmacy-reports/"+this.$route.params.id).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.other_reprts_reports=e.data}))})).catch((function(t){console.log(t)}))):this.view_other_reps_reports=!1},resetReports:function(){this.report_start=null,this.report_end=null}},data:function(){return{pharmacy:null,reports:[],view_other_reps_reports:!1,other_reprts_reports:[],report_start:null,report_end:null}},components:{NoDataToShow:O.a}},It={path:"/workplaces",component:tt,children:[{path:"",component:st},{path:"add-hospital",component:ct},{path:"pharmacies",component:rt},{path:"add-pharmacy",component:vt},{path:"hospital/edit/:id",component:bt},{path:"hospital/view/:id",component:Rt},{path:"pharmacy/edit/:id",component:qt},{path:"pharmacy/view/:id",component:Object(o.a)(Mt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[s("p",{staticClass:"alert alert-success"},[t._m(0),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("View Pharmacy "+t._s(t.pharmacy?t.pharmacy.name:null)+" Card")])]),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/workplaces/pharmacies"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/workplaces/pharmacy/edit/"+t.$route.params.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})]),t._v(" "),s("span",[t._v("edit")])])],1),t._v(" "),t.pharmacy?s("div",{staticClass:"p-2"},[s("div",{staticClass:"border my-2 p-2 rounded"},[s("p",{staticClass:"lead text-muted"},[t._v("Pharmacy Info.")]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("Name: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pharmacy.name))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("Type: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pharmacy.type))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("Key Person: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pharmacy.key_person))])])]),t._v(" "),s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("Address: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pharmacy.address))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("Brick: "),s("span",{staticClass:"text-primary"},[t._v(t._s(t.pharmacy.brick))])])])])]),t._v(" "),s("div",{staticClass:"my-2 border p-2 rounded"},[s("p",{staticClass:"lead text-muted"},[t._v("Pharmacy Reports")]),t._v(" "),s("div",{staticClass:"p-2 row mx-auto align-items-center"},[s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/reports/add/pharmacy/"+t.pharmacy.id}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("report")])]),t._v(" "),s("input",{staticClass:"mx-2",attrs:{type:"checkbox"},on:{click:t.toggleOtherRepsReports}}),t._v(" "),s("span",{staticClass:"small"},[t._v("Other reps")]),t._v(" "),s("div",{staticClass:"form-inline p-2 mx-2 border rounded"},[s("label",{staticClass:"small text-muted"},[t._v("from")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report_start,expression:"report_start"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.report_start},on:{input:function(e){e.target.composing||(t.report_start=e.target.value)}}}),t._v(" "),s("label",{staticClass:"small text-muted"},[t._v("to")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.report_end,expression:"report_end"}],staticClass:"form-control form-control-sm col-lg mx-2",attrs:{type:"date"},domProps:{value:t.report_end},on:{input:function(e){e.target.composing||(t.report_end=e.target.value)}}}),t._v(" "),s("a",{staticClass:"badge badge-primary",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.resetReports(e)}}},[s("span",{staticClass:"fa fa-redo"})])])],1),t._v(" "),t.reportCollection.length?s("div",[s("table",{staticClass:"table table-sm small"},[s("thead",{staticClass:"bg-success text-light"},[s("tr",[s("th",[t._v("Date")]),t._v(" "),t.view_other_reps_reports?s("th",[t._v("Rep")]):t._e(),t._v(" "),s("th",[t._v("Products")]),t._v(" "),s("th",[t._v("Feedback")])])]),t._v(" "),s("tbody",t._l(t.reportCollection,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.visit_date))]),t._v(" "),t.view_other_reps_reports?s("td",[t._v(t._s(e.user.name))]):t._e(),t._v(" "),s("td",t._l(JSON.parse(e.products),(function(e,a){return s("ul",{key:a,staticClass:"nav"},t._l(e,(function(e,r){return s("li",{key:r+"-"+a,staticClass:"nav-item col-12"},[s("span",[t._v(t._s(r.toUpperCase()))]),t._v(" : "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(e))])])})),0)})),0),t._v(" "),s("td",[t._v(t._s(e.general_feedback))])])})),0)])]):s("div",[s("no-data-to-show",{attrs:{title:"No reports found"}})],1)])]):s("loader-component")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-address-card"})])}],!1,null,null,null).exports}]},Lt=s(34),Vt=s.n(Lt),Ut=(s(75),{mounted:function(){var t=this;this.$store.dispatch("getNonFieldActivityPlans").then((function(){t.$store.dispatch("customerGetAll").then((function(){t.$store.dispatch("getPlanner"),t.$store.dispatch("getWorkplacePlanner")}))}))},components:{VueCal:Vt.a},data:function(){return{date:(new Date).format("YYYY-MM-DD")}},methods:{onDayClick:function(t){this.date=new Date(t).format("YYYY-MM-DD")},selectCycle:function(){var t=this;this.$store.dispatch("getPlanner",{force:!0,cycle:this.activeCycle}).then((function(){t.$store.dispatch("getWorkplacePlanner",{force:!0,cycle:t.activeCycle}).then((function(){t.$store.dispatch("getNonFieldActivityPlans",{force:!0,cycle:t.activeCycle})}))}))},resetCycle:function(){var t=this;this.$store.dispatch("getActiveCycle",!0).then((function(){t.$store.dispatch("getPlanner",!0).then((function(){t.$store.dispatch("getWorkplacePlanner",!0)}))}))}},computed:{submittedDays:function(){return this.$store.getters.submittedDays},plans:function(){return this.$store.getters.allPlans},cycles:function(){return this.$store.getters.repCycles},activeCycle:{get:function(){return this.$store.getters.repActiveCycle},set:function(t){return this.$store.state.AppModule.activeCycle=t}}}}),Bt=Object(o.a)(Ut,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg-3",attrs:{id:"side_datepicker"}},[s("div",{staticClass:"p-2 border rounded my-1 shadow"},[s("label",{staticClass:"small text-muted",attrs:{for:"active_cycle"}},[t._v("Current Cycle")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.activeCycle,expression:"activeCycle"}],staticClass:"form-control form-control-sm",attrs:{name:"active_cycle",id:"active_cycle",disabled:!t.cycles.length||!t.activeCycle},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.activeCycle=e.target.multiple?s:s[0]}}},t._l(t.cycles,(function(e,a){return s("option",{key:"cycle_"+a,domProps:{value:e}},[t._v(t._s(e.name))])})),0),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.selectCycle}},[s("span",{staticClass:"fa fa-check-circle"}),t._v(" "),s("span",[t._v("select")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-dark",on:{click:t.resetCycle}},[s("span",{staticClass:"fa fa-redo"}),t._v(" "),s("span",[t._v("reset")])])])]),t._v(" "),s("vue-cal",{staticClass:"vuecal--date-picker vuecal--rounded-theme vuecal--green-theme",staticStyle:{"max-height":"250px"},attrs:{xsmall:"",time:!1,"active-view":"month","disable-views":["years","year","week","day"],"hide-view-selector":"",selectedDate:t.date,startWeekOnSunday:!0,hideWeekdays:[5],events:t.plans},on:{"cell-click":t.onDayClick},scopedSlots:t._u([{key:"arrow-prev",fn:function(){return[s("i",{staticClass:"fa fa-chevron-circle-left text-success"})]},proxy:!0},{key:"arrow-next",fn:function(){return[s("i",{staticClass:"fa fa-chevron-circle-right text-success"})]},proxy:!0}])})],1),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("div",{staticClass:"px-0 shadow pb-3"},[s("router-view",{staticClass:"page-fade",attrs:{date:t.date}})],1)])])])}),[],!1,null,null,null).exports,Wt={components:{VueCal:Vt.a,ModalFade:B.a},data:function(){return{show_event_modal:!1,show_day_modal:!1,selected_event:null,selected_day:null,duplicate_date:null,summery_icon:"fa-chevron-circle-down",is_selected_event_is_submitted:!1,active_non_field_modal:!1}},methods:{isSubmittedDay:function(t){return!!this.submitted.includes(t)},onEventClick:function(t){if("non-field-activity"===t.type||"field-activity"===t.type)return this.active_non_field_modal=!0,void(this.selected_event=t);new Date(t.start).format("YYYY-MM-DD");this.selected_event=t,this.selected_event.start=new Date(t.start).format("YYYY-MM-DD"),this.show_event_modal=!0},onDayClick:function(t,e){var s;this.isSubmittedPlans?this.$toasted.show("Plans is already submitted, you cant change plan after submit"):(s=t.date?new Date(t.date).format("YYYY-MM-DD"):new Date(t).format("YYYY-MM-DD"),this.selected_day=this.duplicate_date=s,this.show_day_modal=!0)},closeEventModal:function(){this.show_event_modal=!1,this.is_selected_event_is_submitted=!1},closeCellModal:function(){this.show_day_modal=!1},updateEvent:function(){var t=this;if(!this.isSubmittedPlans){var e=this.getEventDetails();e&&d.a.post(e.url,e.data).then((function(s){var a=s.data;a.message=a.data,t.handleResponse(a,(function(s){t.show_event_modal=!1,e.model()}))}))}},deleteEvent:function(){var t=this;if(!this.isSubmittedPlans){var e=this.getEventDetails();e&&(e.data._method="DELETE",d.a.post(e.url,e.data).then((function(s){var a=s.data;a.message=a.date,t.handleResponse(a,(function(s){t.show_event_modal=!1,e.model()}))})))}},getEventDetails:function(){var t,e,s=this;return this.selected_event?(e=function(){"PM"===s.selected_event.class?(s.$store.dispatch("getPlanner",!0),s.$store.dispatch("customerGetAll",!0)):(s.$store.dispatch("getWorkplacePlanner",!0),s.$store.dispatch("workplaceGetAll",!0))},{id:t=this.selected_event.id,url:"PM"===this.selected_event.class?"rep/v1/planner/"+t:"rep/v1/workplace-planner/"+t,data:{date:this.selected_event.start,_method:"PUT"},model:e}):null},duplicateDay:function(){var t=this;if(!this.isSubmittedPlans){var e={date:this.selected_day,replan_date:this.duplicate_date,_method:"PUT"};d.a.post("rep/v1/planner/duplicate",e).then((function(e){var s=e.data;s.message=s.data,t.handleResponse(s,(function(e){e.rejected.forEach((function(e){t.$toasted.error(e)})),t.$store.dispatch("customerGetAll",!0),t.$store.dispatch("getPlanner",!0),t.show_day_modal=!1}))}))}},clearDay:function(){var t=this;if(!this.isSubmittedPlans){var e={date:this.selected_day,_method:"DELETE"};d.a.post("rep/v1/planner/clear-day",e).then((function(e){var s=e.data;s.message=s.data,t.handleResponse(s,(function(e){t.$store.dispatch("customerGetAll",!0),t.$store.dispatch("getPlanner",!0),t.show_day_modal=!1}))}))}},flipIcon:function(){"fa-chevron-circle-down"===this.summery_icon?this.summery_icon="fa-chevron-circle-up":this.summery_icon="fa-chevron-circle-down"},generateVisitLink:function(){var t=this;if(this.selected_event)if("AM"===this.selected_event.class){var e="/reports/add/am/".concat(this.selected_event.workplace.id);this.show_event_modal=!1,setTimeout((function(){t.$router.push(e)}),300)}else{var s="/reports/add/pm/".concat(this.selected_event.customer_id);this.show_event_modal=!1,setTimeout((function(){t.$router.push(s)}),300)}},submitPlan:function(){var t=this;d.a.post("rep/v1/planner/submit").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$store.dispatch("getPlanner",!0)}))})).then((function(){d.a.post("rep/v1/workplace-planner/submit").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$store.dispatch("getWorkplacePlanner",!0)}))}))})).catch((function(t){return console.log(t)}))},closeNonFieldActivityModal:function(){this.active_non_field_modal=!1},editNonFieldActivity:function(){var t=this;if(!this.isSubmittedPlans){var e={start:this.selected_event.date_start,end:this.selected_event.date_end,_method:"PUT"},s=this.selected_event.id;d.a.post("activity-planner/"+s,e).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$store.dispatch("getNonFieldActivityPlans",!0),t.active_non_field_modal=!1}))})).catch((function(t){console.log(t)}))}},deleteNonFieldActivity:function(){var t=this;if(!this.isSubmittedPlans){var e=this.selected_event.id;d.a.post("activity-planner/"+e,{_method:"DELETE"}).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.active_non_field_modal=!1,t.$store.dispatch("getNonFieldActivityPlans",!0)}))})).catch((function(t){return console.log(t)}))}},goToActivityReport:function(){var t=this;this.active_non_field_modal=!1,setTimeout((function(){t.$router.push("/reports/add/activity-report?type=".concat(t.selected_event.type))}),300)}},computed:{plans:function(){return this.$store.getters.allPlans},isPlansFetched:function(){return this.$store.getters.isPlansFetched},planSummery:function(){var t=this.$store.getters.amPlans,e=this.$store.getters.plans;return{workplaces:Object(S.f)(t,"workplace.name"),customers:Object(S.f)(e,"title"),days:Object(S.f)(this.plans,"start")}},isSubmittedPlans:function(){return this.$store.getters.isSubmittedPlans}}},Yt=Object(o.a)(Wt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"p-2 text-center"},[s("router-link",{staticClass:"btn btn-info btn-sm",attrs:{to:"/planner/add-pm"}},[s("span",[s("i",{staticClass:"fa fa-calendar-plus"})]),t._v(" "),s("span",[t._v("Add PM Plans")])]),t._v(" "),s("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{to:"/planner/add-am"}},[s("span",[s("i",{staticClass:"fa fa-hospital-alt"})]),t._v(" "),s("span",[t._v("Add Am Plans")])]),t._v(" "),s("router-link",{staticClass:"btn btn-warning btn-sm",attrs:{to:"/planner/add-field-activity"}},[s("span",[s("i",{staticClass:"fa fa-plus"})]),t._v(" "),s("span",[t._v("Plan field activity")])]),t._v(" "),s("router-link",{staticClass:"btn btn-warning btn-sm",attrs:{to:"/planner/add-non-field-activity"}},[s("span",[s("i",{staticClass:"fa fa-plus"})]),t._v(" "),s("span",[t._v("Plan non field activity")])]),t._v(" "),s("button",{staticClass:"btn btn-success btn-sm",attrs:{disabled:t.isSubmittedPlans||!t.isPlansFetched},on:{click:t.submitPlan}},[s("span",[s("i",{class:"fa  "+(t.isSubmittedPlans?"fa-check":"fa-calendar-check")})]),t._v(" "),s("span",[t._v(t._s(t.isSubmittedPlans?"Already submitted":"Submit"))])])],1),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"border my-2 rounded p-2"},[s("p",{staticClass:"text-muted clearfix"},[s("span",{staticClass:"lead"},[t._v("Planner Summery ")]),t._v(" "),s("button",{staticClass:"btn float-right",attrs:{"data-toggle":"collapse","data-target":"#planner_summery"},on:{click:t.flipIcon}},[s("span",[s("i",{class:"fa "+t.summery_icon})])])]),t._v(" "),s("div",{staticClass:"row mx-auto collapse",attrs:{id:"planner_summery"}},[s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0 text-muted"},[t._v("Total planned : "+t._s(t.plans.length))]),t._v(" "),s("p",{staticClass:"mb-0 text-muted"},[t._v("\n            Total P.M. plans : "+t._s(t.$store.getters.plans.length)+"\n          ")]),t._v(" "),s("p",{staticClass:"mb-0 text-muted"},[t._v("\n            Total A.M. plans : "+t._s(t.$store.getters.amPlans.length)+"\n          ")])]),t._v(" "),s("div",{staticClass:"col"},[s("p",{staticClass:"mb-0 text-muted"},[t._v("\n            Total planned Days : "+t._s(Object.keys(t.planSummery.days).length)+"\n          ")]),t._v(" "),s("p",{staticClass:"mb-0 text-muted"},[t._v("\n            Total P.M. planned Customers :\n            "+t._s(Object.keys(t.planSummery.customers).length)+"\n          ")]),t._v(" "),s("p",{staticClass:"mb-0 text-muted"},[t._v("\n            Total A.M. planned Workplaces :\n            "+t._s(Object.keys(t.planSummery.workplaces).length)+"\n          ")])])])])]),t._v(" "),s("div",{staticClass:"p-2"},[t.isPlansFetched?s("vue-cal",{ref:"planner",staticClass:"vuecal--green-theme",attrs:{"active-view":"week",selectedDate:t.$attrs.date,"disable-views":["years","year"],events:t.plans,time:!1,"on-event-click":t.onEventClick,startWeekOnSunday:!0},on:{"cell-click":t.onDayClick},scopedSlots:t._u([{key:"arrow-prev",fn:function(){return[s("i",{staticClass:"fa fa-chevron-circle-left text-success"})]},proxy:!0},{key:"arrow-next",fn:function(){return[s("i",{staticClass:"fa fa-chevron-circle-right text-success"})]},proxy:!0}],null,!1,2957300452)}):s("loader-component")],1),t._v(" "),s("modal-fade",{attrs:{id:"event_modal_fade",show:t.show_event_modal,centered:!0,"header-style":"bg-primary text-light"},on:{onClose:t.closeEventModal},scopedSlots:t._u([t.selected_event?{key:"header",fn:function(){return[t.is_selected_event_is_submitted?s("span",[t._v("View "+t._s(t.selected_event.title)+" Plan")]):s("span",[t._v("Edit\n        "+t._s(t.selected_event.title)+" plan on date\n        "+t._s(t.selected_event.start))])]},proxy:!0}:null,t.selected_event?{key:"body",fn:function(){return[s("div",[s("p",[t._v(t._s(t.selected_event.title))]),t._v(" "),s("div",{staticClass:"form-group row mx-auto"},[s("label",{staticClass:"text-muted col-auto",attrs:{for:"replan_date"}},[t._v("Date")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_event.start,expression:"selected_event.start"}],staticClass:"form-control form-control-sm col",attrs:{type:"date",id:"replan_date",disabled:t.isSubmittedPlans},domProps:{value:t.selected_event.start},on:{input:function(e){e.target.composing||t.$set(t.selected_event,"start",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"Form-group text-right"},[s("button",{staticClass:"btn btn-dark btn-sm",on:{click:function(){t.show_event_modal=!1}}},[s("span",[s("i",{staticClass:"fa fa-times"})]),t._v(" "),s("span",[t._v("cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.generateVisitLink}},[s("span",{staticClass:"fa fa-hands-helping"}),t._v(" "),s("span",[t._v("visit")])]),t._v(" "),t.isSubmittedPlans?t._e():s("button",{staticClass:"btn btn-sm btn-success",on:{click:t.updateEvent}},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])]),t._v(" "),t.isSubmittedPlans?t._e():s("button",{staticClass:"btn btn-sm btn-danger",on:{click:t.deleteEvent}},[s("span",[s("i",{staticClass:"fa fa-trash"})]),t._v(" "),s("span",[t._v("remove")])])])])]},proxy:!0}:null],null,!0)}),t._v(" "),s("modal-fade",{attrs:{id:"cell_modal_fade",show:t.show_day_modal,centered:!0},on:{onClose:t.closeCellModal},scopedSlots:t._u([t.selected_day?{key:"header",fn:function(){return[s("span",[t._v("Edit Date "+t._s(t.selected_day))])]},proxy:!0}:null,{key:"body",fn:function(){return[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.duplicate_date,expression:"duplicate_date"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.duplicate_date},on:{input:function(e){e.target.composing||(t.duplicate_date=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.duplicateDay}},[s("span",[s("i",{staticClass:"fa fa-redo"})]),t._v(" "),s("span",[t._v("Duplicate")])]),t._v(" "),s("button",{staticClass:"btn btn-danger btn-sm",on:{click:t.clearDay}},[s("span",[s("i",{staticClass:"fa fa-trash"})]),t._v(" "),s("span",[t._v("Clear")])])])]},proxy:!0}],null,!0)}),t._v(" "),s("modal-fade",{attrs:{show:t.active_non_field_modal,id:"non-field-modal",headerStyle:"bg-warning text-dark"},on:{onClose:t.closeNonFieldActivityModal},scopedSlots:t._u([t.selected_event?{key:"header",fn:function(){return[s("span",[t._v("Non field activity "+t._s(t.selected_event.title))])]},proxy:!0}:null,t.selected_event?{key:"body",fn:function(){return[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("From")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_event.date_start,expression:"selected_event.date_start"}],staticClass:"form-control form-controls-m",attrs:{type:"date",name:"date_from",id:"date_from"},domProps:{value:t.selected_event.date_start},on:{input:function(e){e.target.composing||t.$set(t.selected_event,"date_start",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("To")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected_event.date_end,expression:"selected_event.date_end"}],staticClass:"form-control form-controls-m",attrs:{type:"date",name:"date_to",id:"date_to"},domProps:{value:t.selected_event.date_end},on:{input:function(e){e.target.composing||t.$set(t.selected_event,"date_end",e.target.value)}}})]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[t.isSubmittedPlans?t._e():s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.editNonFieldActivity}},[s("span",{staticClass:"fa fa-edit"}),t._v(" "),s("span",[t._v("Edit")])]),t._v(" "),s("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:t.goToActivityReport}},[s("span",{staticClass:"fa fa-sticky-note"}),t._v(" "),s("span",[t._v("Report")])]),t._v(" "),t.isSubmittedPlans?t._e():s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:t.deleteNonFieldActivity}},[s("span",{staticClass:"fa fa-times"}),t._v(" "),s("span",[t._v("Delete")])])])]},proxy:!0}:null],null,!0)})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-calendar-check"})]),this._v(" "),e("span",[this._v("Planner")])])}],!1,null,null,null).exports,Gt={data:function(){return{selected_customers:[],deleted_customers:[],withInactiveCustomers:!1}},components:{CustomerSelectFilter:Pt},computed:{datePlan:function(){var t=this;return this.$store.getters.plans.filter((function(e){return e.start===t.$attrs.date}))},customers:function(){return this.$store.getters.customerFilter},isFetched:function(){return this.$store.getters.fetched},isSubmittedPlans:function(){return this.$store.getters.isSubmittedPlans}},methods:{addToSelected:function(t){var e=event.target.checked,s=this.customers.filter((function(e){return e.id===t}))[0];if(e&&!this.selected_customers.includes(s.id))this.selected_customers.push(s.id);else if(this.selected_customers.includes(s.id)){var a=this.selected_customers.indexOf(s.id);this.selected_customers.splice(a,1)}},getSelectedCustomersId:function(){var t=[];return this.selected_customers.map((function(e){return t.push(e.id)})),t},addPlan:function(){var t=this;this.selected_customers.length?d.a.post("rep/v1/planner",{customers:JSON.stringify(this.selected_customers),date:this.$attrs.date}).then((function(e){var s=e.data;t.handleResponse(s,(function(e){e.rejected.forEach((function(e){t.$toasted.error("customer ".concat(e," is already planned"))})),t.selected_customers=[],t.$store.dispatch("getPlanner",!0),t.$store.dispatch("customerGetAll",!0),document.querySelectorAll('#customers_container input[type="checkbox"]').forEach((function(t){t.checked=!1}))}))})):this.$toasted.show("you must pick customer|s first",{icon:"redo",duration:5e3})},addToDeletedCustomers:function(t){if(event.target.checked)this.deleted_customers.includes(t)||this.deleted_customers.push(t);else if(this.deleted_customers.includes(t)){var e=this.deleted_customers.indexOf(t);this.deleted_customers.splice(e,1)}},deletePlans:function(){var t=this,e={customers:JSON.stringify(this.deleted_customers),_method:"DELETE",date:this.$attrs.date};d.a.post("rep/v1/planner/delete",e).then((function(e){var s=e.data;s.message=s.data,t.handleResponse(s,(function(e){t.deleted_customers=[],t.$store.dispatch("getPlanner",!0),t.$store.dispatch("customerGetAll",!0),document.querySelectorAll('#planned_customers input[type="checkbox"]').forEach((function(t){t.checked=!1}))}))}))}}},Ht=Object(o.a)(Gt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg-6 border rounded px-0"},[s("p",{staticClass:"alert alert-info"},[t._v("Customers")]),t._v(" "),s("div",{staticClass:"p-2"},[t.isSubmittedPlans?s("p",{staticClass:"bg-warning text-dark p-2"},[t._v("This day is submitted , you can't add or delete")]):t._e(),t._v(" "),t.selected_customers.length?s("p",{staticClass:"bg-dark small text-light p-2"},[t._v("\n            Selected : "+t._s(t.selected_customers.length)+"\n          ")]):t._e(),t._v(" "),s("div",{staticClass:"d-flex flex-column mb-1"},[s("customer-select-filter",{attrs:{data:t.$store.getters.active}})],1),t._v(" "),t.customers.length?s("div",{staticClass:"border rounded",staticStyle:{height:"200px",overflow:"auto"},attrs:{id:"customers_container"}},[s("table",{staticClass:"table table-sm small"},[t._m(1),t._v(" "),s("tbody",{staticStyle:{height:"200px",overflow:"auto"}},t._l(t.customers,(function(e){return s("tr",{key:e.id},[s("td",[s("input",{attrs:{type:"checkbox",disabled:t.isSubmittedPlans},on:{click:function(s){return t.addToSelected(e.id)}}})]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v("\n                    "+t._s(e.specialty)+"\n                  ")]),t._v(" "),s("td",[t._v(t._s(e.parameter))]),t._v(" "),s("td",[t._v(t._s(e.current_freq))]),t._v(" "),s("td",[t._v(t._s(e.plans))])])})),0)])]):t.isFetched?s("div",{staticClass:"pt-5"},[s("p",{staticClass:"text-center text-muted small"},[t._v("\n              No active customers found, try to select from inactive customers\n              or edit customers\n            ")])]):s("div",{staticClass:"text-center d-flex align-items-center justify-content-center flex-column",staticStyle:{"min-height":"200px"}},[s("div",{staticClass:"spinner-border text-info"}),t._v(" "),s("p",{staticClass:"my-2 text-info"},[t._v("Loading...")])])])]),t._v(" "),s("div",{staticClass:"col-lg-6 px-0 border rounded"},[s("p",{staticClass:"alert alert-info"},[t._v("Date "+t._s(t.$attrs.date)+" plans")]),t._v(" "),s("div",{staticClass:"p-2"},[t.isSubmittedPlans?s("p",{staticClass:"bg-warning text-dark p-2"},[t._v("This day is submitted , you can't add or delete")]):t._e(),t._v(" "),t.datePlan.length?s("p",{staticClass:"p-2 bg-dark text-light small"},[t._v("\n            total planned : "+t._s(t.datePlan.length)+"\n          ")]):t._e(),t._v(" "),t.datePlan?s("div",{staticClass:"border rounded",staticStyle:{height:"200px",overflow:"auto"},attrs:{id:"planned_customers"}},[s("table",{staticClass:"table table-sm small"},[t._m(2),t._v(" "),s("tbody",t._l(t.datePlan,(function(e){return s("tr",{key:e.id},[s("td",[s("input",{attrs:{type:"checkbox",disabled:t.isSubmittedPlans},on:{click:function(s){return t.addToDeletedCustomers(e.id)}}})]),t._v(" "),s("td",[t._v(t._s(e.title))]),t._v(" "),s("td",[t._v("\n                    "+t._s(e.specialty)+"\n                  ")]),t._v(" "),s("td",[t._v(t._s(e.freq))]),t._v(" "),s("td",[t._v(t._s(e.plans_count))])])})),0)])]):t._e()])]),t._v(" "),s("div",{staticClass:"col-12 my-2 text-right"},[s("router-link",{staticClass:"btn btn-dark btn-sm",attrs:{to:"/planner"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success",attrs:{disabled:t.isSubmittedPlans||!t.selected_customers.length},on:{click:t.addPlan}},[t.selected_customers.length?s("span",{staticClass:"bg-white text-success rounded-circle px-1 font-weight-bold"},[t._v(t._s(t.selected_customers.length))]):t._e(),t._v(" "),s("span",[t._v("add")])]),t._v(" "),t.deleted_customers.length?s("button",{staticClass:"btn btn-sm btn-danger",attrs:{disabled:t.isSubmittedPlans||!t.deleted_customers.length},on:{click:t.deletePlans}},[s("span",{staticClass:"bg-white text-danger rounded-circle px-1 font-weight-bold"},[t._v(t._s(t.deleted_customers.length))]),t._v(" "),s("span",[t._v("delete")])]):t._e()],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Add new plan")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th"),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Specialty")]),t._v(" "),s("th",[t._v("Param")]),t._v(" "),s("th",[t._v("Freq")]),t._v(" "),s("th",[t._v("Plans")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th"),t._v(" "),s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Specialty")]),t._v(" "),s("th",[t._v("Freq")]),t._v(" "),s("th",[t._v("Plans")])])}],!1,null,null,null).exports,Xt={created:function(){this.$store.dispatch("workplaceGetAll")},data:function(){return{selected_workplaces:[],deleted_workplaces:[],show_filter_modal:!1,activeFilter:!1,selectedBrick:null,filteredList:[]}},components:{ModalFade:B.a},computed:{amPlans:function(){var t=this;return this.$store.getters.amPlans.filter((function(e){return e.start===t.$attrs.date}))},rowWorkplaces:function(){return this.$store.getters.allWorkplaces},workplaces:function(){return this.activeFilter?this.filteredList:this.$store.getters.allWorkplaces},isPlansFetched:function(){return this.$store.getters.isAmPlansFetched},isWorkplaceFetched:function(){return this.$store.getters.isWorkplacesFetched},filterBricks:function(){var t=this.rowWorkplaces,e=[];return t.length&&t.forEach((function(t){e.includes(t.brick)||e.push(t.brick)})),e},isSubmittedPlans:function(){return this.$store.getters.isSubmittedPlans}},methods:{addToSelected:function(t){if(event.target.checked)this.selected_workplaces.includes(t)||this.selected_workplaces.push(t);else if(this.selected_workplaces.includes(t)){var e=this.selected_workplaces.indexOf(t);this.selected_workplaces.splice(e,1)}},addToDeleted:function(t){if(event.target.checked)this.deleted_workplaces.includes(t)||this.deleted_workplaces.push(t);else if(this.deleted_workplaces.includes(t)){var e=this.deleted_workplaces.indexOf(t);this.deleted_workplaces.splice(e,1)}},addPlans:function(){var t=this,e={workplaces:JSON.stringify(this.selected_workplaces),date:this.$attrs.date};d.a.post("rep/v1/workplace-planner",e).then((function(e){var s=e.data;t.handleResponse(s,(function(e){e.rejected.forEach((function(e){t.$toasted.error(e)}))}))})).finally((function(){t.$store.dispatch("getWorkplacePlanner",!0),document.querySelectorAll('#workplace_list input[type="checkbox"]').forEach((function(t){t.checked=!1})),t.selected_workplaces=[]}))},deletePlans:function(){var t=this,e={workplaces:JSON.stringify(this.deleted_workplaces),date:this.$attrs.date,_method:"DELETE"};d.a.post("rep/v1/workplace-planner/delete",e).then((function(e){var s=e.data;s.message=s.data,t.handleResponse(s)})).finally((function(){t.$store.dispatch("getWorkplacePlanner",!0),document.querySelectorAll('#plans_list input[type="checkbox"]').forEach((function(t){t.checked=!1})),t.deleted_workplaces=[]}))},openFilterModal:function(){this.show_filter_modal=!0},closeFilterModal:function(){this.show_filter_modal=!1},filterWorkplaces:function(){var t=this;this.activeFilter=!0;var e=[];this.rowWorkplaces.map((function(s){s.brick===t.selectedBrick&&e.push(s)})),this.filteredList=e,this.show_filter_modal=!1},reset:function(){this.activeFilter=!1,this.selectedBrick=null}}},zt=Object(o.a)(Xt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"p-2 row mx-auto"},[s("div",{staticClass:"col-lg-6 p-2 border rounded",attrs:{id:"workplace_list"}},[t.isSubmittedPlans?s("p",{staticClass:"bg-warning text-dark p-2"},[t._v("This day is submitted , you can't add or delete")]):t._e(),t._v(" "),t.selected_workplaces.length?s("p",{staticClass:"bg-dark text-light p-2"},[t._v("\n        Selected : "+t._s(t.selected_workplaces.length)+"\n      ")]):t._e(),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.openFilterModal}},[s("span",{staticClass:"fa fa-filter"}),t._v(" "),s("span",[t._v("filter")])])]),t._v(" "),s("modal-fade",{attrs:{show:t.show_filter_modal},on:{onClose:t.closeFilterModal},scopedSlots:t._u([{key:"header",fn:function(){return[s("span",{staticClass:"lead"},[t._v("Filter A.M. workplaces")])]},proxy:!0},{key:"body",fn:function(){return[s("div",[s("div",{staticClass:"p-2"},[s("label",[t._v("Brick")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedBrick,expression:"selectedBrick"}],staticClass:"form-control form-control-sm",attrs:{name:"brick",id:"brick",disabled:!t.filterBricks.length},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedBrick=e.target.multiple?s:s[0]}}},t._l(t.filterBricks,(function(e,a){return s("option",{key:"brick_"+a,domProps:{value:e}},[t._v(t._s(e))])})),0)]),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.filterWorkplaces}},[s("span",{staticClass:"fa fa-check-circle"}),t._v(" "),s("span",[t._v("ok")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-dark",on:{click:t.reset}},[s("span",{staticClass:"fa fa-redo"}),t._v(" "),s("span",[t._v("reset")])])])])]},proxy:!0}])}),t._v(" "),t.workplaces.length?s("div",{staticClass:"border",staticStyle:{height:"200px",overflow:"auto"}},[s("table",{staticClass:"table table-striped table-sm small"},[t._m(1),t._v(" "),s("tbody",t._l(t.workplaces,(function(e){return s("tr",{key:e.id},[s("td",[s("input",{attrs:{type:"checkbox",disabled:t.isSubmittedPlans},on:{click:function(s){return t.addToSelected(e.id)}}})]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.address))]),t._v(" "),s("td",[t._v(t._s(e.brick))])])})),0)])]):t.isWorkplaceFetched?s("div",{staticClass:"text-center pt-5"},[s("p",{staticClass:"font-weight-bold"},[t._v("No workplaces found")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/workplaces/add-hospital"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("add workplace")])])],1):s("div",{staticClass:"d-flex justify-content-center align-items-center h-100"},[s("loader-component")],1)],1),t._v(" "),s("div",{staticClass:"col-lg-6 p-2 rounded border",attrs:{id:"plans_list"}},[t.isSubmittedPlans?s("p",{staticClass:"bg-warning text-dark p-2"},[t._v("This day is submitted , you can't add or delete")]):t._e(),t._v(" "),t.deleted_workplaces.length?s("p",{staticClass:"bg-dark text-light p-2"},[t._v("\n        Selected : "+t._s(t.deleted_workplaces.length)+"\n      ")]):t._e(),t._v(" "),s("div",{staticClass:"p-2 border rounded"},[s("table",{staticClass:"table table-striped table-sm small table-responsive"},[t._m(2),t._v(" "),s("tbody",t._l(t.amPlans,(function(e){return s("tr",{key:e.id},[s("td",[s("input",{attrs:{type:"checkbox",disabled:t.isSubmittedPlans},on:{click:function(s){return t.addToDeleted(e.id)}}})]),t._v(" "),s("td",[t._v(t._s(e.name))]),t._v(" "),s("td",[t._v(t._s(e.workplace.address))]),t._v(" "),s("td",[t._v(t._s(e.workplace.brick))])])})),0)])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"text-right p-2"},[s("router-link",{staticClass:"btn btn-dark btn-sm",attrs:{to:"/planner"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success",attrs:{disabled:t.isSubmittedPlans},on:{click:t.addPlans}},[t.selected_workplaces.length?s("span",{staticClass:"px-1 text-success bg-light rounded-circle font-weight-bold"},[t._v(t._s(t.selected_workplaces.length))]):t._e(),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("add")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",attrs:{disabled:t.isSubmittedPlans},on:{click:t.deletePlans}},[t.deleted_workplaces.length?s("span",{staticClass:"px-1 text-danger bg-light rounded-circle font-weight-bold"},[t._v(t._s(t.deleted_workplaces.length))]):t._e(),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("delete")])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Add Workplace Plans")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th",[this._v("Workplace")]),this._v(" "),e("th",[this._v("Address")]),this._v(" "),e("th",[this._v("Brick")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th",[this._v("Name")]),this._v(" "),e("th",[this._v("Address")]),this._v(" "),e("th",[this._v("Brick")])])])}],!1,null,null,null).exports,Jt=s(56),Kt=s(57),Qt={path:"/planner",component:Bt,children:[{path:"",component:Yt},{path:"add-pm",component:Ht},{path:"add-am",component:zt},{path:"add-non-field-activity",component:Jt.a},{path:"add-field-activity",component:Kt.a}]},Zt={},te=Object(o.a)(Zt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view",{staticClass:"page-fade"})],1)}),[],!1,null,null,null).exports,ee={components:{ListComponent:C.a},data:function(){return{addLinks:[{title:"Add new PM visit",link:"/reports/add/pm",icon:"fa-plus-circle"},{title:"Add new AM visit",link:"/reports/add/am",icon:"fa-plus-circle"},{title:"Add new Pharmacy visit",link:"/reports/add/pharmacy",icon:"fa-plus-circle"},{title:"Add new field activity report",link:"/reports/add/activity-report?type=field-activity",icon:"fa-plus-circle"},{title:"Add new non-field activity report",link:"/reports/add/activity-report?type=non-field-activity",icon:"fa-plus-circle"},{title:"Create new request",link:"/reports/add/request",icon:"fa-plus-circle"}],reportLinks:[{title:"View PM report",link:"/reports/view/pm",icon:"fa-book-open"},{title:"View AM report",link:"/reports/view/am",icon:"fa-book-open"},{title:"View pharmacy report",link:"/reports/view/pharmacy",icon:"fa-book-open"},{title:"View plans report",link:"/reports/view/plans",icon:"fa-book-open"},{title:"View coach report",link:"/reports/view/coaching-report",icon:"fa-book-reader"}],analysisLinks:[{title:"View PM analysis report",link:"/reports/analysis/pm",icon:"fa-chart-line"},{title:"View plan analysis report",link:"/reports/analysis/plan",icon:"fa-chart-area"},{title:"Time investment",link:"/reports/view/pharmacy",icon:"fa-chart-pie"}],othersLinks:[{title:"Field activity report",link:"/reports/activity-report?type=field-activity",icon:"fa-book-reader"},{title:"Non-Field activity report",link:"/reports/activity-report?type=non-field-activity",icon:"fa-book-reader"},{title:"Requests report",link:"/reports/requests",icon:"fa-dollar-sign"}]}}},se=Object(o.a)(ee,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"p-3"},[s("div",{staticClass:"row mx-auto p-3"},[s("div",{staticClass:"col-lg"},[s("list-component",{attrs:{links:t.addLinks}})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("list-component",{attrs:{links:t.reportLinks}})],1)]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row mx-auto p-3"},[s("div",{staticClass:"col-lg"},[s("list-component",{attrs:{links:t.othersLinks}})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("list-component",{attrs:{links:t.analysisLinks}})],1)])])])}),[],!1,null,null,null).exports,ae={mounted:function(){this.getRepProducts()},props:["data","pharmacyProducts"],computed:{products:function(){return this.$store.getters.products},lader:function(){return this.$store.getters.lader},visitActions:function(){return this.$store.getters.visitActions}},data:function(){return{rep_products:[]}},methods:{addNewProduct:function(){var t={name:"",competitor:""};this.pharmacyProducts&&(t.rate="",t.competitor_rate=""),this.data.length>=4||this.data.push(t)},removeProduct:function(t){this.data.splice(t,1)},getRepProducts:function(){var t=this;return d.a.get("rep/v1/rep-line").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.rep_products=e.data}))})).catch((function(t){return console.log(t)}))},getProductCompetitors:function(t,e){var s=this,a=[];return this.rep_products.map((function(t){t.name===s.data[e].name&&(a=Array.from(t.competitors))})),a}}},re=Object(o.a)(ae,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:t.data.length>=4},on:{click:t.addNewProduct}},[t._m(0),t._v(" "),s("span",[t._v("add product")])])]),t._v(" "),t._l(t.data,(function(e,a){return s("div",{key:a,staticClass:"row mx-auto"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:"name"}},[t._v("Name")]),t._v(" "),s("ValidationProvider",{attrs:{rules:"required",name:"name"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(r[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"product.name"}],staticClass:"form-control form-control-sm",attrs:{name:"name"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"name",s.target.multiple?a:a[0])}}},t._l(t.rep_products,(function(e,a){return s("option",{key:a,domProps:{value:e.name}},[t._v(t._s(e.name))])})),0)]}}],null,!0)})],1),t._v(" "),t.pharmacyProducts?s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:"rate"}},[t._v("Rate")]),t._v(" "),s("ValidationProvider",{attrs:{rules:"required",name:"rate"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(r[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.rate,expression:"product.rate"}],staticClass:"form-control form-control-sm",attrs:{name:"rate"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"rate",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"High"}},[t._v("High")]),t._v(" "),s("option",{attrs:{value:"Medium"}},[t._v("Medium")]),t._v(" "),s("option",{attrs:{value:"Low"}},[t._v("Low")]),t._v(" "),s("option",{attrs:{value:"Very Low"}},[t._v("Very Low")])])]}}],null,!0)})],1):s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:"lader"}},[t._v("Lader of Adaption")]),t._v(" "),s("ValidationProvider",{attrs:{rules:"required",name:"lader"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(r[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.lader,expression:"product.lader"}],staticClass:"form-control form-control-sm",attrs:{name:"lader"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"lader",s.target.multiple?a:a[0])}}},t._l(t.lader,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)]}}],null,!0)})],1),t._v(" "),t.pharmacyProducts?t._e():s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:"action"}},[t._v("Action")]),t._v(" "),s("ValidationProvider",{attrs:{rules:"required",name:"action"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(r[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.action,expression:"product.action"}],staticClass:"form-control form-control-sm",attrs:{name:"action"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"action",s.target.multiple?a:a[0])}}},t._l(t.visitActions,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:"competitor"}},[t._v("Competitor")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.competitor,expression:"product.competitor"}],staticClass:"form-control form-control-sm",attrs:{name:"competitor",id:"competitor"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"competitor",s.target.multiple?a:a[0])}}},t._l(t.getProductCompetitors(e,a),(function(e,r){return s("option",{key:"product_"+a+"_competitor_"+r,domProps:{value:e}},[t._v(t._s(e))])})),0)]),t._v(" "),t.pharmacyProducts?s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted small",attrs:{for:"competitor_rate"}},[t._v("Competitor Rate")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.competitor_rate,expression:"product.competitor_rate"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"competitor_rate"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(e,"competitor_rate",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"High"}},[t._v("High")]),t._v(" "),s("option",{attrs:{value:"Medium"}},[t._v("Medium")]),t._v(" "),s("option",{attrs:{value:"Low"}},[t._v("Low")]),t._v(" "),s("option",{attrs:{value:"Very Low"}},[t._v("Very Low")])])]):t._e(),t._v(" "),s("div",{staticClass:"col-lg-auto d-flex justify-content-center align-items-center"},[s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.removeProduct(a)}}},[t._m(1,!0)])])])}))],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-plus-circle"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-times"})])}],!1,null,null,null).exports,ne={created:function(){var t=this;this.$store.dispatch("customerGetAll").finally((function(){t.$store.dispatch("workplaceGetAll")})),this.$route.params.id&&(this.is_single_workplace=!0,this.visit.workplace_id=parseInt(this.$route.params.id))},components:{VisitProducts:re},data:function(){return{visit:{workplace_id:"",customers:[],date:(new Date).format("YYYY-MM-DD"),comment:"",general_feedback:"",dual_with:"",products:[]},is_single_workplace:!1,departs:null,filter_departs:[]}},computed:{workplaces:function(){return this.$store.getters.allWorkplaces},customers:function(){var t=this,e=this.$store.getters.all,s=[];return this.visit.workplace_id&&this.filter_departs.length&&(s=e.filter((function(e){return parseInt(e.workplace_id)===parseInt(t.visit.workplace_id)&&t.filter_departs.includes(e.specialty)}))),s},workplace:function(){if(this.workplaces.length){var t=parseInt(this.$route.params.id),e=this.workplaces.filter((function(e){return e.id===t}))[0];return this.departs=e.depart,this.visit.customers=[],e}}},methods:{handleWorkplacesDropdownChange:function(){event.target.value;this.departs=null,this.filter_departs=[]},saveReport:function(){var t=this;if(this.visit.customers.length)if(this.visit.products.length){var e={};Object.assign(e,this.visit),e.customers=JSON.stringify(e.customers),e.products=JSON.stringify(e.products),d.a.post("rep/v1/reports/am",e).then((function(e){var s=e.data;s.message=s.data,t.handleResponse(s,(function(e){t.$router.replace("/reports/view/am"),t.$store.dispatch("amGetAll",!0)}))}))}else this.$toasted.error("must add one product at least",{icon:"exclamation"});else this.$toasted.error("must select at least one customer",{icon:"exclamation"})},selectWorkplace:function(){var t=this.visit.workplace_id;this.departs=this.workplaces.filter((function(e){return e.id===t}))[0].depart,this.visit.customers=[]},toggleDepart:function(t){event.target.checked?this.filter_departs.includes(t)||this.filter_departs.push(t):this.filter_departs.includes(t)&&this.filter_departs.splice(this.filter_departs.indexOf(t),1)},toggleCustomer:function(t){event.target.checked?this.visit.customers.includes(t)||this.visit.customers.push(t):this.visit.customers.includes(t)&&this.visit.customers.splice(this.visit.customers.indexOf(t),1)}}},ie=Object(o.a)(ne,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.saveReport)}}},[s("div",{staticClass:"row mx-auto p-2 border rounded"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"date"}},[t._v("Date")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.date,expression:"visit.date"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.visit.date},on:{input:function(e){e.target.composing||t.$set(t.visit,"date",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"workplace"}},[t._v("Workplace")]),t._v(" "),s("ValidationProvider",{attrs:{name:"workplace_id",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("must select workplace")]):t._e(),t._v(" "),t.is_single_workplace?s("div",[s("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",disabled:"",readonly:""},domProps:{value:t.workplace?t.workplace.name:""}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.workplace_id,expression:"visit.workplace_id"}],attrs:{type:"hidden"},domProps:{value:t.visit.workplace_id},on:{input:function(e){e.target.composing||t.$set(t.visit,"workplace_id",e.target.value)}}})]):s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.workplace_id,expression:"visit.workplace_id"}],class:"form-control form-control-sm "+(a[0]?"border-danger":""),attrs:{name:"workplace_id",id:"workplace_id"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"workplace_id",e.target.multiple?s:s[0])},t.handleWorkplacesDropdownChange]}},[s("option",{attrs:{value:""}},[t._v("Select workplace")]),t._v(" "),t._l(t.workplaces,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]}}],null,!0)}),t._v(" "),s("div",{staticClass:"text-right small p-2"},[t.is_single_workplace?t._e():s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.selectWorkplace}},[t._v("\n                  select\n                ")])])],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"departs"}},[t._v("Departments")]),t._v(" "),t.departs?s("div",[t.departs.length?s("ul",{staticClass:"nav border rounded p-2"},t._l(t.departs,(function(e){return s("li",{key:e.id,staticClass:"nav-item col-12"},[s("input",{attrs:{type:"checkbox"},on:{click:function(s){return t.toggleDepart(e.name)}}}),t._v(" "),s("span",[t._v(t._s(e.name))])])})),0):s("p",{staticClass:"text-danger small"},[s("span",[t._v("This workplace have no departments")]),t._v(" "),s("router-link",{staticClass:"badge badge-primary p-1",attrs:{to:"/workplaces/hospital/view/"+t.visit.workplace_id}},[t._v("add departments")])],1)]):s("div",[s("p",{staticClass:"text-muted small"},[t._v("Select Workplace first")])])]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"customers"}},[t._v("Customers")]),t._v(" "),t.customers.length?s("div",[t.customers.length?s("ul",{staticClass:"nav border rounded p-2"},t._l(t.customers,(function(e){return s("li",{key:e.id,staticClass:"nav-item col-12"},[s("input",{attrs:{type:"checkbox"},on:{click:function(s){return t.toggleCustomer(e.id)}}}),t._v(" "),s("span",[t._v(t._s(e.name))])])})),0):s("p",{staticClass:"text-danger small"},[t._v("\n                  This department have no customers\n                ")])]):s("div",[s("p",{staticClass:"text-muted small"},[t._v("Select Department")])])])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"form-group p-2 border rounded"},[s("visit-products",{attrs:{data:t.visit.products}})],1),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"row mx-auto p-2 rounded border"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"comment"}},[t._v("Comment")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.comment,expression:"visit.comment"}],staticClass:"form-control form-control-sm",attrs:{name:"comment",rows:"5",placeholder:"write visit comment"},domProps:{value:t.visit.comment},on:{input:function(e){e.target.composing||t.$set(t.visit,"comment",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"general_feedback"}},[t._v("General Feedback")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.general_feedback,expression:"visit.general_feedback"}],staticClass:"form-control form-control-sm",attrs:{name:"general_feedback",rows:"5",placeholder:"write visit feedback"},domProps:{value:t.visit.general_feedback},on:{input:function(e){e.target.composing||t.$set(t.visit,"general_feedback",e.target.value)}}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right p-2"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])],1)])]}}])})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("New AM visit")])])}],!1,null,null,null).exports,oe={mounted:function(){this.$store.dispatch("customerGetAll"),this.$store.dispatch("getCoaches"),this.$route.params.id&&(this.is_single_customer=!0)},components:{VisitProducts:re,CustomerSelectFilter:Pt},data:function(){return{visit:{customer:"",date:(new Date).format("YYYY-MM-DD"),dual:!1,dual_with:"",coach2_id:"",comment:"",products:[],general_feedback:"",visit_type:"pm face to face"},is_single_customer:!1}},methods:{saveReport:function(){var t=this;if(this.visit.customer)if(this.visit.products.length){var e={};Object.assign(e,this.visit),e.products=JSON.stringify(e.products),d.a.post("rep/v1/reports/pm",e).then((function(e){var s=e.data;s.message="visit added successfully",t.handleResponse(s,(function(e){t.$store.dispatch("customerGetAll",!0),t.$store.dispatch("reportGetAll",!0),t.is_single_customer?t.$router.replace("/customers/view/"+t.$route.params.id):t.$router.replace("/reports/view/pm")}))}))}else this.$toasted.error("You must add one product at least",{icon:"exclamation-triangle"});else this.$toasted.error("No customer selected",{icon:"exclamation-triangle"})},handleVisitType:function(){"double visit"===this.visit.visit_type?this.visit.dual=!0:this.visit.dual=!1}},computed:{customers:function(){return this.$store.getters.customerFilter},customer:function(){this.customers;var t=parseInt(this.$route.params.id);return this.visit.customer=t,this.customers.filter((function(e){return e.id===t}))[0]},coaches:function(){return this.$store.getters.coaches},fetched:function(){return this.$store.getters.fetched}},filters:{capital:function(t){return t?(t=t.toString()).toUpperCase():""}}},le=Object(o.a)(oe,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.saveReport)}}},[s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg row mx-auto align-items-center"},[s("label",{staticClass:"text-muted col-lg-2",attrs:{for:"customer"}},[t._v("Customer")]),t._v(" "),s("div",{staticClass:"col-lg-7"},[t.customers.length?s("ValidationProvider",{attrs:{name:"customer",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),t.is_single_customer?s("div",[s("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",readonly:"",disabled:""},domProps:{value:t.customer.name}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.customer,expression:"visit.customer"}],staticClass:"form-control form-control-sm",attrs:{type:"hidden",readonly:"",disabled:"",name:"customer",id:"customer"},domProps:{value:t.visit.customer},on:{input:function(e){e.target.composing||t.$set(t.visit,"customer",e.target.value)}}})]):s("div",{staticClass:"row mx-auto"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.customer,expression:"visit.customer"}],staticClass:"form-control form-control-sm",attrs:{name:"customer",id:"customer"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"customer",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select customer")]),t._v(" "),t._l(t.customers,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]}}],null,!0)}):t.fetched?s("div",[s("p",{staticClass:"text-center"},[t._v("No customers found")])]):s("div",{staticClass:"text-center"},[s("div",{staticClass:"spinner-border text-success"})])],1),t._v(" "),s("customer-select-filter",{staticClass:"col-lg-3",attrs:{data:t.$store.getters.active}})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"date"}},[t._v("Date:")]),t._v(" "),s("ValidationProvider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.date,expression:"visit.date"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"date",id:"date"},domProps:{value:t.visit.date},on:{input:function(e){e.target.composing||t.$set(t.visit,"date",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg-6"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Visit type")]),t._v(" "),s("ValidationProvider",{attrs:{rules:"required",name:"visit_type"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",[t._v(t._s(a[0]))]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.visit_type,expression:"visit.visit_type"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"visit_type",id:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"visit_type",e.target.multiple?s:s[0])},t.handleVisitType]}},t._l(t.$store.state.AppModule.visitTypes,(function(e,a){return s("option",{key:"visit_type_"+a,domProps:{value:e}},[t._v(t._s(t._f("capital")(e)))])})),0)]}}],null,!0)})],1),t._v(" "),t.visit.dual?s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"form-group"},[s("ValidationProvider",{attrs:{name:"dual_with",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Coach 1")]),t._v(" "),a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must select a coach")]):t._e(),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.dual_with,expression:"visit.dual_with"}],staticClass:"form-control form-control-sm",attrs:{name:"dual_with",id:"dual_with"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"dual_with",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select coach")]),t._v(" "),t._l(t.coaches,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Coach 2")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.coach2_id,expression:"visit.coach2_id"}],staticClass:"form-control form-control-sm",attrs:{name:"coach2_id",id:"coach2_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"coach2_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select coach")]),t._v(" "),t._l(t.coaches,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]):t._e()]),t._v(" "),s("div",{staticClass:"form-group border rounded p-2"},[s("visit-products",{attrs:{data:t.visit.products}})],1),t._v(" "),s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"comment"}},[t._v("Comment")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.comment,expression:"visit.comment"}],staticClass:"form-control form-control-sm",attrs:{name:"comment",id:"comment",rows:"5",placeholder:"write visit comment"},domProps:{value:t.visit.comment},on:{input:function(e){e.target.composing||t.$set(t.visit,"comment",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"general_feedback"}},[t._v("General Feedback")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.general_feedback,expression:"visit.general_feedback"}],staticClass:"form-control form-control-sm",attrs:{name:"general_feedback",id:"general_feedback",rows:"5",placeholder:"write visit general feedback"},domProps:{value:t.visit.general_feedback},on:{input:function(e){e.target.composing||t.$set(t.visit,"general_feedback",e.target.value)}}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success",attrs:{disabled:!t.visit.customer}},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("save")])])],1)])]}}])})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("new PM report")])])}],!1,null,null,null).exports,ce={components:{VisitProducts:re,ModalFade:B.a},created:function(){this.$store.dispatch("pharmacyGetAll"),this.$route.params.id&&(this.is_single_pharmacy=!0,this.visit.pharmacy_id=this.$route.params.id)},data:function(){return{visit:{date:(new Date).format("YYYY-MM-DD"),pharmacy_id:null,products:[],general_feedback:""},is_single_pharmacy:!1,selected_pharmacy:null,show_filter_modal:!1,filter:{brick:"",isActive:!1,data:[]}}},methods:{saveReport:function(){var t=this;if(this.visit.products.length){var e={};Object.assign(e,this.visit),e.products=JSON.stringify(e.products),d.a.post("rep/v1/reports/pharmacy",e).then((function(e){var s=e.data;s.message="visit added successfully",t.handleResponse(s,(function(e){t.$router.replace("/reports/view/pharmacy"),t.$store.dispatch("pharmacyReportGetAll",!0)}))}))}else this.$toasted.error("you must at least pick one product",{icon:"exclamation"})},selectPharmacy:function(){var t=this;this.visit.pharmacy_id?this.selected_pharmacy=this.pharmacies.filter((function(e){return e.id===t.visit.pharmacy_id}))[0]:this.$toasted.show("must select pharmacy first",{type:"error",icon:"exclamation"})},resetPharmacy:function(){this.visit.pharmacy_id=null,this.selected_pharmacy=null,this.filter.isActive=!1,this.filter.data=[]},showFilterModal:function(){this.show_filter_modal=!0},closeFilterModal:function(){this.show_filter_modal=!1},handleFilterSubmit:function(){var t=this;this.filter.isActive=!0,this.filterItems().then((function(e){t.filter.data=e,t.show_filter_modal=!1}))},filterItems:function(){var t=this;return new Promise((function(e,s){try{var a=t.$store.getters.pharmacies;""!==t.filter.brick&&(a=a.filter((function(e){return e.brick===t.filter.brick}))),e(a)}catch(t){s(t)}}))}},computed:{pharmacies:function(){return this.filter.isActive?this.filter.data:this.$store.getters.pharmacies},pharmacy:function(){if(this.is_single_pharmacy){var t=this.$route.params.id,e=this.pharmacies.filter((function(e){return e.id===parseInt(t)}))[0];return this.selected_pharmacy=e,e}return null},pharmacyFilterItems:function(){var t=this.$store.getters.pharmacies;return Object(S.f)(t,"brick")}}},ue=Object(o.a)(ce,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("modal-fade",{attrs:{show:t.show_filter_modal,centered:!0},on:{onClose:t.closeFilterModal},scopedSlots:t._u([{key:"header",fn:function(){return[s("span",[t._v("Filter Pharmacies")])]},proxy:!0},{key:"body",fn:function(){return[s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-muted small",attrs:{for:"brick"}},[t._v("Brick")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.brick,expression:"filter.brick"}],staticClass:"form-control form-control-sm",attrs:{name:"brick",id:"brick"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.filter,"brick",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("all")]),t._v(" "),t._l(Object.keys(t.pharmacyFilterItems),(function(e,a){return s("option",{key:"brick_"+a,domProps:{value:e}},[t._v(t._s(e)+" ("+t._s(t.pharmacyFilterItems[e].length)+") ")])}))],2)]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.handleFilterSubmit}},[s("span",[s("i",{staticClass:"fa fa-check-circle"})]),t._v(" "),s("span",[t._v("ok")])])])]},proxy:!0}])}),t._v(" "),s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.saveReport)}}},[s("div",{staticClass:"row mx-auto p-2 rounded border"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"date"}},[t._v("Date")]),t._v(" "),s("ValidationProvider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.errors[0]?s("span",{staticClass:"text-danger small"},[t._v("You must pick a date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.date,expression:"visit.date"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"date"},domProps:{value:t.visit.date},on:{input:function(e){e.target.composing||t.$set(t.visit,"date",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"pharamcy_id"}},[t._v("Pharmacy ("+t._s(t.pharmacies.length)+")")]),t._v(" "),s("ValidationProvider",{attrs:{name:"pharmacy_id",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("must select a pharmacy")]):t._e(),t._v(" "),t.pharmacy?s("div",[s("input",{staticClass:"form-control form-control-sm",attrs:{type:"text",disabled:""},domProps:{value:t.pharmacy.name}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.pharamcy_id,expression:"visit.pharamcy_id"}],attrs:{type:"hidden",name:"pharmacy_id"},domProps:{value:t.visit.pharamcy_id},on:{input:function(e){e.target.composing||t.$set(t.visit,"pharamcy_id",e.target.value)}}})]):s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.pharmacy_id,expression:"visit.pharmacy_id"}],class:"form-control form-control-sm "+(a[0]?"border-danger":""),attrs:{name:"pharmacy_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"pharmacy_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select Pharmacy")]),t._v(" "),t._l(t.pharmacies,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]}}],null,!0)}),t._v(" "),t.is_single_pharmacy?t._e():s("div",{staticClass:"text-right my-2"},[s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.selectPharmacy}},[s("span",[s("i",{staticClass:"fa fa-check-circle"})]),t._v(" "),s("span",[t._v("view")])]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",disabled:!t.pharmacies.length},on:{click:t.showFilterModal}},[s("span",[s("i",{staticClass:"fa fa-filter"})]),t._v(" "),s("span",[t._v("filter")])]),t._v(" "),s("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:t.resetPharmacy}},[s("span",[s("i",{staticClass:"fa fa-redo"})]),t._v(" "),s("span",[t._v("reset")])])])],1)]),t._v(" "),t.selected_pharmacy||t.pharmacy?s("div",{staticClass:"p-2 rounded border row mx-auto my-2"},[s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n                Name\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.selected_pharmacy.name))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Type\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.selected_pharmacy.type))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Key Person\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.selected_pharmacy.key_person))])])]),t._v(" "),s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n                Address\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.selected_pharmacy.address))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Brick\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.selected_pharmacy.brick))])])])]):t._e(),t._v(" "),s("div",{staticClass:"p-2 rounded border my-2"},[s("visit-products",{attrs:{data:t.visit.products,"pharmacy-products":!0}})],1),t._v(" "),s("div",{staticClass:"p-2 rounded border my-2"},[s("label",{staticClass:"text-muted",attrs:{for:"general_feedback"}},[t._v("General Feedback")]),t._v(" "),s("ValidationProvider",{attrs:{name:"general_feedback",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must write a short notes feedback")]):t._e(),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.general_feedback,expression:"visit.general_feedback"}],class:"form-control form-control-sm "+(a[0]?"border-danger":""),attrs:{name:"general_feedback",rows:"3",placeholder:"Write a feedback that can be a reference for you to review later"},domProps:{value:t.visit.general_feedback},on:{input:function(e){e.target.composing||t.$set(t.visit,"general_feedback",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])],1)])]}}])})],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-plus-circle"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("New Pharmacy report")])])}],!1,null,null,null).exports;function de(t){return function(t){if(Array.isArray(t))return pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pe(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return pe(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var me={mounted:function(){this.$store.dispatch("amGetAll")},computed:{visits:function(){return this.$store.getters.amVisits}},components:{TableComponent:k.a,ModalFade:B.a},data:function(){return{headers:[{title:"Date",name:"date"},{title:"Workplace",name:"workplace.name"},{title:"Customer Name",name:"customer.name"},{title:"Specialty",name:"customer.specialty"}].concat(de(P.d),[{title:"Comment",name:"comment"},{title:"Feedback",name:"general_feedback"},{title:"Address",name:"workplace.address"},{title:"Brick",name:"workplace.brick"}]),selectedReportId:null,showDeleteModal:!1}},methods:{openDeleteModal:function(){this.showDeleteModal=!0},closeDeleteModal:function(){this.showDeleteModal=!1,this.selectReportId=null},selectReport:function(t){this.selectedReportId=t,this.openDeleteModal()},deleteReport:function(){var t=this;if(this.selectedReportId){var e=this.selectedReportId;d.a.post("rep/v1/reports/am/"+e,{_method:"DELETE"}).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$store.dispatch("amGetAll",!0),t.showDeleteModal=!1,t.selectedReportId=null}))}))}else this.$toasted.error("Select Report first",{icon:"exclamation"})}}},ve=Object(o.a)(me,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/reports/add/am"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("new")])])],1),t._v(" "),s("div",{staticClass:"p-2"},[t.visits.length?s("table-component",{attrs:{data:t.visits,heads:t.headers,"head-class":"bg-success text-light","order-by":"Date,asc|Customer Name,asc"},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("Action")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/reports/edit/am/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(e){return t.selectReport(a.id)}}},[s("span",[s("i",{staticClass:"fa fa-times"})])])],1)]}}],null,!1,2889358597)}):t.$store.getters.fetchedReports?s("div",{staticClass:"text-center",staticStyle:{"min-height":"100px"}},[s("p",{staticClass:"lead font-weight-bold text-danger"},[t._v("No am reports found")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/reports/add/am"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("add new am report")])])],1):s("div",{staticClass:"d-flex justify-content-center align-items-center"},[s("div",{staticClass:"spinner-border"})])],1)]),t._v(" "),s("modal-fade",{attrs:{id:"delete_modal_fade",show:t.showDeleteModal},on:{onClose:t.closeDeleteModal},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",{staticClass:"text-center"},[s("span",[s("i",{staticClass:"fa fa-exclamation-triangle text-danger"})]),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("Are you sure, you want to delete this report")])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"my-1 text-center"},[s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.closeDeleteModal}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:t.deleteReport}},[s("span",[s("i",{staticClass:"fa fa-times-circle"})]),t._v(" "),s("span",[t._v("Delete")])])])]},proxy:!0}])})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-book-open"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("View AM visits Report")])])}],!1,null,null,null).exports;function fe(t){return function(t){if(Array.isArray(t))return he(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return he(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return he(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var _e={mounted:function(){this.$store.dispatch("reportGetAll")},computed:{visits:function(){return this.$store.getters.pmVisits}},components:{TableComponent:k.a},data:function(){return{headers:[{title:"ID",name:"id"},{title:"Date",name:"date"},{title:"Visit Type",name:"visit_type",style:"text-uppercase font-weight-bold"},{title:"Name",name:"customer_name"},{title:"Specialty",name:"customer.specialty"},{title:"Param",name:"customer.params.0.current",fallback:"NN"}].concat(fe(P.d),[{title:"Coach 1",name:"dual_with_name"},{title:"Coach2",name:"coach2_name"},{title:"Comment",name:"comment"},{title:"Feedback",name:"general_feedback"},{title:"Address",name:"customer.address"},{title:"Brick",name:"customer.brick"}])}},methods:{removeReport:function(t){var e=this;d.a.post("rep/v1/reports/pm/"+t,{_method:"DELETE"}).then((function(t){var s=t.data;e.handleResponse(s,(function(t){e.$store.dispatch("reportGetAll",!0)}))}))}}},ye=Object(o.a)(_e,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/reports/add/pm"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("new report")])])],1),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"border rounded p-2"},[t.visits.length?s("table-component",{attrs:{data:t.visits,heads:t.headers,"head-class":"bg-success text-light"},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("Actions")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/reports/edit/pm/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.removeReport(a.id)}}},[s("span",[s("i",{staticClass:"fa fa-trash"})])])],1)]}}],null,!1,346001527)}):t.$store.getters.fetchedReports?s("div",{staticClass:"text-center",staticStyle:{"min-height":"100px"}},[s("p",{staticClass:"lead font-weight-bold text-danger"},[t._v("No pm reports found")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/reports/add/pm"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("Add new Report")])])],1):s("div",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{height:"300px"}},[s("div",{staticClass:"spinner-border"})])],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-book-open"})]),this._v(" "),e("span",[this._v("View PM Reports")])])}],!1,null,null,null).exports;function be(t){return function(t){if(Array.isArray(t))return ge(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ge(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ge(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var Ce={mounted:function(){this.$store.dispatch("pharmacyReportGetAll")},computed:{pharmacies:function(){return this.$store.getters.pharmacyVisits}},data:function(){return{headers:[{title:"Date",name:"date"},{title:"Name",name:"pharmacy.name"},{title:"Type",name:"pharmacy.type"},{title:"Key Person",name:"pharmacy.key_person"}].concat(be(P.e),[{title:"Feedback",name:"general_feedback"},{title:"Address",name:"pharmacy.address"},{title:"Brick",name:"pharmacy.brick"},{title:"Area",name:"pharmacy.area"}]),selectedReport:null,showDeleteModal:!1}},components:{TableComponent:k.a,ModalFade:B.a},methods:{openDeleteModal:function(){this.showDeleteModal=!0},closeDeleteModal:function(){this.showDeleteModal=!1,this.selectedReport=null},selectReport:function(t){this.selectedReport=t,this.showDeleteModal=!0},deleteReport:function(){var t=this,e=this.selectedReport;d.a.post("rep/v1/reports/pharmacy/"+e,{_method:"DELETE"}).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$store.dispatch("pharmacyReportGetAll",!0),t.showDeleteModal=!1,t.selectedReport=null}))}))}}},we=Object(o.a)(Ce,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2 my-2 text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-success",attrs:{to:"/reports/add/pharmacy"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("new")])])],1),t._v(" "),t.pharmacies.length?s("div",{staticClass:"p-2 my-2"},[s("table-component",{attrs:{data:t.pharmacies,heads:t.headers,"order-by":"Date,asc|Name,asc","head-class":"bg-success text-light"},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("Action")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[s("router-link",{staticClass:"btn btn-sm btn-warning",attrs:{to:"/reports/edit/pharmacy/"+a.id}},[s("span",[s("i",{staticClass:"fa fa-edit"})])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(e){return t.selectReport(a.id)}}},[s("span",[s("i",{staticClass:"fa fa-times"})])])],1)]}}],null,!1,2190032596)})],1):t.$store.getters.fetchedReports?s("div",{staticClass:"text-center",staticStyle:{"min-height":"100px"}},[s("p",{staticClass:"lead font-weight-bold text-danger"},[t._v("\n        No pharmacy reports found\n      ")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/reports/add/pharmacy"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("add pharmacy report")])])],1):s("div",{staticClass:"p-2 my-2 d-flex justify-content-center align-items-center",staticStyle:{height:"300px"}},[s("div",{staticClass:"spinner-border"})])]),t._v(" "),s("modal-fade",{attrs:{id:"delete_modal_fade",show:t.showDeleteModal},on:{onClose:t.closeDeleteModal},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",{staticClass:"text-center"},[s("span",[s("i",{staticClass:"fa fa-exclamation-triangle text-danger"})]),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("Are you sure, you want to delete this report")])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"my-1 text-center"},[s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.closeDeleteModal}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("Cancel")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:t.deleteReport}},[s("span",[s("i",{staticClass:"fa fa-times-circle"})]),t._v(" "),s("span",[t._v("Delete")])])])]},proxy:!0}])})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-book-open"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("View Pharmacy Reports")])])}],!1,null,null,null).exports,xe=function t(e){this.date=new Date(e),this.day=this.date.getDate(),this.month=this.date.getMonth()+1,this.year=this.date.getFullYear();this.subtract=function(e){var s=this.day-e;return function(e,s,a){var r=new Date(e,s,a);return new t(r)}(this.year,this.month-1,s)},this.toString=function(){return"".concat(this.year,"-").concat(this.month.toString().padStart(2,0),"-").concat(this.day.toString().padStart(2,0))}},ke={mounted:function(){var t=this,e=this.$route.params.id;d.a.get("rep/v1/reports/pm/"+e).then((function(e){var s=e.data;s.message="visit loaded",t.handleResponse(s,(function(e){t.visit=e.data,t.visit.dual=!1,"double visit"===e.data.visit_type&&(t.visit.dual=!0)}))})),this.$store.dispatch("getCoaches")},computed:{coaches:function(){return this.$store.getters.coaches},reportInterval:function(){return this.$store.getters.reportInterval},canEditReportDate:function(){return this.$store.getters.canEditReportDate},minVisitDate:function(){return new xe(this.visit.date).subtract(this.reportInterval).toString()}},data:function(){return{visit:null}},methods:{saveReport:function(){var t=this,e=this.$route.params.id,s={};Object.assign(s,this.visit),s.products=JSON.stringify(s.products),s._method="PUT",d.a.post("rep/v1/reports/pm/"+e,s).then((function(e){var s=e.data;s.message="visit added",t.handleResponse(s,(function(e){t.$store.dispatch("reportGetAll",!0),t.$store.dispatch("customerGetAll",!0),t.$router.replace("/reports/view/pm")}))}))},handleVisitType:function(){"double visit"===this.visit.visit_type?this.visit.dual=!0:this.visit.dual=!1}},components:{VisitProducts:re},filters:{capital:function(t){return t?(t=t.toString()).toUpperCase():""}}},Pe=Object(o.a)(ke,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[s("p",{staticClass:"alert alert-success"},[t._m(0),t._v(" "),t.visit?s("span",{staticClass:"font-weight-bold"},[t._v("Edit visit "+t._s(t.visit.customer.name)+" on "+t._s(t.visit.date))]):s("span",{staticClass:"font-weight-bold"},[t._v("Edit vist")])]),t._v(" "),t.visit?s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.saveReport)}}},[s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"customer"}},[t._v("Customer")]),t._v(" "),s("ValidationProvider",{attrs:{name:"customer",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.customer.name,expression:"visit.customer.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"customer",id:"customer",readonly:""},domProps:{value:t.visit.customer.name},on:{input:function(e){e.target.composing||t.$set(t.visit.customer,"name",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"date"}},[t._v("Date:")]),t._v(" "),s("ValidationProvider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.date,expression:"visit.date"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"date",id:"date",disabled:!t.canEditReportDate,min:t.minVisitDate},domProps:{value:t.visit.date},on:{input:function(e){e.target.composing||t.$set(t.visit,"date",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg-6"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Visit type")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.visit_type,expression:"visit.visit_type"}],staticClass:"form-control form-control-sm",attrs:{name:"visit_type",id:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"visit_type",e.target.multiple?s:s[0])},t.handleVisitType]}},t._l(t.$store.state.AppModule.visitTypes,(function(e,a){return s("option",{key:"visit_type_"+a,domProps:{value:e}},[t._v(t._s(t._f("capital")(e)))])})),0)]),t._v(" "),t.visit.dual?s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"form-group"},[s("ValidationProvider",{attrs:{name:"dual_with",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Coach 1")]),t._v(" "),a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must select a coach")]):t._e(),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.dual_with,expression:"visit.dual_with"}],staticClass:"form-control form-control-sm",attrs:{name:"dual_with",id:"dual_with"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"dual_with",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select coach")]),t._v(" "),t._l(t.coaches,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-muted small",attrs:{for:""}},[t._v("Coach 2")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.visit.coach2_id,expression:"visit.coach2_id"}],staticClass:"form-control form-control-sm",attrs:{name:"coach2_id",id:"coach2_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.visit,"coach2_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v("Select coach")]),t._v(" "),t._l(t.coaches,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]):t._e()]),t._v(" "),s("div",{staticClass:"form-group border rounded p-2"},[s("visit-products",{attrs:{data:t.visit.products}})],1),t._v(" "),s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"comment"}},[t._v("Comment")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.comment,expression:"visit.comment"}],staticClass:"form-control form-control-sm",attrs:{name:"comment",id:"comment",rows:"5",placeholder:"write visit comment"},domProps:{value:t.visit.comment},on:{input:function(e){e.target.composing||t.$set(t.visit,"comment",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"general_feedback"}},[t._v("General Feedback")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.general_feedback,expression:"visit.general_feedback"}],staticClass:"form-control form-control-sm",attrs:{name:"general_feedback",id:"general_feedback",rows:"5",placeholder:"write visit general feedback"},domProps:{value:t.visit.general_feedback},on:{input:function(e){e.target.composing||t.$set(t.visit,"general_feedback",e.target.value)}}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("save")])])],1)])]}}],null,!1,2857626985)})],1):s("div",{staticClass:"p-2 d-flex justify-content-center align-items-center",staticStyle:{height:"400px"}},[s("div",{staticClass:"spinner-border"})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-edit"})])}],!1,null,null,null).exports,Se={mounted:function(){var t=this,e=this.$route.params.id;d.a.get("rep/v1/reports/am/"+e).then((function(e){var s=e.data;s.message="visit loaded",t.handleResponse(s,(function(e){t.visit=e.data}))}))},data:function(){return{visit:null}},computed:{reportInterval:function(){return this.$store.getters.reportInterval},canEditReportDate:function(){return this.$store.getters.canEditReportDate},minVisitDate:function(){return new xe(this.visit.date).subtract(this.reportInterval).toString()}},methods:{saveReport:function(){var t=this,e=this.$route.params.id,s={};Object.assign(s,this.visit),s.products=JSON.stringify(s.products),s._method="PUT",d.a.post("rep/v1/reports/am/"+e,s).then((function(e){var s=e.data;s.message="visit added successfully",t.handleResponse(s,(function(e){t.$store.dispatch("amGetAll",!0),t.$router.replace("/reports/view/am")}))}))}},components:{VisitProducts:re}},$e=Object(o.a)(Se,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[s("p",{staticClass:"alert alert-success"},[t._m(0),t._v(" "),t.visit?s("span",{staticClass:"font-weight-bold"},[t._v("Edit visit "+t._s(t.visit.customer.name)+" on "+t._s(t.visit.date))]):s("span",{staticClass:"font-weight-bold"},[t._v("Edit vist")])]),t._v(" "),t.visit?s("div",{staticClass:"p-2"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.saveReport)}}},[s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"customer"}},[t._v("Customer")]),t._v(" "),s("ValidationProvider",{attrs:{name:"customer",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.customer.name,expression:"visit.customer.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"customer",id:"customer",readonly:""},domProps:{value:t.visit.customer.name},on:{input:function(e){e.target.composing||t.$set(t.visit.customer,"name",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"date"}},[t._v("Date:")]),t._v(" "),s("ValidationProvider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("span",{staticClass:"text-danger"},[t._v(t._s(a[0]))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.date,expression:"visit.date"}],staticClass:"form-control form-control-sm",attrs:{type:"date",name:"date",id:"date",disabled:!t.canEditReportDate,min:t.minVisitDate},domProps:{value:t.visit.date},on:{input:function(e){e.target.composing||t.$set(t.visit,"date",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"form-group border rounded p-2"},[s("visit-products",{attrs:{data:t.visit.products}})],1),t._v(" "),s("div",{staticClass:"row mx-auto my-2 border rounded p-2"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"comment"}},[t._v("Comment")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.comment,expression:"visit.comment"}],staticClass:"form-control form-control-sm",attrs:{name:"comment",id:"comment",rows:"5",placeholder:"write visit comment"},domProps:{value:t.visit.comment},on:{input:function(e){e.target.composing||t.$set(t.visit,"comment",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"general_feedback"}},[t._v("General Feedback")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.general_feedback,expression:"visit.general_feedback"}],staticClass:"form-control form-control-sm",attrs:{name:"general_feedback",id:"general_feedback",rows:"5",placeholder:"write visit general feedback"},domProps:{value:t.visit.general_feedback},on:{input:function(e){e.target.composing||t.$set(t.visit,"general_feedback",e.target.value)}}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("save")])])],1)])]}}],null,!1,1040571173)})],1):s("div",{staticClass:"p-2 d-flex justify-content-center align-items-center",staticStyle:{height:"400px"}},[s("div",{staticClass:"spinner-border"})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-edit"})])}],!1,null,null,null).exports,Ee={mounted:function(){this.getPharmacy()},computed:{reportInterval:function(){return this.$store.getters.reportInterval},canEditReportDate:function(){return this.$store.getters.canEditReportDate},minVisitDate:function(){return new xe(this.visit.date).subtract(this.reportInterval).toString()}},methods:{getPharmacyId:function(){return this.$route.params.id},getPharmacy:function(){var t=this,e=this.getPharmacyId();d.a.get("rep/v1/reports/pharmacy/"+e).then((function(e){var s=e.data;s.message="Pharmacy report loaded",t.handleResponse(s,(function(e){t.visit=e.data}))}))},updateReport:function(){var t=this,e=this.getPharmacyId();if(this.visit.products.length){var s={_method:"PUT"};Object.assign(s,this.visit),s.products=JSON.stringify(s.products),d.a.post("rep/v1/reports/pharmacy/"+e,s).then((function(e){var s=e.data;s.message=s.data,t.handleResponse(s,(function(e){t.$router.replace("/reports/view/pharmacy"),t.$store.dispatch("pharmacyReportGetAll",!0)}))}))}else this.$toasted.error("you must add one product at least",{icon:"exclamation"})}},data:function(){return{visit:null}},components:{VisitProducts:re}},Oe=Object(o.a)(Ee,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"px-0 shadow"},[s("p",{staticClass:"alert alert-success"},[t._m(0),t._v(" "),s("span",{staticClass:"font-weight-bold"},[t._v("Edit Pharmacy Report "+t._s(t.visit?t.visit.pharmacy.name:null))])]),t._v(" "),s("div",{staticClass:"p-2 my-2"},[t.visit?s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.updateReport)}}},[s("div",{staticClass:"row mx-auto border p-2 rounded"},[s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"date"}},[t._v("Date")]),t._v(" "),s("ValidationProvider",{attrs:{name:"date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must pick a date")]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.date,expression:"visit.date"}],class:"form-control form-control-sm "+(a[0]?"border-danger":""),attrs:{type:"date",name:"date",id:"date",disabled:!t.canEditReportDate,min:t.minVisitDate},domProps:{value:t.visit.date},on:{input:function(e){e.target.composing||t.$set(t.visit,"date",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg"},[s("label",{staticClass:"text-muted",attrs:{for:"pharmacy_id"}},[t._v("Pharmacy")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.visit.pharmacy.name,expression:"visit.pharmacy.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",name:"pharmacy_id",id:"pharmacy_id",readonly:""},domProps:{value:t.visit.pharmacy.name},on:{input:function(e){e.target.composing||t.$set(t.visit.pharmacy,"name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row mx-auto p-2 my-2 border rounded"},[s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n                Name:\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.visit.pharmacy.name))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Key person:\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.visit.pharmacy.key_person))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Name:\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.visit.pharmacy.type))])])]),t._v(" "),s("div",{staticClass:"col-lg"},[s("p",{staticClass:"mb-0 small"},[t._v("\n                Address:\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.visit.pharmacy.address))])]),t._v(" "),s("p",{staticClass:"mb-0 small"},[t._v("\n                Name:\n                "),s("span",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(t.visit.pharmacy.brick))])])])]),t._v(" "),s("div",{staticClass:"p-2 my-2 border rounded"},[s("visit-products",{attrs:{data:t.visit.products,pharmacyProducts:!0}})],1),t._v(" "),s("div",{staticClass:"p-2 my-2 border rounded"},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"text-muted",attrs:{for:"general_feedback"}},[t._v("Feedback")]),t._v(" "),s("ValidationProvider",{attrs:{name:"general_feedback",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v("you must write a short notes feedback")]):t._e(),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.visit.general_feedback,expression:"visit.general_feedback"}],class:"form-control form-control-sm "+(a[0]?"border-danger":""),attrs:{name:"general_feedback",id:"general_feedback",rows:"3"},domProps:{value:t.visit.general_feedback},on:{input:function(e){e.target.composing||t.$set(t.visit,"general_feedback",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right p-2"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success"},[s("span",[s("i",{staticClass:"fa fa-save"})]),t._v(" "),s("span",[t._v("save")])])],1)])]}}],null,!1,756828901)}):s("div",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{height:"300px"}},[s("div",{staticClass:"spinner-border"})])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-edit"})])}],!1,null,null,null).exports,Ae={created:function(){this.$store.dispatch("reportGetAll"),this.$store.dispatch("getPlanner")},data:function(){return{}},component:{},computed:{reportData:function(){var t=this.$store.getters.pmVisits,e=this.$store.getters.plans,s={};return s.total_plans=e.length,s.total_reports=t.length,s.plan_params=Object(S.f)(e,"param"),s.plan_specialty=Object(S.f)(e,"specialty"),s.report_params=Object(S.f)(t,"customer.params.0.current"),s.report_specialty=Object(S.f)(t,"customer.specialty"),s.plan_days=Object.keys(Object(S.f)(e,"start")).length,s.report_days=Object.keys(Object(S.f)(t,"date")).length,s.plan_customers=Object.keys(Object(S.f)(e,"title")).length,s.report_customers=Object.keys(Object(S.f)(t,"customer_name")).length,s}},methods:{exportTable:function(){Object(S.a)("#analysis-table","pm-report-analysis")}}},Te=(s(87),Object(o.a)(Ae,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow pb-5"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"p-2"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success",on:{click:t.exportTable}},[t._m(1),t._v(" "),s("span",[t._v("Export")])])],1),t._v(" "),Object.keys(t.reportData).length?s("table",{staticClass:"table table-sm small table-bordered text-center table-responsive",attrs:{id:"analysis-table"}},[s("thead",[s("tr",[s("th",{attrs:{rowspan:"2"}},[t._v("Item")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Total Plans")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Total Visits")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("%")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Plan days")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Report days")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("%")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Avg. visits/day")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Plans Customers")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Visits Customers")]),t._v(" "),s("th",{staticClass:"bg-primary text-light",attrs:{colspan:Object.keys(t.reportData.plan_specialty).length}},[t._v("\n            Plan Specaialty\n          ")]),t._v(" "),s("th",{staticClass:"bg-info text-light",attrs:{colspan:Object.keys(t.reportData.report_specialty).length}},[t._v("\n            Report Specaialty\n          ")]),t._v(" "),s("th",{staticClass:"bg-primary text-light",attrs:{colspan:Object.keys(t.reportData.plan_params).length}},[t._v("\n            Plan Parameters\n          ")]),t._v(" "),s("th",{staticClass:"bg-info text-light",attrs:{colspan:Object.keys(t.reportData.report_params).length}},[t._v("\n            Report Parameters\n          ")])]),t._v(" "),s("tr",[t._l(t.reportData.plan_specialty,(function(e,a){return s("th",{key:a+"_plan"},[t._v("\n            "+t._s(a)+"\n          ")])})),t._v(" "),t._l(t.reportData.report_specialty,(function(e,a){return s("th",{key:a+"_report"},[t._v("\n            "+t._s(a)+"\n          ")])})),t._v(" "),t._l(t.reportData.plan_params,(function(e,a){return s("th",{key:a+"_plan"},[t._v("\n            "+t._s(a)+"\n          ")])})),t._v(" "),t._l(t.reportData.report_params,(function(e,a){return s("th",{key:a+"_report"},[t._v("\n            "+t._s("null"!==a?a:"NN")+"\n          ")])}))],2)]),t._v(" "),s("tbody",[s("tr",{staticClass:"font-weight-bold"},[s("td",[t._v("Value")]),t._v(" "),s("td",[t._v(t._s(t.reportData.total_plans))]),t._v(" "),s("td",[t._v(t._s(t.reportData.total_reports))]),t._v(" "),s("td",[t._v("\n            "+t._s((t.reportData.total_reports/t.reportData.total_plans*100).toFixed(0))+"\n            %\n          ")]),t._v(" "),s("td",[t._v(t._s(t.reportData.plan_days))]),t._v(" "),s("td",[t._v(t._s(t.reportData.report_days))]),t._v(" "),s("td",[t._v("\n            "+t._s((t.reportData.report_days/t.reportData.plan_days*100).toFixed(0))+"\n            %\n          ")]),t._v(" "),s("td",[t._v("\n            "+t._s(t.reportData.total_reports/t.reportData.report_days)+"\n          ")]),t._v(" "),s("td",[t._v(t._s(t.reportData.plan_customers))]),t._v(" "),s("td",[t._v(t._s(t.reportData.report_customers))]),t._v(" "),t._l(t.reportData.plan_specialty,(function(e,a){return s("td",{key:a+"_plan"},[t._v("\n            "+t._s(e.length)+"\n          ")])})),t._v(" "),t._l(t.reportData.report_specialty,(function(e,a){return s("td",{key:a+"_report"},[t._v("\n            "+t._s(e.length)+"\n          ")])})),t._v(" "),t._l(t.reportData.plan_params,(function(e,a){return s("td",{key:a+"_plan"},[t._v("\n            "+t._s(e.length)+"\n          ")])})),t._v(" "),t._l(t.reportData.report_params,(function(e,a){return s("td",{key:a+"_report"},[t._v("\n            "+t._s(e.length)+"\n          ")])}))],2)])]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",{staticClass:"fa fa-chart-line"}),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("PM report analysis")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fa fa-file-excel"})])}],!1,null,"140c9ab0",null).exports),Re={created:function(){var t=this;d.a.get("rep/v1/customers").then((function(e){var s=e.data;return t.customers=s.data})).then((function(){d.a.get("rep/v1/planner").then((function(e){var s=e.data;return t.plans=s.data})).finally((function(){t.processPlanData()}))}))},data:function(){return{analysisReport:{},customers:[],plans:[],isProcessing:!0}},methods:{processPlanData:function(){this.isProcessing=!0;var t=this.customers,e=0,s=0,a={},r={},n={},i={};t.map((function(t){e+=t.current_freq,s+=t.plans,r[t.parameter]||(r[t.parameter]=0),a[t.parameter]||(a[t.parameter]=0),n[t.specialty]||(n[t.specialty]=0),i[t.specialty]||(i[t.specialty]=0),a[t.parameter]+=t.current_freq,n[t.specialty]+=t.current_freq,r[t.parameter]+=t.plans,i[t.specialty]+=t.plans})),this.analysisReport.freq_customers=Object(S.f)(t,"name",(function(t){return t.current_freq>0})),this.analysisReport.plan_customers=Object(S.f)(t,"name",(function(t){return t.plans>0})),this.analysisReport.plan_params=r,this.analysisReport.plan_specialty=i,this.analysisReport.freq_params=a,this.analysisReport.freq_specialty=n,this.analysisReport.total_freq=e,this.analysisReport.total_plans=s,this.analysisReport.total_planned_days=Object(S.f)(this.plans,"start"),this.isProcessing=!1},exportToExcel:function(){Object(S.a)("#analysis-table","Plan Analysis")}}},Ne=(s(89),Object(o.a)(Re,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"p-2"},[s("router-link",{staticClass:"btn btn-dark btn-sm",attrs:{to:"/reports"}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-success",on:{click:t.exportToExcel}},[s("span",{staticClass:"fa fa-file-excel"}),t._v(" "),s("span",[t._v("Export")])])],1),t._v(" "),s("div",[t.isProcessing?s("div",{staticClass:"text-center p-3 text-success"},[s("div",{staticClass:"spinner-border"}),t._v(" "),s("p",[t._v("Proccessing data")])]):s("table",{staticClass:"table table-sm small table-bordered table-responsive",attrs:{id:"analysis-table"}},[s("thead",[s("tr",[s("th",{attrs:{rowspan:"2"}},[t._v("Item")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Total Planned days")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Total Frequency Sum")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Total Planned Visits")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("%")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Avg/day")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Total Frequency Customers")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("Total Planned Customers")]),t._v(" "),s("th",{attrs:{rowspan:"2"}},[t._v("%")]),t._v(" "),t.analysisReport.freq_params?s("th",{staticClass:"text-center bg-primary text-light",attrs:{colspan:Object.keys(t.analysisReport.freq_params).length}},[t._v("\n              Frequency Per Parameters\n            ")]):t._e(),t._v(" "),t.analysisReport.plan_params?s("th",{staticClass:"text-center bg-info text-light",attrs:{colspan:Object.keys(t.analysisReport.plan_params).length}},[t._v("\n              Plan Per Parameters\n            ")]):t._e(),t._v(" "),t.analysisReport.freq_specialty?s("th",{staticClass:"text-center bg-primary text-light",attrs:{colspan:Object.keys(t.analysisReport.freq_specialty).length}},[t._v("\n              Frequency Specialty\n            ")]):t._e(),t._v(" "),t.analysisReport.plan_specialty?s("th",{staticClass:"text-center bg-info text-light",attrs:{colspan:Object.keys(t.analysisReport.plan_specialty).length}},[t._v("\n              Plan Specialty\n            ")]):t._e()]),t._v(" "),s("tr",[t._l(t.analysisReport.freq_params,(function(e,a){return s("td",{key:"freq_"+a},[t._v("\n              "+t._s(a)+"\n            ")])})),t._v(" "),t._l(t.analysisReport.plan_params,(function(e,a){return s("td",{key:"plan_"+a},[t._v("\n              "+t._s(a)+"\n            ")])})),t._v(" "),t._l(t.analysisReport.freq_specialty,(function(e,a){return s("td",{key:"freq_"+a},[t._v("\n              "+t._s(a)+"\n            ")])})),t._v(" "),t._l(t.analysisReport.plan_specialty,(function(e,a){return s("td",{key:"plan_"+a},[t._v("\n              "+t._s(a)+"\n            ")])}))],2)]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Value")]),t._v(" "),s("td",[t._v(t._s(Object.keys(t.analysisReport.total_planned_days).length))]),t._v(" "),s("td",[t._v(t._s(t.analysisReport.total_freq))]),t._v(" "),s("td",[t._v(t._s(t.analysisReport.total_plans))]),t._v(" "),s("td",[t._v("\n              "+t._s(100*(t.analysisReport.total_plans/t.analysisReport.total_freq).toFixed(2))+"%\n            ")]),t._v(" "),s("td",[t._v("\n              "+t._s(t.analysisReport.total_plans/Object.keys(t.analysisReport.total_planned_days).length)+"\n            ")]),t._v(" "),t.analysisReport.freq_customers?s("td",[t._v("\n              "+t._s(Object.keys(t.analysisReport.freq_customers).length)+"\n            ")]):t._e(),t._v(" "),t.analysisReport.plan_customers?s("td",[t._v("\n              "+t._s(Object.keys(t.analysisReport.plan_customers).length)+"\n            ")]):t._e(),t._v(" "),t.analysisReport.freq_customers&&t.analysisReport.plan_customers?s("td",[t._v("\n              "+t._s((Object.keys(t.analysisReport.plan_customers).length/Object.keys(t.analysisReport.freq_customers).length*100).toFixed(2))+"%\n            ")]):t._e(),t._v(" "),t._l(t.analysisReport.freq_params,(function(e,a){return s("td",{key:"freq_row_"+a},[t._v("\n              "+t._s(e)+"\n            ")])})),t._v(" "),t._l(t.analysisReport.plan_params,(function(e,a){return s("td",{key:"plan_row_"+a},[t._v("\n              "+t._s(e)+"\n            ")])})),t._v(" "),t._l(t.analysisReport.freq_specialty,(function(e,a){return s("td",{key:"freq_"+a},[t._v("\n              "+t._s(e)+"\n            ")])})),t._v(" "),t._l(t.analysisReport.plan_specialty,(function(e,a){return s("td",{key:"plan_"+a},[t._v("\n              "+t._s(e)+"\n            ")])}))],2)])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",{staticClass:"fa fa-chart-pie"}),this._v(" "),e("span",[this._v("Plan Report Analysis")])])}],!1,null,"64542644",null).exports),Fe={created:function(){var t=this;this.$store.dispatch("getWorkplacePlanner").then((function(){t.$store.dispatch("getPlanner")}))},components:{SideBar:C.a},data:function(){return{links:[{title:"PM plans",link:"/reports/view/plans/",icon:"fa-user-md"},{title:"AM plans",link:"/reports/view/plans/am",icon:"fa-hospital-alt"},{title:"Back",link:"/reports",icon:"fa-chevron-left"}]}},computed:{}},je=Object(o.a)(Fe,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"px-0 pb-3 shadow"},[this._m(0),this._v(" "),e("div",{staticClass:"p-2"},[e("div",{staticClass:"row mx-auto"},[e("div",{staticClass:"col-lg-3"},[e("side-bar",{attrs:{links:this.links}})],1),this._v(" "),e("div",{staticClass:"col-lg-9"},[e("router-view",{staticClass:"page-fade"})],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-book-open"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("View plans report")])])}],!1,null,null,null).exports,De={components:{TableComponent:k.a},data:function(){return{heads:[{title:"Date",name:"start"},{title:"Name",name:"title"},{title:"Specialty",name:"specialty"},{title:"Parameter",name:"param"},{title:"Frequency",name:"freq"},{title:"Planned",name:"plans_count"}]}},computed:{isFetched:function(){return this.$store.getters.isPlansFetched},plans:function(){return this.$store.getters.plans}},methods:{unplannedStatus:function(t){var e=t.freq,s=t.plans_count,a={};return e-s>0?a={style:"bg-danger text-light",title:"Missed"}:0===e&&e-s==0?a={style:"bg-dark text-light",title:"not targeted"}:0!==e&&e-s==0?a={style:"bg-success text-light",title:"accomplished"}:e-s<0&&(a={style:"bg-primary text-light",title:"over"}),a}}},qe=Object(o.a)(De,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[t.plans.length?s("div",[s("table-component",{attrs:{data:t.plans,heads:t.heads,notResponsive:!0,headClass:"bg-success text-light",orderBy:"Date,asc"},scopedSlots:t._u([{key:"head",fn:function(){return[s("th",[t._v("Unplanned")]),t._v(" "),s("th",[t._v("Status")]),t._v(" "),s("th",[t._v("Type")])]},proxy:!0},{key:"body",fn:function(e){var a=e.item;return[s("td",[t._v(t._s(a.freq-a.plans_count))]),t._v(" "),s("td",{class:t.unplannedStatus(a).style},[t._v(t._s(t.unplannedStatus(a).title))]),t._v(" "),s("td",[t._v(t._s(a.type))])]}}],null,!1,3825213087)})],1):t.isFetched?s("div",{staticClass:"text-center"},[s("p",{staticClass:"text-muted"},[t._v("No plans found")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/planner/add-pm"}},[s("span",[s("i",{staticClass:"fa fa-plus-circle"})]),t._v(" "),s("span",[t._v("plan")])])],1):s("loader-component")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-user-md"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("PM Plans")])])}],!1,null,null,null).exports,Me={components:{TableComponent:k.a},data:function(){return{heads:[{title:"Date",name:"start"},{title:"Name",name:"name"},{title:"Workplace Type",name:"workplace.type"},{title:"Address",name:"workplace.address"}]}},computed:{plans:function(){return this.$store.getters.amPlans},fetched:function(){return this.$store.getters.isPlansFetched}}},Ie=Object(o.a)(Me,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 pb-3 shadow"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[t.plans.length?s("div",{staticClass:"p-2"},[s("table-component",{attrs:{heads:t.heads,data:t.plans,notResponsive:!0,headClass:"bg-success text-light",orderBy:"Date,asc"}})],1):t.fetched?s("div",{staticClass:"text-center"},[s("p",{staticClass:"text-muted"},[t._v("No plans found")]),t._v(" "),s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/planner/add-am"}},[s("span",[s("i",{staticClass:"fa fa-paper-plane"})]),t._v(" "),s("span",[t._v("New AM visit")])])],1):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-hospital"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("AM Plans")])])}],!1,null,null,null).exports,Le={mounted:function(){this.getAllCoachingReports()},components:{TableComponent:k.a,NoDataToShow:O.a},data:function(){return{reports:[],fetched:!1,heads:[{title:"Date",name:"date"},{title:"Customer",name:"customer"},{title:"Coach",name:"coach"},{title:"Specialty",name:"specialty"},{title:"Address",name:"address"},{title:"Brick",name:"brick"}]}},methods:{getAllCoachingReports:function(){var t=this;this.reports=[],this.fetched=!1,d.a.get("rep/v1/reports/coaching").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.reports=e.data,t.fetched=!0}))}))}}},Ve=Object(o.a)(Le,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow rounded"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2"},[t.reports.length?s("div",[s("table-component",{attrs:{data:t.reports,heads:t.heads,"not-responsive":!0,"head-class":"bg-success text-light"},scopedSlots:t._u([{key:"head:before",fn:function(){return[s("th",[t._v("Action")])]},proxy:!0},{key:"body:before",fn:function(e){var a=e.item;return[s("td",[s("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:"/reports/view/coaching-report/"+a.id}},[s("span",[t._v("view")])])],1)]}}],null,!1,1565430074)})],1):t.fetched?s("div",[s("no-data-to-show")],1):s("loader-component")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",[e("i",{staticClass:"fa fa-book-reader"})]),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("View coaching reports")])])}],!1,null,null,null).exports,Ue={mounted:function(){this.getVisit()},components:{},data:function(){return{visit:null,fetched:!1}},methods:{getVisit:function(){var t=this,e=this.$route.params.id;this.fetched=!1,this.visit=null,d.a.get("rep/v1/reports/coaching/"+e).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.visit=e.data,t.fetched=!0}))})).catch((function(e){t.$toasted.error("Something went wrong",{icon:"sad"}),console.log(e)}))}}},Be=Object(o.a)(Ue,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow rounded"},[s("p",{staticClass:"alert alert-success"},[s("span",{staticClass:"fa fa-book-reader"}),t._v(" "),s("span",[t._v("View visit "+t._s(t.visit?t.visit.customer.name:"")+" coach evaluation")])]),t._v(" "),s("div",{staticClass:"p-2"},[s("div",{staticClass:"text-right p-2 my-1"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports/view/coaching-report"}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("back")])])],1),t._v(" "),t.visit?s("div",[s("div",{staticClass:"p-2 row mx-auto border rounded"},[s("div",{staticClass:"col-lg small"},[s("p",{staticClass:"mb-0"},[s("span",[t._v("Name: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.visit.customer.name))])]),t._v(" "),s("p",{staticClass:"mb-0"},[s("span",[t._v("Title: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.visit.customer.title))])]),t._v(" "),s("p",{staticClass:"mb-0"},[s("span",[t._v("Specialty: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.visit.customer.specialty))])])]),t._v(" "),s("div",{staticClass:"col-lg small"},[s("p",{staticClass:"mb-0"},[s("span",[t._v("Phone: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.visit.customer.phone))])]),t._v(" "),s("p",{staticClass:"mb-0"},[s("span",[t._v("Address: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.visit.customer.address))])]),t._v(" "),s("p",{staticClass:"mb-0"},[s("span",[t._v("Brick: ")]),s("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.visit.customer.brick))])])])]),t._v(" "),s("div",{staticClass:"p-2"},[s("table",{staticClass:"table table-sm small table-bordered"},[t._m(0),t._v(" "),t._l(JSON.parse(t.visit.data),(function(e,a){return s("tbody",{key:"key_"+a},[s("tr",[s("td",{staticClass:"bg-dark text-light",attrs:{colspan:"2"}},[t._v(t._s(a))])]),t._v(" "),t._l(e,(function(e,r){return s("tr",{key:"key_"+a+"_item_"+r},[s("td",[t._v(t._s(r))]),t._v(" "),s("td",[t._v(t._s(e))])])}))],2)}))],2)])]):s("loader-component")],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticClass:"bg-success text-light"},[e("th",{staticClass:"col-8"},[this._v("Item")]),this._v(" "),e("th",{staticClass:"col-4"},[this._v("Mark")])])])}],!1,null,null,null).exports,We={components:{ActivityReport:s(35).a}},Ye=Object(o.a)(We,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("activity-report",{attrs:{users:[]}})],1)}),[],!1,null,null,null).exports,Ge={components:{RequestsReport:s(36).a}},He=Object(o.a)(Ge,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("requests-report",{attrs:{users:[],manager:!1,ownerId:this.$store.state.AppModule.user.id}})],1)}),[],!1,null,null,null).exports,Xe=s(58),ze={components:{CustomerSelectFilter:Pt},mounted:function(){var t=this;this.getRequestTypes().then((function(){t.$store.dispatch("customerGetAll")}))},data:function(){return{requestTypes:[],request:{customer_id:null,type:null,comment:"",quantity:1,price:0,query_date:(new Date).format(),apply_date:(new Date).format()},today:(new Date).format()}},computed:{customers:function(){return this.$store.getters.customerFilter}},methods:{submitRequest:function(){var t=this;d.a.post("customer-requests",this.request).then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.$router.push("/reports")}))})).catch((function(t){return console.log(t)}))},getRequestTypes:function(){var t=this;return d.a.get("request-types").then((function(e){var s=e.data;t.handleResponse(s,(function(e){t.requestTypes=e.data}))})).catch((function(t){return console.log(t)}))}}},Je=Object(o.a)(ze,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-0 shadow rounded pb-5"},[t._m(0),t._v(" "),s("div",{staticClass:"p-2 pb-5"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("form",{on:{submit:function(e){return e.preventDefault(),a(t.submitRequest)}}},[s("div",{staticClass:"row mx-auto p-2"},[s("div",{staticClass:"col-lg border rounded mx-1 p-2"},[s("label",{staticClass:"text-muted"},[t._v("Customer")]),t._v(" "),s("ValidationProvider",{attrs:{name:"customer",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]):t._e(),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.request.customer_id,expression:"request.customer_id"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"customer",id:"customer"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.request,"customer_id",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:null}},[t._v("select")]),t._v(" "),t._l(t.customers,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]}}],null,!0)}),t._v(" "),s("customer-select-filter",{staticClass:"my-2",attrs:{data:t.$store.getters.active}})],1),t._v(" "),s("div",{staticClass:"col-lg border rounded mx-1 p-2"},[s("label",{staticClass:"text-muted"},[t._v("Request type")]),t._v(" "),s("ValidationProvider",{attrs:{name:"type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]):t._e(),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.request.type,expression:"request.type"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{name:"type",id:"type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.request,"type",e.target.multiple?s:s[0])}}},[s("option",{domProps:{value:null}},[t._v("Select type")]),t._v(" "),t._l(t.requestTypes,(function(e,a){return s("option",{key:"request_"+a,domProps:{value:e}},[t._v(t._s(e))])}))],2)]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto p-2 my-1"},[s("div",{staticClass:"col-lg border rounded mx-1 p-2"},[s("label",{staticClass:"text-muted"},[t._v("Price")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.request.price,expression:"request.price"}],staticClass:"form-control form-control-sm",attrs:{type:"number",min:0,placeholder:"Request price"},domProps:{value:t.request.price},on:{input:function(e){e.target.composing||t.$set(t.request,"price",e.target.value)}}}),t._v(" "),s("small",{staticClass:"text-muted my-1"},[t._v("* This field is optional")])]),t._v(" "),s("div",{staticClass:"col-lg border rounded mx-1 p-2"},[s("label",{staticClass:"text-muted"},[t._v("Quantity")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.request.quantity,expression:"request.quantity"}],staticClass:"form-control form-control-sm",attrs:{type:"number",min:1,placeholder:"Request quantity"},domProps:{value:t.request.quantity},on:{input:function(e){e.target.composing||t.$set(t.request,"quantity",e.target.value)}}}),t._v(" "),s("small",{staticClass:"text-muted my-1"},[t._v("* This field is optional")])])]),t._v(" "),s("div",{staticClass:"row mx-auto p-2 my-1"},[s("div",{staticClass:"col-lg border rounded mx-1 p-2"},[s("label",{staticClass:"text-muted"},[t._v("Query Date")]),t._v(" "),s("ValidationProvider",{attrs:{name:"query_date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.request.query_date,expression:"request.query_date"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",name:"query_date",min:t.today,disabled:!0},domProps:{value:t.request.query_date},on:{input:function(e){e.target.composing||t.$set(t.request,"query_date",e.target.value)}}})]}}],null,!0)})],1),t._v(" "),s("div",{staticClass:"col-lg border rounded mx-1 p-2"},[s("label",{staticClass:"text-muted"},[t._v("Apply Date")]),t._v(" "),s("ValidationProvider",{attrs:{name:"apply_date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[a[0]?s("span",{staticClass:"text-danger small"},[t._v(t._s(a[0]))]):t._e(),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.request.apply_date,expression:"request.apply_date"}],class:"form-control form-control-sm "+(a[0]?"border border-danger":""),attrs:{type:"date",min:t.today},domProps:{value:t.request.apply_date},on:{input:function(e){e.target.composing||t.$set(t.request,"apply_date",e.target.value)}}})]}}],null,!0)})],1)]),t._v(" "),s("div",{staticClass:"row mx-auto p-2 my-1"},[s("div",{staticClass:"col-lg  mx-1 p-2"},[s("p",{staticClass:"text-muted mb-1"},[t._v("Comment")]),t._v(" "),s("p",{staticClass:"mb-0 small text-muted"},[t._v("* This field is optional")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("Write small notes about customer request")])]),t._v(" "),s("div",{staticClass:"col-lg border rounded mx-1 p-2"},[s("textarea",{staticClass:"form-control form-control-sm",attrs:{name:"comment",id:"comment",rows:"5",placeholder:"write comment about request"}})])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"form-group text-right"},[s("router-link",{staticClass:"btn btn-sm btn-dark",attrs:{to:"/reports"}},[s("span",{staticClass:"fa fa-chevron-circle-left"}),t._v(" "),s("span",[t._v("back")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"reset"}},[s("span",{staticClass:"fa fa-redo"}),t._v(" "),s("span",[t._v("reset")])]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit"}},[s("span",{staticClass:"fa fa-save"}),t._v(" "),s("span",[t._v("save")])])],1)])]}}])})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"alert alert-success"},[e("span",{staticClass:"fa fa-plus-circle"}),this._v(" "),e("span",{staticClass:"font-weight-bold"},[this._v("Create new Request")])])}],!1,null,null,null).exports,Ke={path:"/reports",component:te,children:[{path:"",component:se},{path:"view/am",component:ve},{path:"view/pm",component:ye},{path:"view/pharmacy",component:we},{path:"view/plans",component:je,children:[{path:"",component:qe},{path:"am",component:Ie}]},{path:"view/coaching-report",component:Ve},{path:"view/coaching-report/:id",component:Be},{path:"add/am/:id?",component:ie},{path:"add/pm/:id?",component:le},{path:"add/activity-report",component:Xe.a},{path:"add/pharmacy/:id?",component:ue},{path:"add/request",component:Je},{path:"edit/pm/:id",component:Pe},{path:"edit/am/:id",component:$e},{path:"edit/pharmacy/:id",component:Oe},{path:"analysis/pm",component:Te},{path:"analysis/plan",component:Ne},{path:"requests",component:He},{path:"activity-report",component:Ye}]},Qe=s(32);r.a.use(v.default);var Ze=new v.default({mode:"history",base:document.getElementById("APP_BASE_URI").value+"rep",routes:[{path:"/",component:g},Q,Qt,It,Ke,{path:"*",component:Qe.a}]}),ts=s(12),es={state:{all:[],activeCustomers:[],inactiveCustomers:[],allCustomers:[],fetched:!1,customerFilter:[]},mutations:{updateCustomerInStore:function(t,e){var s=e.id,a=e.payload,r=t.all.filter((function(t){return t.id===parseInt(s)}))[0];for(var n in a)r[n]=a[n]},setCustomerFilter:function(t,e){t.customerFilter=e},filterCustomers:function(t,e){t[e.name]=[],new Promise((function(t,s){t(e.data)})).then((function(s){return t[e.name]=s}))}},getters:{active:function(t){return t.activeCustomers},inactive:function(t){return t.inactiveCustomers},all:function(t){return t.all},allCustomers:function(t){return t.allCustomers},fetched:function(t){return t.fetched},customerFilter:function(t){return t.customerFilter}},actions:{customerGetAll:function(t,e){var s=t.state;s.all.length&&!e||(s.all=[],s.allCustomers=[],s.fetched=!1,s.customerFilter=[],s.activeCustomers=[],s.inactiveCustomers=[],d.a.get("rep/v1/customers").then((function(t){var e=t.data;e.message="Customer list loaded",ts.a.methods.handleResponse(e,(function(t){s.all=t.data,s.allCustomers=t.data,s.fetched=!0,s.customerFilter=t.data.filter((function(t){return!["NN","XX"].includes(t.parameter)})),s.activeCustomers=t.data.filter((function(t){return!["NN","XX"].includes(t.parameter)})),s.inactiveCustomers=t.data.filter((function(t){return["NN","XX"].includes(t.parameter)}))}))})))},addNewCustomer:function(t,e){var s=t.dispatch;d.a.post("rep/v1/customers",e).then((function(t){var e=t.data;e.message="customer added successfully",ts.a.methods.handleResponse(e,(function(t){s("customerGetAll",!0),Ze.replace("/customers")}))}))}}},ss={state:{all:[],fetched:!1,isPharmacyFetched:!1,pharmacies:[]},mutations:{},getters:{allWorkplaces:function(t){return t.all},pharmacies:function(t){return t.pharmacies},isWorkplacesFetched:function(t){return t.fetched},isPharmacyFetched:function(t){return t.isPharmacyFetched}},actions:{workplaceGetAll:function(t,e){var s=t.state;if(!s.all.length||e)return s.fetched=!1,d.a.get("rep/v1/workplaces").then((function(t){var e=t.data;201===e.code&&(s.fetched=!0,s.all=e.data,r.a.toasted.show("Hospitals list loaded",{type:"success",icon:"check"}))}))},pharmacyGetAll:function(t,e){var s=t.state;if(!s.pharmacies.length||e)return s.isPharmacyFetched=!1,d.a.get("rep/v1/pharmacies").then((function(t){var e=t.data;201===e.code&&(s.pharmacies=e.data,s.isPharmacyFetched=!0,r.a.toasted.show("Pharmacies list loaded",{type:"success",icon:"check"}))}))}}};function as(t){return function(t){if(Array.isArray(t))return rs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return rs(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return rs(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var ns={state:{plans:[],fetched:!1,workplacePlans:[],isWorkplacePlansFetched:!1,nonFieldActivityPlans:[],isSubmitted:!1},getters:{plans:function(t){return t.plans},isPlansFetched:function(t){return t.fetched},amPlans:function(t){return t.workplacePlans},allPlans:function(t){return[].concat(as(t.nonFieldActivityPlans),as(t.workplacePlans),as(t.plans))},isAmPlansFetched:function(t){return t.isWorkplacePlansFetched},nonFieldActivityPlans:function(t){return t.nonFieldActivityPlans},isSubmittedPlans:function(t){return t.isSubmitted}},mutations:{collectPlansStatus:function(t,e){var s=e.status;!0!==t.isSubmitted&&(t.isSubmitted=s)}},actions:{getPlanner:function(t,e){var s=t.state,a=t.commit;if(!s.plans.length||e){var r={},n=this.state.AppModule.activeCycle;return n&&(r=n),d.a.get("rep/v1/planner",r).then((function(t){var e=t.data;s.fetched=!0,e.message="Planner loaded",ts.a.methods.handleResponse(e,(function(t){s.plans=t.data,a("collectPlansStatus",{status:t.submitted})}))}))}},getWorkplacePlanner:function(t,e){var s=this,a=t.state,n=t.commit;if(!a.workplacePlans.length||e){this.isWorkplacePlansFetched=!1;var i={},o=this.state.AppModule.activeCycle;return o&&(i=o),d.a.get("rep/v1/workplace-planner",i).then((function(t){var e=t.data;s.isWorkplacePlansFetched=!0,201===e.code&&(r.a.toasted.show("Workplace planner loaded successfully",{type:"success",icon:"check"}),a.workplacePlans=e.data,n("collectPlansStatus",{status:e.submitted}))}))}},getNonFieldActivityPlans:function(t,e){var s=t.state;if(!s.nonFieldActivityPlans.length||e){var a={},r=this.state.AppModule.activeCycle;return r&&(a=r),s.nonFieldActivityPlans=[],d.a.get("activity-planner",a).then((function(t){var e=t.data;s.nonFieldActivityPlans=e.data})).catch((function(t){return console.log(t)}))}}}};function is(t){return function(t){if(Array.isArray(t))return os(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return os(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return os(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var ls={state:{pm_visits:[],am_visits:[],pharmacy_visits:[],fetched:!1},getters:{pmVisits:function(t){return t.pm_visits},amVisits:function(t){return t.am_visits},pharmacyVisits:function(t){return t.pharmacy_visits},allVisits:function(t){return[].concat(is(t.pm_visits),is(t.am_visits))},fetchedReports:function(t){return t.fetched}},mutations:{},actions:{reportGetAll:function(t,e){var s=t.state;s.pm_visits.length&&!e||(s.fetched=!1,d.a.get("rep/v1/reports/pm").then((function(t){var e=t.data;e.message="PM reports loaded",ts.a.methods.handleResponse(e,(function(t){s.pm_visits=t.data,s.fetched=!0}))})))},amGetAll:function(t,e){var s=t.state;s.am_visits.length&&!e||(s.fetched=!1,d.a.get("rep/v1/reports/am").then((function(t){var e=t.data;e.message="AM reports loaded",ts.a.methods.handleResponse(e,(function(t){s.am_visits=t.data,s.fetched=!0}))})))},pharmacyReportGetAll:function(t,e){var s=t.state;s.pharmacy_visits.length&&!e||(s.fetched=!1,d.a.get("rep/v1/reports/pharmacy").then((function(t){var e=t.data;e.message="Pharmacy reports loaded",ts.a.methods.handleResponse(e,(function(t){s.pharmacy_visits=t.data,s.fetched=!0}))})))}}};r.a.use(u.default);var cs=new u.default.Store({state:{coaches:[]},mutations:{},getters:{coaches:function(t){return t.coaches}},actions:{getCoaches:function(t){var e=t.state;d.a.get("rep/v1/coach").then((function(t){var s=t.data;e.coaches=s.data}))}},modules:{AppModule:m,Customer:es,Workplace:ss,Planner:ns,Report:ls}}),us=s(13),ds=s(22),ps=s(37),ms=s(31),vs=s.n(ms),fs=s(18);r.a.use(vs.a,{duration:4e3,iconPack:"fontawesome",action:{onClick:function(t,e){e.goAway(0)},class:"small text-light",icon:"times"},position:"top-left"}),r.a.mixin(ts.a),Object.keys(ds).forEach((function(t){Object(us.extend)(t,ds[t])})),Object(us.localize)(ps),r.a.component("ValidationObserver",us.ValidationObserver),r.a.component("ValidationProvider",us.ValidationProvider),r.a.component("LoaderComponent",fs.a);new r.a({render:function(t){return t(c)},store:cs,router:Ze}).$mount("#app")},,,,,function(t,e){},,function(t,e){},,function(t,e){},,function(t,e){}],[[78,0,1]]]);